"use strict";function ownKeys(b,c){var d=Object.keys(b);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(b);if(c){e=e.filter(function(a){return Object.getOwnPropertyDescriptor(b,a).enumerable})}d.push.apply(d,e)}return d}function _objectSpread(b){for(var i=1;i<arguments.length;i++){var c=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(c),true).forEach(function(a){_defineProperty(b,a,c[a])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(b,Object.getOwnPropertyDescriptors(c))}else{ownKeys(Object(c)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))})}}return b}function _get2(f,g,h){if(typeof Reflect!=="undefined"&&Reflect.get){_get2=Reflect.get}else{_get2=function _get(a,b,c){var d=_superPropBase(a,b);if(!d)return;var e=Object.getOwnPropertyDescriptor(d,b);if(e.get){return e.get.call(c)}return e.value}}return _get2(f,g,h||f)}function _superPropBase(a,b){while(!Object.prototype.hasOwnProperty.call(a,b)){a=_getPrototypeOf(a);if(a===null)break}return a}function _inherits(a,b){if(typeof b!=="function"&&b!==null){throw new TypeError("Super expression must either be null or a function");}a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:true,configurable:true}});if(b)_setPrototypeOf(a,b)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _createSuper(c){var d=_isNativeReflectConstruct();return function _createSuperInternal(){var a=_getPrototypeOf(c),result;if(d){var b=_getPrototypeOf(this).constructor;result=Reflect.construct(a,arguments,b)}else{result=a.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(a,b){if(b&&(_typeof(b)==="object"||typeof b==="function")){return b}return _assertThisInitialized(a)}function _assertThisInitialized(a){if(a===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return a}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _defineProperty(a,b,c){if(b in a){Object.defineProperty(a,b,{value:c,enumerable:true,configurable:true,writable:true})}else{a[b]=c}return a}function _createForOfIteratorHelper(o,b){var c=typeof Symbol!=="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(!c){if(Array.isArray(o)||(c=_unsupportedIterableToArray(o))||b&&o&&typeof o.length==="number"){if(c)o=c;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]}},e:function e(a){throw a;},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var d=true,didErr=false,err;return{s:function s(){c=c.call(o)},n:function n(){var a=c.next();d=a.done;return a},e:function e(a){didErr=true;err=a},f:function f(){try{if(!d&&c.return!=null)c.return()}finally{if(didErr)throw err;}}}}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,a){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,a);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,a)}function _iterableToArray(a){if(typeof Symbol!=="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){if(b==null||b>a.length)b=a.length;for(var i=0,arr2=new Array(b);i<b;i++){arr2[i]=a[i]}return arr2}function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(a,b){for(var i=0;i<b.length;i++){var c=b[i];c.enumerable=c.enumerable||false;c.configurable=true;if("value"in c)c.writable=true;Object.defineProperty(a,c.key,c)}}function _createClass(a,b,c){if(b)_defineProperties(a.prototype,b);if(c)_defineProperties(a,c);return a}function _typeof(b){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(a){return typeof a}}else{_typeof=function _typeof(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(b)}(function(a,b){(typeof exports==="undefined"?"undefined":_typeof(exports))==='object'&&typeof module!=='undefined'?module.exports=b():typeof define==='function'&&define.amd?define(b):(a=typeof globalThis!=='undefined'?globalThis:a||self,a.Chart=b())})(void 0,function(){'use strict';function fontString(a,b,c){return b+' '+a+'px '+c}var L=function(){if(typeof window==='undefined'){return function(a){return a()}}return window.requestAnimationFrame}();function throttled(b,c,d){var e=d||function(a){return Array.prototype.slice.call(a)};var f=false;var g=[];return function(){for(var a=arguments.length,rest=new Array(a),_key=0;_key<a;_key++){rest[_key]=arguments[_key]}g=e(rest);if(!f){f=true;L.call(window,function(){f=false;b.apply(c,g)})}}}function debounce(a,b){var c;return function(){if(b){clearTimeout(c);c=setTimeout(a,b)}else{a()}return b}}var M=function M(a){return a==='start'?'left':a==='end'?'right':'center'};var N=function N(a,b,c){return a==='start'?b:a==='end'?c:(b+c)/2};var O=function O(a,b,c){return a==='right'?c:a==='center'?(b+c)/2:b};var P=function(){function P(){_classCallCheck(this,P);this._request=null;this._charts=new Map();this._running=false;this._lastDate=undefined}_createClass(P,[{key:"_notify",value:function _notify(b,c,d,e){var f=c.listeners[e];var g=c.duration;f.forEach(function(a){return a({chart:b,initial:c.initial,numSteps:g,currentStep:Math.min(d-c.start,g)})})}},{key:"_refresh",value:function _refresh(){var a=this;if(a._request){return}a._running=true;a._request=L.call(window,function(){a._update();a._request=null;if(a._running){a._refresh()}})}},{key:"_update",value:function _update(){var f=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Date.now();var g=this;var h=0;g._charts.forEach(function(a,b){if(!a.running||!a.items.length){return}var c=a.items;var i=c.length-1;var d=false;var e;for(;i>=0;--i){e=c[i];if(e._active){if(e._total>a.duration){a.duration=e._total}e.tick(f);d=true}else{c[i]=c[c.length-1];c.pop()}}if(d){b.draw();g._notify(b,a,f,'progress')}if(!c.length){a.running=false;g._notify(b,a,f,'complete');a.initial=false}h+=c.length});g._lastDate=f;if(h===0){g._running=false}}},{key:"_getAnims",value:function _getAnims(a){var b=this._charts;var c=b.get(a);if(!c){c={running:false,initial:true,items:[],listeners:{complete:[],progress:[]}};b.set(a,c)}return c}},{key:"listen",value:function listen(a,b,c){this._getAnims(a).listeners[b].push(c)}},{key:"add",value:function add(a,b){var c;if(!b||!b.length){return}(c=this._getAnims(a).items).push.apply(c,_toConsumableArray(b))}},{key:"has",value:function has(a){return this._getAnims(a).items.length>0}},{key:"start",value:function start(c){var d=this._charts.get(c);if(!d){return}d.running=true;d.start=Date.now();d.duration=d.items.reduce(function(a,b){return Math.max(a,b._duration)},0);this._refresh()}},{key:"running",value:function running(a){if(!this._running){return false}var b=this._charts.get(a);if(!b||!b.running||!b.items.length){return false}return true}},{key:"stop",value:function stop(a){var b=this._charts.get(a);if(!b||!b.items.length){return}var c=b.items;var i=c.length-1;for(;i>=0;--i){c[i].cancel()}b.items=[];this._notify(a,b,Date.now(),'complete')}},{key:"remove",value:function remove(a){return this._charts.delete(a)}}]);return P}();var Q=new P();var R={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};var S='0123456789ABCDEF';var T=function T(b){return S[b&0xF]};var U=function U(b){return S[(b&0xF0)>>4]+S[b&0xF]};var V=function V(b){return(b&0xF0)>>4===(b&0xF)};function isShort(v){return V(v.r)&&V(v.g)&&V(v.b)&&V(v.a)}function hexParse(a){var b=a.length;var c;if(a[0]==='#'){if(b===4||b===5){c={r:255&R[a[1]]*17,g:255&R[a[2]]*17,b:255&R[a[3]]*17,a:b===5?R[a[4]]*17:255}}else if(b===7||b===9){c={r:R[a[1]]<<4|R[a[2]],g:R[a[3]]<<4|R[a[4]],b:R[a[5]]<<4|R[a[6]],a:b===9?R[a[7]]<<4|R[a[8]]:255}}}return c}function _hexString(v){var f=isShort(v)?T:U;return v?'#'+f(v.r)+f(v.g)+f(v.b)+(v.a<255?f(v.a):''):v}function round(v){return v+0.5|0}var W=function W(v,l,h){return Math.max(Math.min(v,h),l)};function p2b(v){return W(round(v*2.55),0,255)}function n2b(v){return W(round(v*255),0,255)}function b2n(v){return W(round(v/2.55)/100,0,1)}function n2p(v){return W(round(v*100),0,100)}var X=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(c){var m=X.exec(c);var a=255;var r,g,b;if(!m){return}if(m[7]!==r){var v=+m[7];a=255&(m[8]?p2b(v):v*255)}r=+m[1];g=+m[3];b=+m[5];r=255&(m[2]?p2b(r):r);g=255&(m[4]?p2b(g):g);b=255&(m[6]?p2b(b):b);return{r:r,g:g,b:b,a:a}}function _rgbString(v){return v&&(v.a<255?"rgba(".concat(v.r,", ").concat(v.g,", ").concat(v.b,", ").concat(b2n(v.a),")"):"rgb(".concat(v.r,", ").concat(v.g,", ").concat(v.b,")"))}var Y=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(h,s,l){var a=s*Math.min(l,1-l);var f=function f(n){var k=arguments.length>1&&arguments[1]!==undefined?arguments[1]:(n+h/30)%12;return l-a*Math.max(Math.min(k-3,9-k,1),-1)};return[f(0),f(8),f(4)]}function hsv2rgbn(h,s,v){var f=function f(n){var k=arguments.length>1&&arguments[1]!==undefined?arguments[1]:(n+h/60)%6;return v-v*s*Math.max(Math.min(k,4-k,1),0)};return[f(5),f(3),f(1)]}function hwb2rgbn(h,w,b){var a=hsl2rgbn(h,1,0.5);var i;if(w+b>1){i=1/(w+b);w*=i;b*=i}for(i=0;i<3;i++){a[i]*=1-w-b;a[i]+=w}return a}function rgb2hsl(v){var a=255;var r=v.r/a;var g=v.g/a;var b=v.b/a;var c=Math.max(r,g,b);var e=Math.min(r,g,b);var l=(c+e)/2;var h,s,d;if(c!==e){d=c-e;s=l>0.5?d/(2-c-e):d/(c+e);h=c===r?(g-b)/d+(g<b?6:0):c===g?(b-r)/d+2:(r-g)/d+4;h=h*60+0.5}return[h|0,s||0,l]}function calln(f,a,b,c){return(Array.isArray(a)?f(a[0],a[1],a[2]):f(a,b,c)).map(n2b)}function hsl2rgb(h,s,l){return calln(hsl2rgbn,h,s,l)}function hwb2rgb(h,w,b){return calln(hwb2rgbn,h,w,b)}function hsv2rgb(h,s,v){return calln(hsv2rgbn,h,s,v)}function hue(h){return(h%360+360)%360}function hueParse(b){var m=Y.exec(b);var a=255;var v;if(!m){return}if(m[5]!==v){a=m[6]?p2b(+m[5]):n2b(+m[5])}var h=hue(+m[2]);var c=+m[3]/100;var d=+m[4]/100;if(m[1]==='hwb'){v=hwb2rgb(h,c,d)}else if(m[1]==='hsv'){v=hsv2rgb(h,c,d)}else{v=hsl2rgb(h,c,d)}return{r:v[0],g:v[1],b:v[2],a:a}}function _rotate(v,a){var h=rgb2hsl(v);h[0]=hue(h[0]+a);h=hsl2rgb(h);v.r=h[0];v.g=h[1];v.b=h[2]}function _hslString(v){if(!v){return}var a=rgb2hsl(v);var h=a[0];var s=n2p(a[1]);var l=n2p(a[2]);return v.a<255?"hsla(".concat(h,", ").concat(s,"%, ").concat(l,"%, ").concat(b2n(v.a),")"):"hsl(".concat(h,", ").concat(s,"%, ").concat(l,"%)")}var Z={x:'dark',Z:'light',Y:'re',X:'blu',W:'gr',V:'medium',U:'slate',A:'ee',T:'ol',S:'or',B:'ra',C:'lateg',D:'ights',R:'in',Q:'turquois',E:'hi',P:'ro',O:'al',N:'le',M:'de',L:'yello',F:'en',K:'ch',G:'arks',H:'ea',I:'ightg',J:'wh'};var ba={OiceXe:'f0f8ff',antiquewEte:'faebd7',aqua:'ffff',aquamarRe:'7fffd4',azuY:'f0ffff',beige:'f5f5dc',bisque:'ffe4c4',black:'0',blanKedOmond:'ffebcd',Xe:'ff',XeviTet:'8a2be2',bPwn:'a52a2a',burlywood:'deb887',caMtXe:'5f9ea0',KartYuse:'7fff00',KocTate:'d2691e',cSO:'ff7f50',cSnflowerXe:'6495ed',cSnsilk:'fff8dc',crimson:'dc143c',cyan:'ffff',xXe:'8b',xcyan:'8b8b',xgTMnPd:'b8860b',xWay:'a9a9a9',xgYF:'6400',xgYy:'a9a9a9',xkhaki:'bdb76b',xmagFta:'8b008b',xTivegYF:'556b2f',xSange:'ff8c00',xScEd:'9932cc',xYd:'8b0000',xsOmon:'e9967a',xsHgYF:'8fbc8f',xUXe:'483d8b',xUWay:'2f4f4f',xUgYy:'2f4f4f',xQe:'ced1',xviTet:'9400d3',dAppRk:'ff1493',dApskyXe:'bfff',dimWay:'696969',dimgYy:'696969',dodgerXe:'1e90ff',fiYbrick:'b22222',flSOwEte:'fffaf0',foYstWAn:'228b22',fuKsia:'ff00ff',gaRsbSo:'dcdcdc',ghostwEte:'f8f8ff',gTd:'ffd700',gTMnPd:'daa520',Way:'808080',gYF:'8000',gYFLw:'adff2f',gYy:'808080',honeyMw:'f0fff0',hotpRk:'ff69b4',RdianYd:'cd5c5c',Rdigo:'4b0082',ivSy:'fffff0',khaki:'f0e68c',lavFMr:'e6e6fa',lavFMrXsh:'fff0f5',lawngYF:'7cfc00',NmoncEffon:'fffacd',ZXe:'add8e6',ZcSO:'f08080',Zcyan:'e0ffff',ZgTMnPdLw:'fafad2',ZWay:'d3d3d3',ZgYF:'90ee90',ZgYy:'d3d3d3',ZpRk:'ffb6c1',ZsOmon:'ffa07a',ZsHgYF:'20b2aa',ZskyXe:'87cefa',ZUWay:'778899',ZUgYy:'778899',ZstAlXe:'b0c4de',ZLw:'ffffe0',lime:'ff00',limegYF:'32cd32',lRF:'faf0e6',magFta:'ff00ff',maPon:'800000',VaquamarRe:'66cdaa',VXe:'cd',VScEd:'ba55d3',VpurpN:'9370db',VsHgYF:'3cb371',VUXe:'7b68ee',VsprRggYF:'fa9a',VQe:'48d1cc',VviTetYd:'c71585',midnightXe:'191970',mRtcYam:'f5fffa',mistyPse:'ffe4e1',moccasR:'ffe4b5',navajowEte:'ffdead',navy:'80',Tdlace:'fdf5e6',Tive:'808000',TivedBb:'6b8e23',Sange:'ffa500',SangeYd:'ff4500',ScEd:'da70d6',pOegTMnPd:'eee8aa',pOegYF:'98fb98',pOeQe:'afeeee',pOeviTetYd:'db7093',papayawEp:'ffefd5',pHKpuff:'ffdab9',peru:'cd853f',pRk:'ffc0cb',plum:'dda0dd',powMrXe:'b0e0e6',purpN:'800080',YbeccapurpN:'663399',Yd:'ff0000',Psybrown:'bc8f8f',PyOXe:'4169e1',saddNbPwn:'8b4513',sOmon:'fa8072',sandybPwn:'f4a460',sHgYF:'2e8b57',sHshell:'fff5ee',siFna:'a0522d',silver:'c0c0c0',skyXe:'87ceeb',UXe:'6a5acd',UWay:'708090',UgYy:'708090',snow:'fffafa',sprRggYF:'ff7f',stAlXe:'4682b4',tan:'d2b48c',teO:'8080',tEstN:'d8bfd8',tomato:'ff6347',Qe:'40e0d0',viTet:'ee82ee',JHt:'f5deb3',wEte:'ffffff',wEtesmoke:'f5f5f5',Lw:'ffff00',LwgYF:'9acd32'};function unpack(){var a={};var b=Object.keys(ba);var c=Object.keys(Z);var i,j,k,ok,nk;for(i=0;i<b.length;i++){ok=nk=b[i];for(j=0;j<c.length;j++){k=c[j];nk=nk.replace(k,Z[k])}k=parseInt(ba[ok],16);a[nk]=[k>>16&0xFF,k>>8&0xFF,k&0xFF]}return a}var bb;function nameParse(b){if(!bb){bb=unpack();bb.transparent=[0,0,0,0]}var a=bb[b.toLowerCase()];return a&&{r:a[0],g:a[1],b:a[2],a:a.length===4?a[3]:255}}function modHSL(v,i,a){if(v){var b=rgb2hsl(v);b[i]=Math.max(0,Math.min(b[i]+b[i]*a,i===0?360:1));b=hsl2rgb(b);v.r=b[0];v.g=b[1];v.b=b[2]}}function clone$1(v,a){return v?Object.assign(a||{},v):v}function fromObject(a){var v={r:0,g:0,b:0,a:255};if(Array.isArray(a)){if(a.length>=3){v={r:a[0],g:a[1],b:a[2],a:255};if(a.length>3){v.a=n2b(a[3])}}}else{v=clone$1(a,{r:0,g:0,b:0,a:1});v.a=n2b(v.a)}return v}function functionParse(a){if(a.charAt(0)==='r'){return rgbParse(a)}return hueParse(a)}var bc=function(){function bc(a){_classCallCheck(this,bc);if(a instanceof bc){return a}var b=_typeof(a);var v;if(b==='object'){v=fromObject(a)}else if(b==='string'){v=hexParse(a)||nameParse(a)||functionParse(a)}this._rgb=v;this._valid=!!v}_createClass(bc,[{key:"valid",get:function get(){return this._valid}},{key:"rgb",get:function get(){var v=clone$1(this._rgb);if(v){v.a=b2n(v.a)}return v},set:function set(a){this._rgb=fromObject(a)}},{key:"rgbString",value:function rgbString(){return this._valid?_rgbString(this._rgb):this._rgb}},{key:"hexString",value:function hexString(){return this._valid?_hexString(this._rgb):this._rgb}},{key:"hslString",value:function hslString(){return this._valid?_hslString(this._rgb):this._rgb}},{key:"mix",value:function mix(b,c){var d=this;if(b){var e=d.rgb;var f=b.rgb;var g;var p=c===g?0.5:c;var w=2*p-1;var a=e.a-f.a;var h=((w*a===-1?w:(w+a)/(1+w*a))+1)/2.0;g=1-h;e.r=0xFF&h*e.r+g*f.r+0.5;e.g=0xFF&h*e.g+g*f.g+0.5;e.b=0xFF&h*e.b+g*f.b+0.5;e.a=p*e.a+(1-p)*f.a;d.rgb=e}return d}},{key:"clone",value:function clone(){return new bc(this.rgb)}},{key:"alpha",value:function alpha(a){this._rgb.a=n2b(a);return this}},{key:"clearer",value:function clearer(a){var b=this._rgb;b.a*=1-a;return this}},{key:"greyscale",value:function greyscale(){var a=this._rgb;var b=round(a.r*0.3+a.g*0.59+a.b*0.11);a.r=a.g=a.b=b;return this}},{key:"opaquer",value:function opaquer(a){var b=this._rgb;b.a*=1+a;return this}},{key:"negate",value:function negate(){var v=this._rgb;v.r=255-v.r;v.g=255-v.g;v.b=255-v.b;return this}},{key:"lighten",value:function lighten(a){modHSL(this._rgb,2,a);return this}},{key:"darken",value:function darken(a){modHSL(this._rgb,2,-a);return this}},{key:"saturate",value:function saturate(a){modHSL(this._rgb,1,a);return this}},{key:"desaturate",value:function desaturate(a){modHSL(this._rgb,1,-a);return this}},{key:"rotate",value:function rotate(a){_rotate(this._rgb,a);return this}}]);return bc}();function index_esm(a){return new bc(a)}var bd=function bd(a){return a instanceof CanvasGradient||a instanceof CanvasPattern};function _color(a){return bd(a)?a:index_esm(a)}function getHoverColor(a){return bd(a)?a:index_esm(a).saturate(0.5).darken(0.1).hexString()}function noop(){}var be=function(){var a=0;return function(){return a++}}();function isNullOrUndef(a){return a===null||typeof a==='undefined'}function isArray(a){if(Array.isArray&&Array.isArray(a)){return true}var b=Object.prototype.toString.call(a);if(b.substr(0,7)==='[object'&&b.substr(-6)==='Array]'){return true}return false}function isObject(a){return a!==null&&Object.prototype.toString.call(a)==='[object Object]'}var bf=function bf(a){return(typeof a==='number'||a instanceof Number)&&isFinite(+a)};function finiteOrDefault(a,b){return bf(a)?a:b}function valueOrDefault(a,b){return typeof a==='undefined'?b:a}var bg=function bg(a,b){return typeof a==='string'&&a.endsWith('%')?parseFloat(a)/100:a/b};var bh=function bh(a,b){return typeof a==='string'&&a.endsWith('%')?parseFloat(a)/100*b:+a};function callback(a,b,c){if(a&&typeof a.call==='function'){return a.apply(c,b)}}function each(a,b,c,d){var i,len,keys;if(isArray(a)){len=a.length;if(d){for(i=len-1;i>=0;i--){b.call(c,a[i],i)}}else{for(i=0;i<len;i++){b.call(c,a[i],i)}}}else if(isObject(a)){keys=Object.keys(a);len=keys.length;for(i=0;i<len;i++){b.call(c,a[keys[i]],keys[i])}}}function _elementsEqual(a,b){var i,ilen,v0,v1;if(!a||!b||a.length!==b.length){return false}for(i=0,ilen=a.length;i<ilen;++i){v0=a[i];v1=b[i];if(v0.datasetIndex!==v1.datasetIndex||v0.index!==v1.index){return false}}return true}function clone(a){if(isArray(a)){return a.map(clone)}if(isObject(a)){var b=Object.create(null);var c=Object.keys(a);var d=c.length;var k=0;for(;k<d;++k){b[c[k]]=clone(a[c[k]])}return b}return a}function isValidKey(a){return['__proto__','prototype','constructor'].indexOf(a)===-1}function _merger(a,b,c,d){if(!isValidKey(a)){return}var e=b[a];var f=c[a];if(isObject(e)&&isObject(f)){merge(e,f,d)}else{b[a]=clone(f)}}function merge(a,b,c){var d=isArray(b)?b:[b];var e=d.length;if(!isObject(a)){return a}c=c||{};var f=c.merger||_merger;for(var i=0;i<e;++i){b=d[i];if(!isObject(b)){continue}var g=Object.keys(b);for(var k=0,klen=g.length;k<klen;++k){f(g[k],a,b,c)}}return a}function mergeIf(a,b){return merge(a,b,{merger:_mergerIf})}function _mergerIf(a,b,c){if(!isValidKey(a)){return}var d=b[a];var e=c[a];if(isObject(d)&&isObject(e)){mergeIf(d,e)}else if(!Object.prototype.hasOwnProperty.call(b,a)){b[a]=clone(e)}}function _deprecated(a,b,c,d){if(b!==undefined){console.warn(a+': "'+c+'" is deprecated. Please use "'+d+'" instead')}}var bi='';var bj='.';function indexOfDotOrLength(a,b){var c=a.indexOf(bj,b);return c===-1?a.length:c}function resolveObjectKey(a,b){if(b===bi){return a}var c=0;var d=indexOfDotOrLength(b,c);while(a&&d>c){a=a[b.substr(c,d-c)];c=d+1;d=indexOfDotOrLength(b,c)}return a}function _capitalize(a){return a.charAt(0).toUpperCase()+a.slice(1)}var bk=function bk(a){return typeof a!=='undefined'};var bl=function bl(a){return typeof a==='function'};var bm=function bm(a,b){if(a.size!==b.size){return false}var c=_createForOfIteratorHelper(a),_step;try{for(c.s();!(_step=c.n()).done;){var d=_step.value;if(!b.has(d)){return false}}}catch(err){c.e(err)}finally{c.f()}return true};var bn=Object.create(null);var bo=Object.create(null);function getScope$1(a,b){if(!b){return a}var c=b.split('.');for(var i=0,n=c.length;i<n;++i){var k=c[i];a=a[k]||(a[k]=Object.create(null))}return a}function _set(a,b,c){if(typeof b==='string'){return merge(getScope$1(a,b),c)}return merge(getScope$1(a,''),b)}var bp=function(){function bp(c){_classCallCheck(this,bp);this.animation=undefined;this.backgroundColor='rgba(0,0,0,0.1)';this.borderColor='rgba(0,0,0,0.1)';this.color='#666';this.datasets={};this.devicePixelRatio=function(a){return a.chart.platform.getDevicePixelRatio()};this.elements={};this.events=['mousemove','mouseout','click','touchstart','touchmove'];this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:'normal',lineHeight:1.2,weight:null};this.hover={};this.hoverBackgroundColor=function(a,b){return getHoverColor(b.backgroundColor)};this.hoverBorderColor=function(a,b){return getHoverColor(b.borderColor)};this.hoverColor=function(a,b){return getHoverColor(b.color)};this.indexAxis='x';this.interaction={mode:'nearest',intersect:true};this.maintainAspectRatio=true;this.onHover=null;this.onClick=null;this.parsing=true;this.plugins={};this.responsive=true;this.scale=undefined;this.scales={};this.showLine=true;this.describe(c)}_createClass(bp,[{key:"set",value:function set(a,b){return _set(this,a,b)}},{key:"get",value:function get(a){return getScope$1(this,a)}},{key:"describe",value:function describe(a,b){return _set(bo,a,b)}},{key:"override",value:function override(a,b){return _set(bn,a,b)}},{key:"route",value:function route(c,d,e,f){var g;var h=getScope$1(this,c);var i=getScope$1(this,e);var j='_'+d;Object.defineProperties(h,(g={},_defineProperty(g,j,{value:h[d],writable:true}),_defineProperty(g,d,{enumerable:true,get:function get(){var a=this[j];var b=i[f];if(isObject(a)){return Object.assign({},b,a)}return valueOrDefault(a,b)},set:function set(a){this[j]=a}}),g))}}]);return bp}();var bq=new bp({_scriptable:function _scriptable(a){return!a.startsWith('on')},_indexable:function _indexable(a){return a!=='events'},hover:{_fallback:'interaction'},interaction:{_scriptable:false,_indexable:false}});var br=Math.PI;var bs=2*br;var bt=bs+br;var bu=Number.POSITIVE_INFINITY;var bv=br/180;var bw=br/2;var bx=br/4;var by=br*2/3;var bz=Math.log10;var bA=Math.sign;function niceNum(a){var b=Math.pow(10,Math.floor(bz(a)));var c=a/b;var d=c<=1?1:c<=2?2:c<=5?5:10;return d*b}function _factorize(c){var d=[];var e=Math.sqrt(c);var i;for(i=1;i<e;i++){if(c%i===0){d.push(i);d.push(c/i)}}if(e===(e|0)){d.push(e)}d.sort(function(a,b){return a-b}).pop();return d}function isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)}function almostEquals(x,y,a){return Math.abs(x-y)<a}function almostWhole(x,a){var b=Math.round(x);return b-a<=x&&b+a>=x}function _setMinAndMaxByKey(a,b,c){var i,ilen,value;for(i=0,ilen=a.length;i<ilen;i++){value=a[i][c];if(!isNaN(value)){b.min=Math.min(b.min,value);b.max=Math.max(b.max,value)}}}function toRadians(a){return a*(br/180)}function toDegrees(a){return a*(180/br)}function _decimalPlaces(x){if(!bf(x)){return}var e=1;var p=0;while(Math.round(x*e)/e!==x){e*=10;p++}return p}function getAngleFromPoint(a,b){var c=b.x-a.x;var d=b.y-a.y;var e=Math.sqrt(c*c+d*d);var f=Math.atan2(d,c);if(f<-0.5*br){f+=bs}return{angle:f,distance:e}}function distanceBetweenPoints(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))}function _angleDiff(a,b){return(a-b+bt)%bs-br}function _normalizeAngle(a){return(a%bs+bs)%bs}function _angleBetween(b,c,d){var a=_normalizeAngle(b);var s=_normalizeAngle(c);var e=_normalizeAngle(d);var f=_normalizeAngle(s-a);var g=_normalizeAngle(e-a);var h=_normalizeAngle(a-s);var i=_normalizeAngle(a-e);return a===s||a===e||f>g&&h<i}function _limitValue(a,b,c){return Math.max(b,Math.min(c,a))}function _int16Range(a){return _limitValue(a,-32768,32767)}function toFontString(a){if(!a||isNullOrUndef(a.size)||isNullOrUndef(a.family)){return null}return(a.style?a.style+' ':'')+(a.weight?a.weight+' ':'')+a.size+'px '+a.family}function _measureText(a,b,c,d,e){var f=b[e];if(!f){f=b[e]=a.measureText(e).width;c.push(e)}if(f>d){d=f}return d}function _longestText(a,b,c,d){d=d||{};var e=d.data=d.data||{};var f=d.garbageCollect=d.garbageCollect||[];if(d.font!==b){e=d.data={};f=d.garbageCollect=[];d.font=b}a.save();a.font=b;var g=0;var h=c.length;var i,j,jlen,thing,nestedThing;for(i=0;i<h;i++){thing=c[i];if(thing!==undefined&&thing!==null&&isArray(thing)!==true){g=_measureText(a,e,f,g,thing)}else if(isArray(thing)){for(j=0,jlen=thing.length;j<jlen;j++){nestedThing=thing[j];if(nestedThing!==undefined&&nestedThing!==null&&!isArray(nestedThing)){g=_measureText(a,e,f,g,nestedThing)}}}}a.restore();var k=f.length/2;if(k>c.length){for(i=0;i<k;i++){delete e[f[i]]}f.splice(0,k)}return g}function _alignPixel(a,b,c){var d=a.currentDevicePixelRatio;var e=c!==0?Math.max(c/2,0.5):0;return Math.round((b-e)*d)/d+e}function clearCanvas(a,b){b=b||a.getContext('2d');b.save();b.resetTransform();b.clearRect(0,0,a.width,a.height);b.restore()}function drawPoint(a,b,x,y){var c,xOffset,yOffset,size,cornerRadius;var d=b.pointStyle;var e=b.rotation;var f=b.radius;var g=(e||0)*bv;if(d&&_typeof(d)==='object'){c=d.toString();if(c==='[object HTMLImageElement]'||c==='[object HTMLCanvasElement]'){a.save();a.translate(x,y);a.rotate(g);a.drawImage(d,-d.width/2,-d.height/2,d.width,d.height);a.restore();return}}if(isNaN(f)||f<=0){return}a.beginPath();switch(d){default:a.arc(x,y,f,0,bs);a.closePath();break;case'triangle':a.moveTo(x+Math.sin(g)*f,y-Math.cos(g)*f);g+=by;a.lineTo(x+Math.sin(g)*f,y-Math.cos(g)*f);g+=by;a.lineTo(x+Math.sin(g)*f,y-Math.cos(g)*f);a.closePath();break;case'rectRounded':cornerRadius=f*0.516;size=f-cornerRadius;xOffset=Math.cos(g+bx)*size;yOffset=Math.sin(g+bx)*size;a.arc(x-xOffset,y-yOffset,cornerRadius,g-br,g-bw);a.arc(x+yOffset,y-xOffset,cornerRadius,g-bw,g);a.arc(x+xOffset,y+yOffset,cornerRadius,g,g+bw);a.arc(x-yOffset,y+xOffset,cornerRadius,g+bw,g+br);a.closePath();break;case'rect':if(!e){size=Math.SQRT1_2*f;a.rect(x-size,y-size,2*size,2*size);break}g+=bx;case'rectRot':xOffset=Math.cos(g)*f;yOffset=Math.sin(g)*f;a.moveTo(x-xOffset,y-yOffset);a.lineTo(x+yOffset,y-xOffset);a.lineTo(x+xOffset,y+yOffset);a.lineTo(x-yOffset,y+xOffset);a.closePath();break;case'crossRot':g+=bx;case'cross':xOffset=Math.cos(g)*f;yOffset=Math.sin(g)*f;a.moveTo(x-xOffset,y-yOffset);a.lineTo(x+xOffset,y+yOffset);a.moveTo(x+yOffset,y-xOffset);a.lineTo(x-yOffset,y+xOffset);break;case'star':xOffset=Math.cos(g)*f;yOffset=Math.sin(g)*f;a.moveTo(x-xOffset,y-yOffset);a.lineTo(x+xOffset,y+yOffset);a.moveTo(x+yOffset,y-xOffset);a.lineTo(x-yOffset,y+xOffset);g+=bx;xOffset=Math.cos(g)*f;yOffset=Math.sin(g)*f;a.moveTo(x-xOffset,y-yOffset);a.lineTo(x+xOffset,y+yOffset);a.moveTo(x+yOffset,y-xOffset);a.lineTo(x-yOffset,y+xOffset);break;case'line':xOffset=Math.cos(g)*f;yOffset=Math.sin(g)*f;a.moveTo(x-xOffset,y-yOffset);a.lineTo(x+xOffset,y+yOffset);break;case'dash':a.moveTo(x,y);a.lineTo(x+Math.cos(g)*f,y+Math.sin(g)*f);break}a.fill();if(b.borderWidth>0){a.stroke()}}function _isPointInArea(a,b,c){c=c||0.5;return a&&a.x>b.left-c&&a.x<b.right+c&&a.y>b.top-c&&a.y<b.bottom+c}function clipArea(a,b){a.save();a.beginPath();a.rect(b.left,b.top,b.right-b.left,b.bottom-b.top);a.clip()}function unclipArea(a){a.restore()}function _steppedLineTo(a,b,c,d,e){if(!b){return a.lineTo(c.x,c.y)}if(e==='middle'){var f=(b.x+c.x)/2.0;a.lineTo(f,b.y);a.lineTo(f,c.y)}else if(e==='after'!==!!d){a.lineTo(b.x,c.y)}else{a.lineTo(c.x,b.y)}a.lineTo(c.x,c.y)}function _bezierCurveTo(a,b,c,d){if(!b){return a.lineTo(c.x,c.y)}a.bezierCurveTo(d?b.cp1x:b.cp2x,d?b.cp1y:b.cp2y,d?c.cp2x:c.cp1x,d?c.cp2y:c.cp1y,c.x,c.y)}function renderText(a,b,x,y,c){var d=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};var e=isArray(b)?b:[b];var f=d.strokeWidth>0&&d.strokeColor!=='';var i,line;a.save();if(d.translation){a.translate(d.translation[0],d.translation[1])}if(!isNullOrUndef(d.rotation)){a.rotate(d.rotation)}a.font=c.string;if(d.color){a.fillStyle=d.color}if(d.textAlign){a.textAlign=d.textAlign}if(d.textBaseline){a.textBaseline=d.textBaseline}for(i=0;i<e.length;++i){line=e[i];if(f){if(d.strokeColor){a.strokeStyle=d.strokeColor}if(!isNullOrUndef(d.strokeWidth)){a.lineWidth=d.strokeWidth}a.strokeText(line,x,y,d.maxWidth)}a.fillText(line,x,y,d.maxWidth);if(d.strikethrough||d.underline){var g=a.measureText(line);var h=x-g.actualBoundingBoxLeft;var j=x+g.actualBoundingBoxRight;var k=y-g.actualBoundingBoxAscent;var l=y+g.actualBoundingBoxDescent;var m=d.strikethrough?(k+l)/2:l;a.strokeStyle=a.fillStyle;a.beginPath();a.lineWidth=d.decorationWidth||2;a.moveTo(h,m);a.lineTo(j,m);a.stroke()}y+=c.lineHeight}a.restore()}function addRoundedRectPath(a,b){var x=b.x,y=b.y,w=b.w,h=b.h,radius=b.radius;a.arc(x+radius.topLeft,y+radius.topLeft,radius.topLeft,-bw,br,true);a.lineTo(x,y+h-radius.bottomLeft);a.arc(x+radius.bottomLeft,y+h-radius.bottomLeft,radius.bottomLeft,br,bw,true);a.lineTo(x+w-radius.bottomRight,y+h);a.arc(x+w-radius.bottomRight,y+h-radius.bottomRight,radius.bottomRight,bw,0,true);a.lineTo(x+w,y+radius.topRight);a.arc(x+w-radius.topRight,y+radius.topRight,radius.topRight,0,-bw,true);a.lineTo(x+radius.topLeft,y)}function _lookup(b,c,d){d=d||function(a){return b[a]<c};var e=b.length-1;var f=0;var g;while(e-f>1){g=f+e>>1;if(d(g)){f=g}else{e=g}}return{lo:f,hi:e}}var bB=function bB(b,c,d){return _lookup(b,d,function(a){return b[a][c]<d})};var bC=function bC(b,c,d){return _lookup(b,d,function(a){return b[a][c]>=d})};function _filterBetween(a,b,c){var d=0;var e=a.length;while(d<e&&a[d]<b){d++}while(e>d&&a[e-1]>c){e--}return d>0||e<a.length?a.slice(d,e):a}var bD=['push','pop','shift','splice','unshift'];function listenArrayEvents(g,h){if(g._chartjs){g._chartjs.listeners.push(h);return}Object.defineProperty(g,'_chartjs',{configurable:true,enumerable:false,value:{listeners:[h]}});bD.forEach(function(d){var e='_onData'+_capitalize(d);var f=g[d];Object.defineProperty(g,d,{configurable:true,enumerable:false,value:function value(){for(var b=arguments.length,args=new Array(b),_key2=0;_key2<b;_key2++){args[_key2]=arguments[_key2]}var c=f.apply(this,args);g._chartjs.listeners.forEach(function(a){if(typeof a[e]==='function'){a[e].apply(a,args)}});return c}})})}function unlistenArrayEvents(b,c){var d=b._chartjs;if(!d){return}var e=d.listeners;var f=e.indexOf(c);if(f!==-1){e.splice(f,1)}if(e.length>0){return}bD.forEach(function(a){delete b[a]});delete b._chartjs}function _arrayUnique(b){var c=new Set();var i,ilen;for(i=0,ilen=b.length;i<ilen;++i){c.add(b[i])}if(c.size===ilen){return b}var d=[];c.forEach(function(a){d.push(a)});return d}function _getParentNode(a){var b=a.parentNode;if(b&&b.toString()==='[object ShadowRoot]'){b=b.host}return b}function parseMaxStyle(a,b,c){var d;if(typeof a==='string'){d=parseInt(a,10);if(a.indexOf('%')!==-1){d=d/100*b.parentNode[c]}}else{d=a}return d}var bE=function bE(a){return window.getComputedStyle(a,null)};function getStyle(a,b){return bE(a).getPropertyValue(b)}var bF=['top','right','bottom','left'];function getPositionedStyle(a,b,c){var d={};c=c?'-'+c:'';for(var i=0;i<4;i++){var e=bF[i];d[e]=parseFloat(a[b+'-'+e+c])||0}d.width=d.left+d.right;d.height=d.top+d.bottom;return d}var bG=function bG(x,y,a){return(x>0||y>0)&&(!a||!a.shadowRoot)};function getCanvasPosition(a,b){var e=a.native||a;var c=e.touches;var d=c&&c.length?c[0]:e;var f=d.offsetX,offsetY=d.offsetY;var g=false;var x,y;if(bG(f,offsetY,e.target)){x=f;y=offsetY}else{var h=b.getBoundingClientRect();x=d.clientX-h.left;y=d.clientY-h.top;g=true}return{x:x,y:y,box:g}}function getRelativePosition$1(a,b){var c=b.canvas,currentDevicePixelRatio=b.currentDevicePixelRatio;var d=bE(c);var e=d.boxSizing==='border-box';var f=getPositionedStyle(d,'padding');var g=getPositionedStyle(d,'border','width');var h=getCanvasPosition(a,c),x=h.x,y=h.y,box=h.box;var i=f.left+(box&&g.left);var j=f.top+(box&&g.top);var k=b.width,height=b.height;if(e){k-=f.width+g.width;height-=f.height+g.height}return{x:Math.round((x-i)/k*c.width/currentDevicePixelRatio),y:Math.round((y-j)/height*c.height/currentDevicePixelRatio)}}function getContainerSize(a,b,c){var d,maxHeight;if(b===undefined||c===undefined){var e=_getParentNode(a);if(!e){b=a.clientWidth;c=a.clientHeight}else{var f=e.getBoundingClientRect();var g=bE(e);var h=getPositionedStyle(g,'border','width');var i=getPositionedStyle(g,'padding');b=f.width-i.width-h.width;c=f.height-i.height-h.height;d=parseMaxStyle(g.maxWidth,e,'clientWidth');maxHeight=parseMaxStyle(g.maxHeight,e,'clientHeight')}}return{width:b,height:c,maxWidth:d||bu,maxHeight:maxHeight||bu}}var bH=function bH(v){return Math.round(v*10)/10};function _getMaximumSize(a,b,c,d){var e=bE(a);var f=getPositionedStyle(e,'margin');var g=parseMaxStyle(e.maxWidth,a,'clientWidth')||bu;var h=parseMaxStyle(e.maxHeight,a,'clientHeight')||bu;var i=getContainerSize(a,b,c);var j=i.width,height=i.height;if(e.boxSizing==='content-box'){var k=getPositionedStyle(e,'border','width');var l=getPositionedStyle(e,'padding');j-=l.width+k.width;height-=l.height+k.height}j=Math.max(0,j-f.width);height=Math.max(0,d?Math.floor(j/d):height-f.height);j=bH(Math.min(j,g,i.maxWidth));height=bH(Math.min(height,h,i.maxHeight));if(j&&!height){height=bH(j/2)}return{width:j,height:height}}function retinaScale(a,b,c){var d=a.currentDevicePixelRatio=b||1;var e=a.canvas,width=a.width,height=a.height;e.height=height*d;e.width=width*d;a.ctx.setTransform(d,0,0,d,0,0);if(e.style&&(c||!e.style.height&&!e.style.width)){e.style.height=height+'px';e.style.width=width+'px'}}var bI=function(){var a=false;try{var b={get passive(){a=true;return false}};window.addEventListener('test',null,b);window.removeEventListener('test',null,b)}catch(e){}return a}();function readUsedSize(a,b){var c=getStyle(a,b);var d=c&&c.match(/^(\d+)(\.\d+)?px$/);return d?+d[1]:undefined}function getRelativePosition(e,a){if('native'in e){return{x:e.x,y:e.y}}return getRelativePosition$1(e,a)}function evaluateAllVisibleItems(a,b){var c=a.getSortedVisibleDatasetMetas();var d,data,element;for(var i=0,ilen=c.length;i<ilen;++i){var e=c[i];d=e.index;data=e.data;for(var j=0,jlen=data.length;j<jlen;++j){element=data[j];if(!element.skip){b(element,d,j)}}}}function binarySearch(a,b,c,d){var e=a.controller,data=a.data,_sorted=a._sorted;var f=e._cachedMeta.iScale;if(f&&b===f.axis&&_sorted&&data.length){var g=f._reversePixels?bC:bB;if(!d){return g(data,b,c)}else if(e._sharedOptions){var h=data[0];var i=typeof h.getRange==='function'&&h.getRange(b);if(i){var j=g(data,b,c-i);var k=g(data,b,c+i);return{lo:j.lo,hi:k.hi}}}}return{lo:0,hi:data.length-1}}function optimizedEvaluateItems(a,b,c,d,e){var f=a.getSortedVisibleDatasetMetas();var g=c[b];for(var i=0,ilen=f.length;i<ilen;++i){var h=f[i],index=h.index,data=h.data;var k=binarySearch(f[i],b,g,e),lo=k.lo,hi=k.hi;for(var j=lo;j<=hi;++j){var l=data[j];if(!l.skip){d(l,index,j)}}}}function getDistanceMetricForAxis(e){var f=e.indexOf('x')!==-1;var g=e.indexOf('y')!==-1;return function(a,b){var c=f?Math.abs(a.x-b.x):0;var d=g?Math.abs(a.y-b.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(d,2))}}function getIntersectItems(d,e,f,g){var h=[];if(!_isPointInArea(e,d.chartArea,d._minPadding)){return h}var i=function i(a,b,c){if(a.inRange(e.x,e.y,g)){h.push({element:a,datasetIndex:b,index:c})}};optimizedEvaluateItems(d,f,e,i,true);return h}function getNearestItems(f,g,h,i,j){var k=getDistanceMetricForAxis(h);var l=Number.POSITIVE_INFINITY;var m=[];if(!_isPointInArea(g,f.chartArea,f._minPadding)){return m}var n=function n(a,b,c){if(i&&!a.inRange(g.x,g.y,j)){return}var d=a.getCenterPoint(j);var e=k(g,d);if(e<l){m=[{element:a,datasetIndex:b,index:c}];l=e}else if(e===l){m.push({element:a,datasetIndex:b,index:c})}};optimizedEvaluateItems(f,h,g,n);return m}function getAxisItems(d,e,f,g){var h=getRelativePosition(e,d);var i=[];var j=f.axis;var k=j==='x'?'inXRange':'inYRange';var l=false;evaluateAllVisibleItems(d,function(a,b,c){if(a[k](h[j],g)){i.push({element:a,datasetIndex:b,index:c})}if(a.inRange(h.x,h.y,g)){l=true}});if(f.intersect&&!l){return[]}return i}var bJ={modes:{index:function index(d,e,f,g){var h=getRelativePosition(e,d);var i=f.axis||'x';var j=f.intersect?getIntersectItems(d,h,i,g):getNearestItems(d,h,i,false,g);var k=[];if(!j.length){return[]}d.getSortedVisibleDatasetMetas().forEach(function(a){var b=j[0].index;var c=a.data[b];if(c&&!c.skip){k.push({element:c,datasetIndex:a.index,index:b})}});return k},dataset:function dataset(a,e,b,c){var d=getRelativePosition(e,a);var f=b.axis||'xy';var g=b.intersect?getIntersectItems(a,d,f,c):getNearestItems(a,d,f,false,c);if(g.length>0){var h=g[0].datasetIndex;var j=a.getDatasetMeta(h).data;g=[];for(var i=0;i<j.length;++i){g.push({element:j[i],datasetIndex:h,index:i})}}return g},point:function point(a,e,b,c){var d=getRelativePosition(e,a);var f=b.axis||'xy';return getIntersectItems(a,d,f,c)},nearest:function nearest(a,e,b,c){var d=getRelativePosition(e,a);var f=b.axis||'xy';return getNearestItems(a,d,f,b.intersect,c)},x:function x(a,e,b,c){b.axis='x';return getAxisItems(a,e,b,c)},y:function y(a,e,b,c){b.axis='y';return getAxisItems(a,e,b,c)}}};var bK=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);var bL=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function toLineHeight(a,b){var c=(''+a).match(bK);if(!c||c[1]==='normal'){return b*1.2}a=+c[2];switch(c[3]){case'px':return a;case'%':a/=100;break}return b*a}var bM=function bM(v){return+v||0};function _readValueToProps(b,c){var d={};var e=isObject(c);var f=e?Object.keys(c):c;var g=isObject(b)?e?function(a){return valueOrDefault(b[a],b[c[a]])}:function(a){return b[a]}:function(){return b};var h=_createForOfIteratorHelper(f),_step2;try{for(h.s();!(_step2=h.n()).done;){var i=_step2.value;d[i]=bM(g(i))}}catch(err){h.e(err)}finally{h.f()}return d}function toTRBL(a){return _readValueToProps(a,{top:'y',right:'x',bottom:'y',left:'x'})}function toTRBLCorners(a){return _readValueToProps(a,['topLeft','topRight','bottomLeft','bottomRight'])}function toPadding(a){var b=toTRBL(a);b.width=b.left+b.right;b.height=b.top+b.bottom;return b}function toFont(a,b){a=a||{};b=b||bq.font;var c=valueOrDefault(a.size,b.size);if(typeof c==='string'){c=parseInt(c,10)}var d=valueOrDefault(a.style,b.style);if(d&&!(''+d).match(bL)){console.warn('Invalid font style specified: "'+d+'"');d=''}var e={family:valueOrDefault(a.family,b.family),lineHeight:toLineHeight(valueOrDefault(a.lineHeight,b.lineHeight),c),size:c,style:d,weight:valueOrDefault(a.weight,b.weight),string:''};e.string=toFontString(e);return e}function resolve(a,b,c,d){var e=true;var i,ilen,value;for(i=0,ilen=a.length;i<ilen;++i){value=a[i];if(value===undefined){continue}if(b!==undefined&&typeof value==='function'){value=value(b);e=false}if(c!==undefined&&isArray(value)){value=value[c%value.length];e=false}if(value!==undefined){if(d&&!e){d.cacheable=false}return value}}}function _addGrace(a,b){var c=a.min,max=a.max;return{min:c-Math.abs(bh(b,c)),max:max+bh(b,max)}}var bN=['left','top','right','bottom'];function filterByPosition(a,b){return a.filter(function(v){return v.pos===b})}function filterDynamicPositionByAxis(a,b){return a.filter(function(v){return bN.indexOf(v.pos)===-1&&v.box.axis===b})}function sortByWeight(e,f){return e.sort(function(a,b){var c=f?b:a;var d=f?a:b;return c.weight===d.weight?c.index-d.index:c.weight-d.weight})}function wrapBoxes(a){var b=[];var i,ilen,box;for(i=0,ilen=(a||[]).length;i<ilen;++i){box=a[i];b.push({index:i,box:box,pos:box.position,horizontal:box.isHorizontal(),weight:box.weight})}return b}function setLayoutDims(a,b){var i,ilen,layout;for(i=0,ilen=a.length;i<ilen;++i){layout=a[i];if(layout.horizontal){layout.width=layout.box.fullSize&&b.availableWidth;layout.height=b.hBoxMaxHeight}else{layout.width=b.vBoxMaxWidth;layout.height=layout.box.fullSize&&b.availableHeight}}}function buildLayoutBoxes(b){var c=wrapBoxes(b);var d=sortByWeight(c.filter(function(a){return a.box.fullSize}),true);var e=sortByWeight(filterByPosition(c,'left'),true);var f=sortByWeight(filterByPosition(c,'right'));var g=sortByWeight(filterByPosition(c,'top'),true);var h=sortByWeight(filterByPosition(c,'bottom'));var i=filterDynamicPositionByAxis(c,'x');var j=filterDynamicPositionByAxis(c,'y');return{fullSize:d,leftAndTop:e.concat(g),rightAndBottom:f.concat(j).concat(h).concat(i),chartArea:filterByPosition(c,'chartArea'),vertical:e.concat(f).concat(j),horizontal:g.concat(h).concat(i)}}function getCombinedMax(c,d,a,b){return Math.max(c[a],d[a])+Math.max(c[b],d[b])}function updateMaxPadding(a,b){a.top=Math.max(a.top,b.top);a.left=Math.max(a.left,b.left);a.bottom=Math.max(a.bottom,b.bottom);a.right=Math.max(a.right,b.right)}function updateDims(a,b,c){var d=c.box;var e=a.maxPadding;if(!isObject(c.pos)){if(c.size){a[c.pos]-=c.size}c.size=c.horizontal?d.height:d.width;a[c.pos]+=c.size}if(d.getPadding){updateMaxPadding(e,d.getPadding())}var f=Math.max(0,b.outerWidth-getCombinedMax(e,a,'left','right'));var g=Math.max(0,b.outerHeight-getCombinedMax(e,a,'top','bottom'));var h=f!==a.w;var i=g!==a.h;a.w=f;a.h=g;return c.horizontal?{same:h,other:i}:{same:i,other:h}}function handleMaxPadding(c){var d=c.maxPadding;function updatePos(a){var b=Math.max(d[a]-c[a],0);c[a]+=b;return b}c.y+=updatePos('top');c.x+=updatePos('left');updatePos('right');updatePos('bottom')}function getMargins(d,e){var f=e.maxPadding;function marginForPositions(b){var c={left:0,top:0,right:0,bottom:0};b.forEach(function(a){c[a]=Math.max(e[a],f[a])});return c}return d?marginForPositions(['left','right']):marginForPositions(['top','bottom'])}function fitBoxes(a,b,c){var d=[];var i,ilen,layout,box,refit,changed;for(i=0,ilen=a.length,refit=0;i<ilen;++i){layout=a[i];box=layout.box;box.update(layout.width||b.w,layout.height||b.h,getMargins(layout.horizontal,b));var e=updateDims(b,c,layout),same=e.same,other=e.other;refit|=same&&d.length;changed=changed||other;if(!box.fullSize){d.push(layout)}}return refit&&fitBoxes(d,b,c)||changed}function placeBoxes(a,b,c){var d=c.padding;var x=b.x;var y=b.y;var i,ilen,layout,box;for(i=0,ilen=a.length;i<ilen;++i){layout=a[i];box=layout.box;if(layout.horizontal){box.left=box.fullSize?d.left:b.left;box.right=box.fullSize?c.outerWidth-d.right:b.left+b.w;box.top=y;box.bottom=y+box.height;box.width=box.right-box.left;y=box.bottom}else{box.left=x;box.right=x+box.width;box.top=box.fullSize?d.top:b.top;box.bottom=box.fullSize?c.outerHeight-d.right:b.top+b.h;box.height=box.bottom-box.top;x=box.right}}b.x=x;b.y=y}bq.set('layout',{padding:{top:0,right:0,bottom:0,left:0}});var bO={addBox:function addBox(b,c){if(!b.boxes){b.boxes=[]}c.fullSize=c.fullSize||false;c.position=c.position||'top';c.weight=c.weight||0;c._layers=c._layers||function(){return[{z:0,draw:function draw(a){c.draw(a)}}]};b.boxes.push(c)},removeBox:function removeBox(a,b){var c=a.boxes?a.boxes.indexOf(b):-1;if(c!==-1){a.boxes.splice(c,1)}},configure:function configure(a,b,c){b.fullSize=c.fullSize;b.position=c.position;b.weight=c.weight},update:function update(c,d,e,f){if(!c){return}var g=toPadding(c.options.layout.padding);var h=d-g.width;var i=e-g.height;var j=buildLayoutBoxes(c.boxes);var k=j.vertical;var l=j.horizontal;each(c.boxes,function(a){if(typeof a.beforeLayout==='function'){a.beforeLayout()}});var m=k.reduce(function(a,b){return b.box.options&&b.box.options.display===false?a:a+1},0)||1;var n=Object.freeze({outerWidth:d,outerHeight:e,padding:g,availableWidth:h,availableHeight:i,vBoxMaxWidth:h/2/m,hBoxMaxHeight:i/2});var o=Object.assign({},g);updateMaxPadding(o,toPadding(f));var p=Object.assign({maxPadding:o,w:h,h:i,x:g.left,y:g.top},g);setLayoutDims(k.concat(l),n);fitBoxes(j.fullSize,p,n);fitBoxes(k,p,n);if(fitBoxes(l,p,n)){fitBoxes(k,p,n)}handleMaxPadding(p);placeBoxes(j.leftAndTop,p,n);p.x+=p.w;p.y+=p.h;placeBoxes(j.rightAndBottom,p,n);c.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w};each(j.chartArea,function(a){var b=a.box;Object.assign(b,c.chartArea);b.update(p.w,p.h)})}};var bP=function(){function bP(){_classCallCheck(this,bP)}_createClass(bP,[{key:"acquireContext",value:function acquireContext(a,b){}},{key:"releaseContext",value:function releaseContext(a){return false}},{key:"addEventListener",value:function addEventListener(a,b,c){}},{key:"removeEventListener",value:function removeEventListener(a,b,c){}},{key:"getDevicePixelRatio",value:function getDevicePixelRatio(){return 1}},{key:"getMaximumSize",value:function getMaximumSize(a,b,c,d){b=Math.max(0,b||a.width);c=c||a.height;return{width:b,height:Math.max(0,d?Math.floor(b/d):c)}}},{key:"isAttached",value:function isAttached(a){return true}}]);return bP}();var bQ=function(b){_inherits(bQ,b);var c=_createSuper(bQ);function bQ(){_classCallCheck(this,bQ);return c.apply(this,arguments)}_createClass(bQ,[{key:"acquireContext",value:function acquireContext(a){return a&&a.getContext&&a.getContext('2d')||null}}]);return bQ}(bP);var bR='$chartjs';var bS={touchstart:'mousedown',touchmove:'mousemove',touchend:'mouseup',pointerenter:'mouseenter',pointerdown:'mousedown',pointermove:'mousemove',pointerup:'mouseup',pointerleave:'mouseout',pointerout:'mouseout'};var bT=function bT(a){return a===null||a===''};function initCanvas(a,b){var c=a.style;var d=a.getAttribute('height');var e=a.getAttribute('width');a[bR]={initial:{height:d,width:e,style:{display:c.display,height:c.height,width:c.width}}};c.display=c.display||'block';c.boxSizing=c.boxSizing||'border-box';if(bT(e)){var f=readUsedSize(a,'width');if(f!==undefined){a.width=f}}if(bT(d)){if(a.style.height===''){a.height=a.width/(b||2)}else{var g=readUsedSize(a,'height');if(g!==undefined){a.height=g}}}return a}var bU=bI?{passive:true}:false;function addListener(a,b,c){a.addEventListener(b,c,bU)}function removeListener(a,b,c){a.canvas.removeEventListener(b,c,bU)}function fromNativeEvent(a,b){var c=bS[a.type]||a.type;var d=getRelativePosition$1(a,b),x=d.x,y=d.y;return{type:c,chart:b,native:a,x:x!==undefined?x:null,y:y!==undefined?y:null}}function createAttachObserver(e,f,g){var h=e.canvas;var j=h&&_getParentNode(h);var k=j||h;var l=new MutationObserver(function(c){var d=_getParentNode(k);c.forEach(function(a){for(var i=0;i<a.addedNodes.length;i++){var b=a.addedNodes[i];if(b===k||b===d){g(a.target)}}})});l.observe(document,{childList:true,subtree:true});return l}function createDetachObserver(c,d,e){var f=c.canvas;var g=f&&_getParentNode(f);if(!g){return}var h=new MutationObserver(function(b){b.forEach(function(a){for(var i=0;i<a.removedNodes.length;i++){if(a.removedNodes[i]===f){e();break}}})});h.observe(g,{childList:true});return h}var bV=new Map();var bW=0;function onWindowResize(){var c=window.devicePixelRatio;if(c===bW){return}bW=c;bV.forEach(function(a,b){if(b.currentDevicePixelRatio!==c){a()}})}function listenDevicePixelRatioChanges(a,b){if(!bV.size){window.addEventListener('resize',onWindowResize)}bV.set(a,b)}function unlistenDevicePixelRatioChanges(a){bV.delete(a);if(!bV.size){window.removeEventListener('resize',onWindowResize)}}function createResizeObserver(e,f,g){var h=e.canvas;var i=h&&_getParentNode(h);if(!i){return}var j=throttled(function(a,b){var w=i.clientWidth;g(a,b);if(w<i.clientWidth){g()}},window);var k=new ResizeObserver(function(a){var b=a[0];var c=b.contentRect.width;var d=b.contentRect.height;if(c===0&&d===0){return}j(c,d)});k.observe(i);listenDevicePixelRatioChanges(e,j);return k}function releaseObserver(a,b,c){if(c){c.disconnect()}if(b==='resize'){unlistenDevicePixelRatioChanges(a)}}function createProxyAndListen(c,d,e){var f=c.canvas;var g=throttled(function(a){if(c.ctx!==null){e(fromNativeEvent(a,c))}},c,function(a){var b=a[0];return[b,b.offsetX,b.offsetY]});addListener(f,d,g);return g}var bX=function(g){_inherits(bX,g);var h=_createSuper(bX);function bX(){_classCallCheck(this,bX);return h.apply(this,arguments)}_createClass(bX,[{key:"acquireContext",value:function acquireContext(a,b){var c=a&&a.getContext&&a.getContext('2d');if(c&&c.canvas===a){initCanvas(a,b);return c}return null}},{key:"releaseContext",value:function releaseContext(c){var d=c.canvas;if(!d[bR]){return false}var e=d[bR].initial;['height','width'].forEach(function(a){var b=e[a];if(isNullOrUndef(b)){d.removeAttribute(a)}else{d.setAttribute(a,b)}});var f=e.style||{};Object.keys(f).forEach(function(a){d.style[a]=f[a]});d.width=d.width;delete d[bR];return true}},{key:"addEventListener",value:function addEventListener(a,b,c){this.removeEventListener(a,b);var d=a.$proxies||(a.$proxies={});var e={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver};var f=e[b]||createProxyAndListen;d[b]=f(a,b,c)}},{key:"removeEventListener",value:function removeEventListener(a,b){var c=a.$proxies||(a.$proxies={});var d=c[b];if(!d){return}var e={attach:releaseObserver,detach:releaseObserver,resize:releaseObserver};var f=e[b]||removeListener;f(a,b,d);c[b]=undefined}},{key:"getDevicePixelRatio",value:function getDevicePixelRatio(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function getMaximumSize(a,b,c,d){return _getMaximumSize(a,b,c,d)}},{key:"isAttached",value:function isAttached(a){var b=_getParentNode(a);return!!(b&&_getParentNode(b))}}]);return bX}(bP);var bY=Object.freeze({__proto__:null,BasePlatform:bP,BasicPlatform:bQ,DomPlatform:bX});var bZ=function bZ(t){return t===0||t===1};var ca=function ca(t,s,p){return-(Math.pow(2,10*(t-=1))*Math.sin((t-s)*bs/p))};var cb=function cb(t,s,p){return Math.pow(2,-10*t)*Math.sin((t-s)*bs/p)+1};var cc={linear:function linear(t){return t},easeInQuad:function easeInQuad(t){return t*t},easeOutQuad:function easeOutQuad(t){return-t*(t-2)},easeInOutQuad:function easeInOutQuad(t){return(t/=0.5)<1?0.5*t*t:-0.5*(--t*(t-2)-1)},easeInCubic:function easeInCubic(t){return t*t*t},easeOutCubic:function easeOutCubic(t){return(t-=1)*t*t+1},easeInOutCubic:function easeInOutCubic(t){return(t/=0.5)<1?0.5*t*t*t:0.5*((t-=2)*t*t+2)},easeInQuart:function easeInQuart(t){return t*t*t*t},easeOutQuart:function easeOutQuart(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function easeInOutQuart(t){return(t/=0.5)<1?0.5*t*t*t*t:-0.5*((t-=2)*t*t*t-2)},easeInQuint:function easeInQuint(t){return t*t*t*t*t},easeOutQuint:function easeOutQuint(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function easeInOutQuint(t){return(t/=0.5)<1?0.5*t*t*t*t*t:0.5*((t-=2)*t*t*t*t+2)},easeInSine:function easeInSine(t){return-Math.cos(t*bw)+1},easeOutSine:function easeOutSine(t){return Math.sin(t*bw)},easeInOutSine:function easeInOutSine(t){return-0.5*(Math.cos(br*t)-1)},easeInExpo:function easeInExpo(t){return t===0?0:Math.pow(2,10*(t-1))},easeOutExpo:function easeOutExpo(t){return t===1?1:-Math.pow(2,-10*t)+1},easeInOutExpo:function easeInOutExpo(t){return bZ(t)?t:t<0.5?0.5*Math.pow(2,10*(t*2-1)):0.5*(-Math.pow(2,-10*(t*2-1))+2)},easeInCirc:function easeInCirc(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function easeOutCirc(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function easeInOutCirc(t){return(t/=0.5)<1?-0.5*(Math.sqrt(1-t*t)-1):0.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function easeInElastic(t){return bZ(t)?t:ca(t,0.075,0.3)},easeOutElastic:function easeOutElastic(t){return bZ(t)?t:cb(t,0.075,0.3)},easeInOutElastic:function easeInOutElastic(t){var s=0.1125;var p=0.45;return bZ(t)?t:t<0.5?0.5*ca(t*2,s,p):0.5+0.5*cb(t*2-1,s,p)},easeInBack:function easeInBack(t){var s=1.70158;return t*t*((s+1)*t-s)},easeOutBack:function easeOutBack(t){var s=1.70158;return(t-=1)*t*((s+1)*t+s)+1},easeInOutBack:function easeInOutBack(t){var s=1.70158;if((t/=0.5)<1){return 0.5*(t*t*(((s*=1.525)+1)*t-s))}return 0.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},easeInBounce:function easeInBounce(t){return 1-cc.easeOutBounce(1-t)},easeOutBounce:function easeOutBounce(t){var m=7.5625;var d=2.75;if(t<1/d){return m*t*t}if(t<2/d){return m*(t-=1.5/d)*t+0.75}if(t<2.5/d){return m*(t-=2.25/d)*t+0.9375}return m*(t-=2.625/d)*t+0.984375},easeInOutBounce:function easeInOutBounce(t){return t<0.5?cc.easeInBounce(t*2)*0.5:cc.easeOutBounce(t*2-1)*0.5+0.5}};var cd='transparent';var ce={boolean:function boolean(a,b,c){return c>0.5?b:a},color:function color(a,b,c){var d=_color(a||cd);var e=d.valid&&_color(b||cd);return e&&e.valid?e.mix(d,c).hexString():b},number:function number(a,b,c){return a+(b-a)*c}};var cf=function(){function cf(a,b,c,d){_classCallCheck(this,cf);var e=b[c];d=resolve([a.to,d,e,a.from]);var f=resolve([a.from,e,d]);this._active=true;this._fn=a.fn||ce[a.type||_typeof(f)];this._easing=cc[a.easing]||cc.linear;this._start=Math.floor(Date.now()+(a.delay||0));this._duration=this._total=Math.floor(a.duration);this._loop=!!a.loop;this._target=b;this._prop=c;this._from=f;this._to=d;this._promises=undefined}_createClass(cf,[{key:"active",value:function active(){return this._active}},{key:"update",value:function update(a,b,c){var d=this;if(d._active){d._notify(false);var e=d._target[d._prop];var f=c-d._start;var g=d._duration-f;d._start=c;d._duration=Math.floor(Math.max(g,a.duration));d._total+=f;d._loop=!!a.loop;d._to=resolve([a.to,b,e,a.from]);d._from=resolve([a.from,e,b])}}},{key:"cancel",value:function cancel(){var a=this;if(a._active){a.tick(Date.now());a._active=false;a._notify(false)}}},{key:"tick",value:function tick(a){var b=this;var c=a-b._start;var d=b._duration;var e=b._prop;var f=b._from;var g=b._loop;var h=b._to;var i;b._active=f!==h&&(g||c<d);if(!b._active){b._target[e]=h;b._notify(true);return}if(c<0){b._target[e]=f;return}i=c/d%2;i=g&&i>1?2-i:i;i=b._easing(Math.min(1,Math.max(0,i)));b._target[e]=b._fn(f,h,i)}},{key:"wait",value:function wait(){var c=this._promises||(this._promises=[]);return new Promise(function(a,b){c.push({res:a,rej:b})})}},{key:"_notify",value:function _notify(a){var b=a?'res':'rej';var c=this._promises||[];for(var i=0;i<c.length;i++){c[i][b]()}}}]);return cf}();var cg=['x','y','borderWidth','radius','tension'];var ch=['color','borderColor','backgroundColor'];bq.set('animation',{delay:undefined,duration:1000,easing:'easeOutQuart',fn:undefined,from:undefined,loop:undefined,to:undefined,type:undefined});var ci=Object.keys(bq.animation);bq.describe('animation',{_fallback:false,_indexable:false,_scriptable:function _scriptable(a){return a!=='onProgress'&&a!=='onComplete'&&a!=='fn'}});bq.set('animations',{colors:{type:'color',properties:ch},numbers:{type:'number',properties:cg}});bq.describe('animations',{_fallback:'animation'});bq.set('transitions',{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:'transparent'},visible:{type:'boolean',duration:0}}},hide:{animations:{colors:{to:'transparent'},visible:{type:'boolean',easing:'linear',fn:function fn(v){return v|0}}}}});var cj=function(){function cj(a,b){_classCallCheck(this,cj);this._chart=a;this._properties=new Map();this.configure(b)}_createClass(cj,[{key:"configure",value:function configure(g){if(!isObject(g)){return}var h=this._properties;Object.getOwnPropertyNames(g).forEach(function(b){var c=g[b];if(!isObject(c)){return}var d={};var e=_createForOfIteratorHelper(ci),_step3;try{for(e.s();!(_step3=e.n()).done;){var f=_step3.value;d[f]=c[f]}}catch(err){e.e(err)}finally{e.f()}(isArray(c.properties)&&c.properties||[b]).forEach(function(a){if(a===b||!h.has(a)){h.set(a,d)}})})}},{key:"_animateOptions",value:function _animateOptions(a,b){var c=b.options;var d=resolveTargetOptions(a,c);if(!d){return[]}var e=this._createAnimations(d,c);if(c.$shared){awaitAll(a.options.$animations,c).then(function(){a.options=c},function(){})}return e}},{key:"_createAnimations",value:function _createAnimations(a,b){var c=this._properties;var d=[];var e=a.$animations||(a.$animations={});var f=Object.keys(b);var g=Date.now();var i;for(i=f.length-1;i>=0;--i){var h=f[i];if(h.charAt(0)==='$'){continue}if(h==='options'){d.push.apply(d,_toConsumableArray(this._animateOptions(a,b)));continue}var j=b[h];var k=e[h];var l=c.get(h);if(k){if(l&&k.active()){k.update(l,j,g);continue}else{k.cancel()}}if(!l||!l.duration){a[h]=j;continue}e[h]=k=new cf(l,a,h,j);d.push(k)}return d}},{key:"update",value:function update(a,b){if(this._properties.size===0){Object.assign(a,b);return}var c=this._createAnimations(a,b);if(c.length){Q.add(this._chart,c);return true}}}]);return cj}();function awaitAll(a,b){var c=[];var d=Object.keys(b);for(var i=0;i<d.length;i++){var e=a[d[i]];if(e&&e.active()){c.push(e.wait())}}return Promise.all(c)}function resolveTargetOptions(a,b){if(!b){return}var c=a.options;if(!c){a.options=b;return}if(c.$shared){a.options=c=Object.assign({},c,{$shared:false,$animations:{}})}return c}function scaleClip(a,b){var c=a&&a.options||{};var d=c.reverse;var e=c.min===undefined?b:0;var f=c.max===undefined?b:0;return{start:d?f:e,end:d?e:f}}function defaultClip(a,b,c){if(c===false){return false}var x=scaleClip(a,c);var y=scaleClip(b,c);return{top:y.end,right:x.end,bottom:y.start,left:x.start}}function toClip(a){var t,r,b,l;if(isObject(a)){t=a.top;r=a.right;b=a.bottom;l=a.left}else{t=r=b=l=a}return{top:t,right:r,bottom:b,left:l}}function getSortedDatasetIndices(a,b){var c=[];var d=a._getSortedDatasetMetas(b);var i,ilen;for(i=0,ilen=d.length;i<ilen;++i){c.push(d[i].index)}return c}function _applyStack(a,b,c,d){var e=a.keys;var f=d.mode==='single';var i,ilen,datasetIndex,otherValue;if(b===null){return}for(i=0,ilen=e.length;i<ilen;++i){datasetIndex=+e[i];if(datasetIndex===c){if(d.all){continue}break}otherValue=a.values[datasetIndex];if(bf(otherValue)&&(f||b===0||bA(b)===bA(otherValue))){b+=otherValue}}return b}function convertObjectDataToArray(a){var b=Object.keys(a);var c=new Array(b.length);var i,ilen,key;for(i=0,ilen=b.length;i<ilen;++i){key=b[i];c[i]={x:key,y:a[key]}}return c}function isStacked(a,b){var c=a&&a.options.stacked;return c||c===undefined&&b.stack!==undefined}function getStackKey(a,b,c){return"".concat(a.id,".").concat(b.id,".").concat(c.stack||c.type)}function getUserBounds(a){var b=a.getUserBounds(),min=b.min,max=b.max,minDefined=b.minDefined,maxDefined=b.maxDefined;return{min:minDefined?min:Number.NEGATIVE_INFINITY,max:maxDefined?max:Number.POSITIVE_INFINITY}}function getOrCreateStack(a,b,c){var d=a[b]||(a[b]={});return d[c]||(d[c]={})}function getLastIndexInStack(a,b,c){var d=_createForOfIteratorHelper(b.getMatchingVisibleMetas('bar').reverse()),_step4;try{for(d.s();!(_step4=d.n()).done;){var e=_step4.value;var f=a[e.index];if(c&&f>0||!c&&f<0){return e.index}}}catch(err){d.e(err)}finally{d.f()}return null}function updateStacks(a,b){var c=a.chart,meta=a._cachedMeta;var d=c._stacks||(c._stacks={});var e=meta.iScale,vScale=meta.vScale,datasetIndex=meta.index;var f=e.axis;var g=vScale.axis;var h=getStackKey(e,vScale,meta);var j=b.length;var k;for(var i=0;i<j;++i){var l=b[i];var m=l[f],value=l[g];var n=l._stacks||(l._stacks={});k=n[g]=getOrCreateStack(d,h,m);k[datasetIndex]=value;k._top=getLastIndexInStack(k,vScale,true);k._bottom=getLastIndexInStack(k,vScale,false)}}function getFirstScaleId(b,c){var d=b.scales;return Object.keys(d).filter(function(a){return d[a].axis===c}).shift()}function createDatasetContext(a,b){return Object.assign(Object.create(a),{active:false,dataset:undefined,datasetIndex:b,index:b,mode:'default',type:'dataset'})}function createDataContext(a,b,c){return Object.assign(Object.create(a),{active:false,dataIndex:b,parsed:undefined,raw:undefined,element:c,index:b,mode:'default',type:'data'})}function clearStacks(a,b){b=b||a._parsed;var c=_createForOfIteratorHelper(b),_step5;try{for(c.s();!(_step5=c.n()).done;){var d=_step5.value;var e=d._stacks;if(!e||e[a.vScale.id]===undefined||e[a.vScale.id][a.index]===undefined){return}delete e[a.vScale.id][a.index]}}catch(err){c.e(err)}finally{c.f()}}var ck=function ck(a){return a==='reset'||a==='none'};var cl=function cl(a,b){return b?a:Object.assign({},a)};var cm=function(){function cm(a,b){_classCallCheck(this,cm);this.chart=a;this._ctx=a.ctx;this.index=b;this._cachedDataOpts={};this._cachedMeta=this.getMeta();this._type=this._cachedMeta.type;this.options=undefined;this._parsing=false;this._data=undefined;this._objectData=undefined;this._sharedOptions=undefined;this._drawStart=undefined;this._drawCount=undefined;this.enableOptionSharing=false;this.$context=undefined;this.initialize()}_createClass(cm,[{key:"initialize",value:function initialize(){var a=this;var b=a._cachedMeta;a.configure();a.linkScales();b._stacked=isStacked(b.vScale,b);a.addElements()}},{key:"updateIndex",value:function updateIndex(a){this.index=a}},{key:"linkScales",value:function linkScales(){var b=this;var c=b.chart;var d=b._cachedMeta;var e=b.getDataset();var f=function f(a,x,y,r){return a==='x'?x:a==='r'?r:y};var g=d.xAxisID=valueOrDefault(e.xAxisID,getFirstScaleId(c,'x'));var h=d.yAxisID=valueOrDefault(e.yAxisID,getFirstScaleId(c,'y'));var i=d.rAxisID=valueOrDefault(e.rAxisID,getFirstScaleId(c,'r'));var j=d.indexAxis;var k=d.iAxisID=f(j,g,h,i);var l=d.vAxisID=f(j,h,g,i);d.xScale=b.getScaleForId(g);d.yScale=b.getScaleForId(h);d.rScale=b.getScaleForId(i);d.iScale=b.getScaleForId(k);d.vScale=b.getScaleForId(l)}},{key:"getDataset",value:function getDataset(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function getMeta(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function getScaleForId(a){return this.chart.scales[a]}},{key:"_getOtherScale",value:function _getOtherScale(a){var b=this._cachedMeta;return a===b.iScale?b.vScale:b.iScale}},{key:"reset",value:function reset(){this._update('reset')}},{key:"_destroy",value:function _destroy(){var a=this._cachedMeta;if(this._data){unlistenArrayEvents(this._data,this)}if(a._stacked){clearStacks(a)}}},{key:"_dataCheck",value:function _dataCheck(){var a=this;var b=a.getDataset();var c=b.data||(b.data=[]);if(isObject(c)){a._data=convertObjectDataToArray(c)}else if(a._data!==c){if(a._data){unlistenArrayEvents(a._data,a);clearStacks(a._cachedMeta)}if(c&&Object.isExtensible(c)){listenArrayEvents(c,a)}a._data=c}}},{key:"addElements",value:function addElements(){var a=this;var b=a._cachedMeta;a._dataCheck();if(a.datasetElementType){b.dataset=new a.datasetElementType()}}},{key:"buildOrUpdateElements",value:function buildOrUpdateElements(a){var b=this;var c=b._cachedMeta;var d=b.getDataset();var e=false;b._dataCheck();c._stacked=isStacked(c.vScale,c);if(c.stack!==d.stack){e=true;clearStacks(c);c.stack=d.stack}b._resyncElements(a);if(e){updateStacks(b,c._parsed)}}},{key:"configure",value:function configure(){var a=this;var b=a.chart.config;var c=b.datasetScopeKeys(a._type);var d=b.getOptionScopes(a.getDataset(),c,true);a.options=b.createResolver(d,a.getContext());a._parsing=a.options.parsing}},{key:"parse",value:function parse(a,b){var c=this;var d=c._cachedMeta,data=c._data;var e=d.iScale,_stacked=d._stacked;var f=e.axis;var g=a===0&&b===data.length?true:d._sorted;var h=a>0&&d._parsed[a-1];var i,cur,parsed;if(c._parsing===false){d._parsed=data;d._sorted=true;parsed=data}else{if(isArray(data[a])){parsed=c.parseArrayData(d,data,a,b)}else if(isObject(data[a])){parsed=c.parseObjectData(d,data,a,b)}else{parsed=c.parsePrimitiveData(d,data,a,b)}var j=function j(){return cur[f]===null||h&&cur[f]<h[f]};for(i=0;i<b;++i){d._parsed[i+a]=cur=parsed[i];if(g){if(j()){g=false}h=cur}}d._sorted=g}if(_stacked){updateStacks(c,parsed)}}},{key:"parsePrimitiveData",value:function parsePrimitiveData(a,b,c,d){var e=a.iScale,vScale=a.vScale;var f=e.axis;var g=vScale.axis;var h=e.getLabels();var j=e===vScale;var k=new Array(d);var i,ilen,index;for(i=0,ilen=d;i<ilen;++i){var l;index=i+c;k[i]=(l={},_defineProperty(l,f,j||e.parse(h[index],index)),_defineProperty(l,g,vScale.parse(b[index],index)),l)}return k}},{key:"parseArrayData",value:function parseArrayData(a,b,c,d){var e=a.xScale,yScale=a.yScale;var f=new Array(d);var i,ilen,index,item;for(i=0,ilen=d;i<ilen;++i){index=i+c;item=b[index];f[i]={x:e.parse(item[0],index),y:yScale.parse(item[1],index)}}return f}},{key:"parseObjectData",value:function parseObjectData(a,b,c,d){var e=a.xScale,yScale=a.yScale;var f=this._parsing,_this$_parsing$xAxisK=f.xAxisKey,xAxisKey=_this$_parsing$xAxisK===void 0?'x':_this$_parsing$xAxisK,_this$_parsing$yAxisK=f.yAxisKey,yAxisKey=_this$_parsing$yAxisK===void 0?'y':_this$_parsing$yAxisK;var g=new Array(d);var i,ilen,index,item;for(i=0,ilen=d;i<ilen;++i){index=i+c;item=b[index];g[i]={x:e.parse(resolveObjectKey(item,xAxisKey),index),y:yScale.parse(resolveObjectKey(item,yAxisKey),index)}}return g}},{key:"getParsed",value:function getParsed(a){return this._cachedMeta._parsed[a]}},{key:"getDataElement",value:function getDataElement(a){return this._cachedMeta.data[a]}},{key:"applyStack",value:function applyStack(a,b,c){var d=this.chart;var e=this._cachedMeta;var f=b[a.axis];var g={keys:getSortedDatasetIndices(d,true),values:b._stacks[a.axis]};return _applyStack(g,f,e.index,{mode:c})}},{key:"updateRangeFromParsed",value:function updateRangeFromParsed(a,b,c,d){var e=c[b.axis];var f=e===null?NaN:e;var g=d&&c._stacks[b.axis];if(d&&g){d.values=g;a.min=Math.min(a.min,f);a.max=Math.max(a.max,f);f=_applyStack(d,e,this._cachedMeta.index,{all:true})}a.min=Math.min(a.min,f);a.max=Math.max(a.max,f)}},{key:"getMinMax",value:function getMinMax(a,b){var c=this;var d=c._cachedMeta;var e=d._parsed;var f=d._sorted&&a===d.iScale;var g=e.length;var h=c._getOtherScale(a);var j=b&&d._stacked&&{keys:getSortedDatasetIndices(c.chart,true),values:null};var k={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};var l=getUserBounds(h),otherMin=l.min,otherMax=l.max;var i,value,parsed,otherValue;function _skip(){parsed=e[i];value=parsed[a.axis];otherValue=parsed[h.axis];return!bf(value)||otherMin>otherValue||otherMax<otherValue}for(i=0;i<g;++i){if(_skip()){continue}c.updateRangeFromParsed(k,a,parsed,j);if(f){break}}if(f){for(i=g-1;i>=0;--i){if(_skip()){continue}c.updateRangeFromParsed(k,a,parsed,j);break}}return k}},{key:"getAllParsedValues",value:function getAllParsedValues(a){var b=this._cachedMeta._parsed;var c=[];var i,ilen,value;for(i=0,ilen=b.length;i<ilen;++i){value=b[i][a.axis];if(bf(value)){c.push(value)}}return c}},{key:"getMaxOverflow",value:function getMaxOverflow(){return false}},{key:"getLabelAndValue",value:function getLabelAndValue(a){var b=this;var c=b._cachedMeta;var d=c.iScale;var e=c.vScale;var f=b.getParsed(a);return{label:d?''+d.getLabelForValue(f[d.axis]):'',value:e?''+e.getLabelForValue(f[e.axis]):''}}},{key:"_update",value:function _update(a){var b=this;var c=b._cachedMeta;b.configure();b._cachedDataOpts={};b.update(a||'default');c._clip=toClip(valueOrDefault(b.options.clip,defaultClip(c.xScale,c.yScale,b.getMaxOverflow())))}},{key:"update",value:function update(a){}},{key:"draw",value:function draw(){var a=this;var b=a._ctx;var c=a.chart;var d=a._cachedMeta;var e=d.data||[];var f=c.chartArea;var g=[];var h=a._drawStart||0;var j=a._drawCount||e.length-h;var i;if(d.dataset){d.dataset.draw(b,f,h,j)}for(i=h;i<h+j;++i){var k=e[i];if(k.active){g.push(k)}else{k.draw(b,f)}}for(i=0;i<g.length;++i){g[i].draw(b,f)}}},{key:"getStyle",value:function getStyle(a,b){var c=b?'active':'default';return a===undefined&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(c):this.resolveDataElementOptions(a||0,c)}},{key:"getContext",value:function getContext(a,b,c){var d=this;var e=d.getDataset();var f;if(a>=0&&a<d._cachedMeta.data.length){var g=d._cachedMeta.data[a];f=g.$context||(g.$context=createDataContext(d.getContext(),a,g));f.parsed=d.getParsed(a);f.raw=e.data[a]}else{f=d.$context||(d.$context=createDatasetContext(d.chart.getContext(),d.index));f.dataset=e}f.active=!!b;f.mode=c;return f}},{key:"resolveDatasetElementOptions",value:function resolveDatasetElementOptions(a){return this._resolveElementOptions(this.datasetElementType.id,a)}},{key:"resolveDataElementOptions",value:function resolveDataElementOptions(a,b){return this._resolveElementOptions(this.dataElementType.id,b,a)}},{key:"_resolveElementOptions",value:function _resolveElementOptions(a){var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'default';var c=arguments.length>2?arguments[2]:undefined;var d=this;var e=b==='active';var f=d._cachedDataOpts;var g=a+'-'+b;var h=f[g];var i=d.enableOptionSharing&&bk(c);if(h){return cl(h,i)}var j=d.chart.config;var k=j.datasetElementScopeKeys(d._type,a);var l=e?["".concat(a,"Hover"),'hover',a,'']:[a,''];var m=j.getOptionScopes(d.getDataset(),k);var n=Object.keys(bq.elements[a]);var o=function o(){return d.getContext(c,e)};var p=j.resolveNamedOptions(m,n,o,l);if(p.$shared){p.$shared=i;f[g]=Object.freeze(cl(p,i))}return p}},{key:"_resolveAnimations",value:function _resolveAnimations(a,b,c){var d=this;var e=d.chart;var f=d._cachedDataOpts;var g="animation-".concat(b);var h=f[g];if(h){return h}var i;if(e.options.animation!==false){var j=d.chart.config;var k=j.datasetAnimationScopeKeys(d._type,b);var l=j.getOptionScopes(d.getDataset(),k);i=j.createResolver(l,d.getContext(a,c,b))}var m=new cj(e,i&&i.animations);if(i&&i._cacheable){f[g]=Object.freeze(m)}return m}},{key:"getSharedOptions",value:function getSharedOptions(a){if(!a.$shared){return}return this._sharedOptions||(this._sharedOptions=Object.assign({},a))}},{key:"includeOptions",value:function includeOptions(a,b){return!b||ck(a)||this.chart._animationsDisabled}},{key:"updateElement",value:function updateElement(a,b,c,d){if(ck(d)){Object.assign(a,c)}else{this._resolveAnimations(b,d).update(a,c)}}},{key:"updateSharedOptions",value:function updateSharedOptions(a,b,c){if(a&&!ck(b)){this._resolveAnimations(undefined,b).update(a,c)}}},{key:"_setStyle",value:function _setStyle(a,b,c,d){a.active=d;var e=this.getStyle(b,d);this._resolveAnimations(b,c,d).update(a,{options:!d&&this.getSharedOptions(e)||e})}},{key:"removeHoverStyle",value:function removeHoverStyle(a,b,c){this._setStyle(a,c,'active',false)}},{key:"setHoverStyle",value:function setHoverStyle(a,b,c){this._setStyle(a,c,'active',true)}},{key:"_removeDatasetHoverStyle",value:function _removeDatasetHoverStyle(){var a=this._cachedMeta.dataset;if(a){this._setStyle(a,undefined,'active',false)}}},{key:"_setDatasetHoverStyle",value:function _setDatasetHoverStyle(){var a=this._cachedMeta.dataset;if(a){this._setStyle(a,undefined,'active',true)}}},{key:"_resyncElements",value:function _resyncElements(a){var b=this;var c=b._cachedMeta.data.length;var d=b._data.length;if(d>c){b._insertElements(c,d-c,a)}else if(d<c){b._removeElements(d,c-d)}var e=Math.min(d,c);if(e){b.parse(0,e)}}},{key:"_insertElements",value:function _insertElements(b,c){var d=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var e=this;var f=e._cachedMeta;var g=f.data;var h=b+c;var i;var j=function j(a){a.length+=c;for(i=a.length-1;i>=h;i--){a[i]=a[i-c]}};j(g);for(i=b;i<h;++i){g[i]=new e.dataElementType()}if(e._parsing){j(f._parsed)}e.parse(b,c);if(d){e.updateElements(g,b,c,'reset')}}},{key:"updateElements",value:function updateElements(a,b,c,d){}},{key:"_removeElements",value:function _removeElements(a,b){var c=this;var d=c._cachedMeta;if(c._parsing){var e=d._parsed.splice(a,b);if(d._stacked){clearStacks(d,e)}}d.data.splice(a,b)}},{key:"_onDataPush",value:function _onDataPush(){var a=arguments.length;this._insertElements(this.getDataset().data.length-a,a)}},{key:"_onDataPop",value:function _onDataPop(){this._removeElements(this._cachedMeta.data.length-1,1)}},{key:"_onDataShift",value:function _onDataShift(){this._removeElements(0,1)}},{key:"_onDataSplice",value:function _onDataSplice(a,b){this._removeElements(a,b);this._insertElements(a,arguments.length-2)}},{key:"_onDataUnshift",value:function _onDataUnshift(){this._insertElements(0,arguments.length)}}]);return cm}();cm.defaults={};cm.prototype.datasetElementType=null;cm.prototype.dataElementType=null;var cn=function(){function cn(){_classCallCheck(this,cn);this.x=undefined;this.y=undefined;this.active=false;this.options=undefined;this.$animations=undefined}_createClass(cn,[{key:"tooltipPosition",value:function tooltipPosition(a){var b=this.getProps(['x','y'],a),x=b.x,y=b.y;return{x:x,y:y}}},{key:"hasValue",value:function hasValue(){return isNumber(this.x)&&isNumber(this.y)}},{key:"getProps",value:function getProps(b,c){var d=this;var e=this.$animations;if(!c||!e){return d}var f={};b.forEach(function(a){f[a]=e[a]&&e[a].active()?e[a]._to:d[a]});return f}}]);return cn}();cn.defaults={};cn.defaultRoutes=undefined;var co=new Map();function getNumberFormat(a,b){b=b||{};var c=a+JSON.stringify(b);var d=co.get(c);if(!d){d=new Intl.NumberFormat(a,b);co.set(c,d)}return d}function formatNumber(a,b,c){return getNumberFormat(b,c).format(a)}var cp={values:function values(a){return isArray(a)?a:''+a},numeric:function numeric(a,b,c){if(a===0){return'0'}var d=this.chart.options.locale;var e;var f=a;if(c.length>1){var g=Math.max(Math.abs(c[0].value),Math.abs(c[c.length-1].value));if(g<1e-4||g>1e+15){e='scientific'}f=calculateDelta(a,c)}var h=bz(Math.abs(f));var i=Math.max(Math.min(-1*Math.floor(h),20),0);var j={notation:e,minimumFractionDigits:i,maximumFractionDigits:i};Object.assign(j,this.options.ticks.format);return formatNumber(a,d,j)},logarithmic:function logarithmic(a,b,c){if(a===0){return'0'}var d=a/Math.pow(10,Math.floor(bz(a)));if(d===1||d===2||d===5){return cp.numeric.call(this,a,b,c)}return''}};function calculateDelta(a,b){var c=b.length>3?b[2].value-b[1].value:b[1].value-b[0].value;if(Math.abs(c)>1&&a!==Math.floor(a)){c=a-Math.floor(a)}return c}var cq={formatters:cp};bq.set('scale',{display:true,offset:false,reverse:false,beginAtZero:false,bounds:'ticks',grace:0,grid:{display:true,lineWidth:1,drawBorder:true,drawOnChartArea:true,drawTicks:true,tickLength:8,tickWidth:function tickWidth(a,b){return b.lineWidth},tickColor:function tickColor(a,b){return b.color},offset:false,borderDash:[],borderDashOffset:0.0,borderWidth:1},title:{display:false,text:'',padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:false,textStrokeWidth:0,textStrokeColor:'',padding:3,display:true,autoSkip:true,autoSkipPadding:3,labelOffset:0,callback:cq.formatters.values,minor:{},major:{},align:'center',crossAlign:'near',showLabelBackdrop:false,backdropColor:'rgba(255, 255, 255, 0.75)',backdropPadding:2}});bq.route('scale.ticks','color','','color');bq.route('scale.grid','color','','borderColor');bq.route('scale.grid','borderColor','','borderColor');bq.route('scale.title','color','','color');bq.describe('scale',{_fallback:false,_scriptable:function _scriptable(a){return!a.startsWith('before')&&!a.startsWith('after')&&a!=='callback'&&a!=='parser'},_indexable:function _indexable(a){return a!=='borderDash'&&a!=='tickBorderDash'}});bq.describe('scales',{_fallback:'scale'});function autoSkip(a,b){var c=a.options.ticks;var d=c.maxTicksLimit||determineMaxTicks(a);var e=c.major.enabled?getMajorIndices(b):[];var f=e.length;var g=e[0];var h=e[f-1];var j=[];if(f>d){skipMajors(b,j,e,f/d);return j}var k=calculateSpacing(e,b,d);if(f>0){var i,ilen;var l=f>1?Math.round((h-g)/(f-1)):null;skip(b,j,k,isNullOrUndef(l)?0:g-l,g);for(i=0,ilen=f-1;i<ilen;i++){skip(b,j,k,e[i],e[i+1])}skip(b,j,k,h,isNullOrUndef(l)?b.length:h+l);return j}skip(b,j,k);return j}function determineMaxTicks(a){var b=a.options.offset;var c=a._tickSize();var d=a._length/c+(b?0:1);var e=a._maxLength/c;return Math.floor(Math.min(d,e))}function calculateSpacing(a,b,c){var d=getEvenSpacing(a);var e=b.length/c;if(!d){return Math.max(e,1)}var f=_factorize(d);for(var i=0,ilen=f.length-1;i<ilen;i++){var g=f[i];if(g>e){return g}}return Math.max(e,1)}function getMajorIndices(a){var b=[];var i,ilen;for(i=0,ilen=a.length;i<ilen;i++){if(a[i].major){b.push(i)}}return b}function skipMajors(a,b,c,d){var e=0;var f=c[0];var i;d=Math.ceil(d);for(i=0;i<a.length;i++){if(i===f){b.push(a[i]);e++;f=c[e*d]}}}function skip(a,b,c,d,e){var f=valueOrDefault(d,0);var g=Math.min(valueOrDefault(e,a.length),a.length);var h=0;var j,i,next;c=Math.ceil(c);if(e){j=e-d;c=j/Math.floor(j/c)}next=f;while(next<0){h++;next=Math.round(f+h*c)}for(i=Math.max(f,0);i<g;i++){if(i===next){b.push(a[i]);h++;next=Math.round(f+h*c)}}}function getEvenSpacing(a){var b=a.length;var i,diff;if(b<2){return false}for(diff=a[0],i=1;i<b;++i){if(a[i]-a[i-1]!==diff){return false}}return diff}var cr=function cr(a){return a==='left'?'right':a==='right'?'left':a};var cs=function cs(a,b,c){return b==='top'||b==='left'?a[b]+c:a[b]-c};function sample(a,b){var c=[];var d=a.length/b;var e=a.length;var i=0;for(;i<e;i+=d){c.push(a[Math.floor(i)])}return c}function getPixelForGridLine(a,b,c){var d=a.ticks.length;var e=Math.min(b,d-1);var f=a._startPixel;var g=a._endPixel;var h=1e-6;var i=a.getPixelForTick(e);var j;if(c){if(d===1){j=Math.max(i-f,g-i)}else if(b===0){j=(a.getPixelForTick(1)-i)/2}else{j=(i-a.getPixelForTick(e-1))/2}i+=e<b?j:-j;if(i<f-h||i>g+h){return}}return i}function garbageCollect(d,e){each(d,function(a){var b=a.gc;var c=b.length/2;var i;if(c>e){for(i=0;i<c;++i){delete a.data[b[i]]}b.splice(0,c)}})}function getTickMarkLength(a){return a.drawTicks?a.tickLength:0}function getTitleHeight(a,b){if(!a.display){return 0}var c=toFont(a.font,b);var d=toPadding(a.padding);var e=isArray(a.text)?a.text.length:1;return e*c.lineHeight+d.height}function createScaleContext(a,b){return Object.assign(Object.create(a),{scale:b,type:'scale'})}function createTickContext(a,b,c){return Object.assign(Object.create(a),{tick:c,index:b,type:'tick'})}function titleAlign(a,b,c){var d=M(a);if(c&&b!=='right'||!c&&b==='right'){d=cr(d)}return d}function titleArgs(a,b,c,d){var e=a.top,left=a.left,bottom=a.bottom,right=a.right;var f=0;var g,titleX,titleY;if(a.isHorizontal()){titleX=N(d,left,right);titleY=cs(a,c,b);g=right-left}else{titleX=cs(a,c,b);titleY=N(d,bottom,e);f=c==='left'?-bw:bw}return{titleX:titleX,titleY:titleY,maxWidth:g,rotation:f}}var ct=function(J){_inherits(ct,J);var K=_createSuper(ct);function ct(a){var b;_classCallCheck(this,ct);b=K.call(this);b.id=a.id;b.type=a.type;b.options=undefined;b.ctx=a.ctx;b.chart=a.chart;b.top=undefined;b.bottom=undefined;b.left=undefined;b.right=undefined;b.width=undefined;b.height=undefined;b._margins={left:0,right:0,top:0,bottom:0};b.maxWidth=undefined;b.maxHeight=undefined;b.paddingTop=undefined;b.paddingBottom=undefined;b.paddingLeft=undefined;b.paddingRight=undefined;b.axis=undefined;b.labelRotation=undefined;b.min=undefined;b.max=undefined;b._range=undefined;b.ticks=[];b._gridLineItems=null;b._labelItems=null;b._labelSizes=null;b._length=0;b._maxLength=0;b._longestTextCache={};b._startPixel=undefined;b._endPixel=undefined;b._reversePixels=false;b._userMax=undefined;b._userMin=undefined;b._suggestedMax=undefined;b._suggestedMin=undefined;b._ticksLength=0;b._borderValue=0;b._cache={};b._dataLimitsCached=false;b.$context=undefined;return b}_createClass(ct,[{key:"init",value:function init(a){var b=this;b.options=a.setContext(b.getContext());b.axis=a.axis;b._userMin=b.parse(a.min);b._userMax=b.parse(a.max);b._suggestedMin=b.parse(a.suggestedMin);b._suggestedMax=b.parse(a.suggestedMax)}},{key:"parse",value:function parse(a,b){return a}},{key:"getUserBounds",value:function getUserBounds(){var a=this._userMin,_userMax=this._userMax,_suggestedMin=this._suggestedMin,_suggestedMax=this._suggestedMax;a=finiteOrDefault(a,Number.POSITIVE_INFINITY);_userMax=finiteOrDefault(_userMax,Number.NEGATIVE_INFINITY);_suggestedMin=finiteOrDefault(_suggestedMin,Number.POSITIVE_INFINITY);_suggestedMax=finiteOrDefault(_suggestedMax,Number.NEGATIVE_INFINITY);return{min:finiteOrDefault(a,_suggestedMin),max:finiteOrDefault(_userMax,_suggestedMax),minDefined:bf(a),maxDefined:bf(_userMax)}}},{key:"getMinMax",value:function getMinMax(a){var b=this;var c=b.getUserBounds(),min=c.min,max=c.max,minDefined=c.minDefined,maxDefined=c.maxDefined;var d;if(minDefined&&maxDefined){return{min:min,max:max}}var e=b.getMatchingVisibleMetas();for(var i=0,ilen=e.length;i<ilen;++i){d=e[i].controller.getMinMax(b,a);if(!minDefined){min=Math.min(min,d.min)}if(!maxDefined){max=Math.max(max,d.max)}}return{min:finiteOrDefault(min,finiteOrDefault(max,min)),max:finiteOrDefault(max,finiteOrDefault(min,max))}}},{key:"getPadding",value:function getPadding(){var a=this;return{left:a.paddingLeft||0,top:a.paddingTop||0,right:a.paddingRight||0,bottom:a.paddingBottom||0}}},{key:"getTicks",value:function getTicks(){return this.ticks}},{key:"getLabels",value:function getLabels(){var a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels||[]}},{key:"beforeLayout",value:function beforeLayout(){this._cache={};this._dataLimitsCached=false}},{key:"beforeUpdate",value:function beforeUpdate(){callback(this.options.beforeUpdate,[this])}},{key:"update",value:function update(a,b,c){var d=this;var e=d.options.ticks;var f=e.sampleSize;d.beforeUpdate();d.maxWidth=a;d.maxHeight=b;d._margins=c=Object.assign({left:0,right:0,top:0,bottom:0},c);d.ticks=null;d._labelSizes=null;d._gridLineItems=null;d._labelItems=null;d.beforeSetDimensions();d.setDimensions();d.afterSetDimensions();d._maxLength=d.isHorizontal()?d.width+c.left+c.right:d.height+c.top+c.bottom;if(!d._dataLimitsCached){d.beforeDataLimits();d.determineDataLimits();d.afterDataLimits();d._range=_addGrace(d,d.options.grace);d._dataLimitsCached=true}d.beforeBuildTicks();d.ticks=d.buildTicks()||[];d.afterBuildTicks();var g=f<d.ticks.length;d._convertTicksToLabels(g?sample(d.ticks,f):d.ticks);d.configure();d.beforeCalculateLabelRotation();d.calculateLabelRotation();d.afterCalculateLabelRotation();if(e.display&&(e.autoSkip||e.source==='auto')){d.ticks=autoSkip(d,d.ticks);d._labelSizes=null}if(g){d._convertTicksToLabels(d.ticks)}d.beforeFit();d.fit();d.afterFit();d.afterUpdate()}},{key:"configure",value:function configure(){var a=this;var b=a.options.reverse;var c,endPixel;if(a.isHorizontal()){c=a.left;endPixel=a.right}else{c=a.top;endPixel=a.bottom;b=!b}a._startPixel=c;a._endPixel=endPixel;a._reversePixels=b;a._length=endPixel-c;a._alignToPixels=a.options.alignToPixels}},{key:"afterUpdate",value:function afterUpdate(){callback(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function setDimensions(){var a=this;if(a.isHorizontal()){a.width=a.maxWidth;a.left=0;a.right=a.width}else{a.height=a.maxHeight;a.top=0;a.bottom=a.height}a.paddingLeft=0;a.paddingTop=0;a.paddingRight=0;a.paddingBottom=0}},{key:"afterSetDimensions",value:function afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function _callHooks(a){var b=this;b.chart.notifyPlugins(a,b.getContext());callback(b.options[a],[b])}},{key:"beforeDataLimits",value:function beforeDataLimits(){this._callHooks('beforeDataLimits')}},{key:"determineDataLimits",value:function determineDataLimits(){}},{key:"afterDataLimits",value:function afterDataLimits(){this._callHooks('afterDataLimits')}},{key:"beforeBuildTicks",value:function beforeBuildTicks(){this._callHooks('beforeBuildTicks')}},{key:"buildTicks",value:function buildTicks(){return[]}},{key:"afterBuildTicks",value:function afterBuildTicks(){this._callHooks('afterBuildTicks')}},{key:"beforeTickToLabelConversion",value:function beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function generateTickLabels(a){var b=this;var c=b.options.ticks;var i,ilen,tick;for(i=0,ilen=a.length;i<ilen;i++){tick=a[i];tick.label=callback(c.callback,[tick.value,i,a],b)}for(i=0;i<ilen;i++){if(isNullOrUndef(a[i].label)){a.splice(i,1);ilen--;i--}}}},{key:"afterTickToLabelConversion",value:function afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function calculateLabelRotation(){var a=this;var b=a.options;var c=b.ticks;var d=a.ticks.length;var e=c.minRotation||0;var f=c.maxRotation;var g=e;var h,maxHeight,maxLabelDiagonal;if(!a._isVisible()||!c.display||e>=f||d<=1||!a.isHorizontal()){a.labelRotation=e;return}var i=a._getLabelSizes();var j=i.widest.width;var k=i.highest.height;var l=_limitValue(a.chart.width-j,0,a.maxWidth);h=b.offset?a.maxWidth/d:l/(d-1);if(j+6>h){h=l/(d-(b.offset?0.5:1));maxHeight=a.maxHeight-getTickMarkLength(b.grid)-c.padding-getTitleHeight(b.title,a.chart.options.font);maxLabelDiagonal=Math.sqrt(j*j+k*k);g=toDegrees(Math.min(Math.asin(Math.min((i.highest.height+6)/h,1)),Math.asin(Math.min(maxHeight/maxLabelDiagonal,1))-Math.asin(k/maxLabelDiagonal)));g=Math.max(e,Math.min(f,g))}a.labelRotation=g}},{key:"afterCalculateLabelRotation",value:function afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}},{key:"beforeFit",value:function beforeFit(){callback(this.options.beforeFit,[this])}},{key:"fit",value:function fit(){var a=this;var b={width:0,height:0};var c=a.chart,_me$options=a.options,tickOpts=_me$options.ticks,titleOpts=_me$options.title,gridOpts=_me$options.grid;var d=a._isVisible();var e=a.isHorizontal();if(d){var f=getTitleHeight(titleOpts,c.options.font);if(e){b.width=a.maxWidth;b.height=getTickMarkLength(gridOpts)+f}else{b.height=a.maxHeight;b.width=getTickMarkLength(gridOpts)+f}if(tickOpts.display&&a.ticks.length){var g=a._getLabelSizes(),first=g.first,last=g.last,widest=g.widest,highest=g.highest;var h=tickOpts.padding*2;var i=toRadians(a.labelRotation);var j=Math.cos(i);var k=Math.sin(i);if(e){var l=tickOpts.mirror?0:k*widest.width+j*highest.height;b.height=Math.min(a.maxHeight,b.height+l+h)}else{var m=tickOpts.mirror?0:j*widest.width+k*highest.height;b.width=Math.min(a.maxWidth,b.width+m+h)}a._calculatePadding(first,last,k,j)}}a._handleMargins();if(e){a.width=a._length=c.width-a._margins.left-a._margins.right;a.height=b.height}else{a.width=b.width;a.height=a._length=c.height-a._margins.top-a._margins.bottom}}},{key:"_calculatePadding",value:function _calculatePadding(a,b,c,d){var e=this;var f=e.options,_me$options2$ticks=f.ticks,align=_me$options2$ticks.align,padding=_me$options2$ticks.padding,position=f.position;var g=e.labelRotation!==0;var h=position!=='top'&&e.axis==='x';if(e.isHorizontal()){var i=e.getPixelForTick(0)-e.left;var j=e.right-e.getPixelForTick(e.ticks.length-1);var k=0;var l=0;if(g){if(h){k=d*a.width;l=c*b.height}else{k=c*a.height;l=d*b.width}}else if(align==='start'){l=b.width}else if(align==='end'){k=a.width}else{k=a.width/2;l=b.width/2}e.paddingLeft=Math.max((k-i+padding)*e.width/(e.width-i),0);e.paddingRight=Math.max((l-j+padding)*e.width/(e.width-j),0)}else{var m=b.height/2;var n=a.height/2;if(align==='start'){m=0;n=a.height}else if(align==='end'){m=b.height;n=0}e.paddingTop=m+padding;e.paddingBottom=n+padding}}},{key:"_handleMargins",value:function _handleMargins(){var a=this;if(a._margins){a._margins.left=Math.max(a.paddingLeft,a._margins.left);a._margins.top=Math.max(a.paddingTop,a._margins.top);a._margins.right=Math.max(a.paddingRight,a._margins.right);a._margins.bottom=Math.max(a.paddingBottom,a._margins.bottom)}}},{key:"afterFit",value:function afterFit(){callback(this.options.afterFit,[this])}},{key:"isHorizontal",value:function isHorizontal(){var a=this.options,axis=a.axis,position=a.position;return position==='top'||position==='bottom'||axis==='x'}},{key:"isFullSize",value:function isFullSize(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function _convertTicksToLabels(a){var b=this;b.beforeTickToLabelConversion();b.generateTickLabels(a);b.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function _getLabelSizes(){var a=this;var b=a._labelSizes;if(!b){var c=a.options.ticks.sampleSize;var d=a.ticks;if(c<d.length){d=sample(d,c)}a._labelSizes=b=a._computeLabelSizes(d,d.length)}return b}},{key:"_computeLabelSizes",value:function _computeLabelSizes(b,c){var d=this.ctx,caches=this._longestTextCache;var e=[];var f=[];var g=0;var h=0;var i,j,jlen,label,tickFont,fontString,cache,lineHeight,width,height,nestedLabel;for(i=0;i<c;++i){label=b[i].label;tickFont=this._resolveTickFontOptions(i);d.font=fontString=tickFont.string;cache=caches[fontString]=caches[fontString]||{data:{},gc:[]};lineHeight=tickFont.lineHeight;width=height=0;if(!isNullOrUndef(label)&&!isArray(label)){width=_measureText(d,cache.data,cache.gc,width,label);height=lineHeight}else if(isArray(label)){for(j=0,jlen=label.length;j<jlen;++j){nestedLabel=label[j];if(!isNullOrUndef(nestedLabel)&&!isArray(nestedLabel)){width=_measureText(d,cache.data,cache.gc,width,nestedLabel);height+=lineHeight}}}e.push(width);f.push(height);g=Math.max(width,g);h=Math.max(height,h)}garbageCollect(caches,c);var k=e.indexOf(g);var l=f.indexOf(h);var m=function m(a){return{width:e[a]||0,height:f[a]||0}};return{first:m(0),last:m(c-1),widest:m(k),highest:m(l),widths:e,heights:f}}},{key:"getLabelForValue",value:function getLabelForValue(a){return a}},{key:"getPixelForValue",value:function getPixelForValue(a,b){return NaN}},{key:"getValueForPixel",value:function getValueForPixel(a){}},{key:"getPixelForTick",value:function getPixelForTick(a){var b=this.ticks;if(a<0||a>b.length-1){return null}return this.getPixelForValue(b[a].value)}},{key:"getPixelForDecimal",value:function getPixelForDecimal(a){var b=this;if(b._reversePixels){a=1-a}var c=b._startPixel+a*b._length;return _int16Range(b._alignToPixels?_alignPixel(b.chart,c,0):c)}},{key:"getDecimalForPixel",value:function getDecimalForPixel(a){var b=(a-this._startPixel)/this._length;return this._reversePixels?1-b:b}},{key:"getBasePixel",value:function getBasePixel(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function getBaseValue(){var a=this.min,max=this.max;return a<0&&max<0?max:a>0&&max>0?a:0}},{key:"getContext",value:function getContext(a){var b=this;var c=b.ticks||[];if(a>=0&&a<c.length){var d=c[a];return d.$context||(d.$context=createTickContext(b.getContext(),a,d))}return b.$context||(b.$context=createScaleContext(b.chart.getContext(),b))}},{key:"_tickSize",value:function _tickSize(){var a=this;var b=a.options.ticks;var c=toRadians(a.labelRotation);var d=Math.abs(Math.cos(c));var e=Math.abs(Math.sin(c));var f=a._getLabelSizes();var g=b.autoSkipPadding||0;var w=f?f.widest.width+g:0;var h=f?f.highest.height+g:0;return a.isHorizontal()?h*d>w*e?w/d:h/e:h*e<w*d?h/d:w/e}},{key:"_isVisible",value:function _isVisible(){var a=this.options.display;if(a!=='auto'){return!!a}return this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function _computeGridLineItems(b){var c=this;var d=c.axis;var e=c.chart;var f=c.options;var g=f.grid,position=f.position;var h=g.offset;var j=c.isHorizontal();var k=c.ticks;var l=k.length+(h?1:0);var m=getTickMarkLength(g);var n=[];var o=g.setContext(c.getContext());var p=o.drawBorder?o.borderWidth:0;var q=p/2;var r=function r(a){return _alignPixel(e,a,p)};var s,i,lineValue,alignedLineValue;var t,ty1,tx2,ty2,x1,y1,x2,y2;if(position==='top'){s=r(c.bottom);ty1=c.bottom-m;ty2=s-q;y1=r(b.top)+q;y2=b.bottom}else if(position==='bottom'){s=r(c.top);y1=b.top;y2=r(b.bottom)-q;ty1=s+q;ty2=c.top+m}else if(position==='left'){s=r(c.right);t=c.right-m;tx2=s-q;x1=r(b.left)+q;x2=b.right}else if(position==='right'){s=r(c.left);x1=b.left;x2=r(b.right)-q;t=s+q;tx2=c.left+m}else if(d==='x'){if(position==='center'){s=r((b.top+b.bottom)/2+0.5)}else if(isObject(position)){var u=Object.keys(position)[0];var v=position[u];s=r(c.chart.scales[u].getPixelForValue(v))}y1=b.top;y2=b.bottom;ty1=s+q;ty2=ty1+m}else if(d==='y'){if(position==='center'){s=r((b.left+b.right)/2)}else if(isObject(position)){var w=Object.keys(position)[0];var x=position[w];s=r(c.chart.scales[w].getPixelForValue(x))}t=s-q;tx2=t-m;x1=b.left;x2=b.right}for(i=0;i<l;++i){var y=g.setContext(c.getContext(i));var z=y.lineWidth;var A=y.color;var B=g.borderDash||[];var C=y.borderDashOffset;var D=y.tickWidth;var E=y.tickColor;var F=y.tickBorderDash||[];var G=y.tickBorderDashOffset;lineValue=getPixelForGridLine(c,i,h);if(lineValue===undefined){continue}alignedLineValue=_alignPixel(e,lineValue,z);if(j){t=tx2=x1=x2=alignedLineValue}else{ty1=ty2=y1=y2=alignedLineValue}n.push({tx1:t,ty1:ty1,tx2:tx2,ty2:ty2,x1:x1,y1:y1,x2:x2,y2:y2,width:z,color:A,borderDash:B,borderDashOffset:C,tickWidth:D,tickColor:E,tickBorderDash:F,tickBorderDashOffset:G})}c._ticksLength=l;c._borderValue=s;return n}},{key:"_computeLabelItems",value:function _computeLabelItems(a){var b=this;var c=b.axis;var d=b.options;var e=d.position,optionTicks=d.ticks;var f=b.isHorizontal();var g=b.ticks;var h=optionTicks.align,crossAlign=optionTicks.crossAlign,padding=optionTicks.padding,mirror=optionTicks.mirror;var j=getTickMarkLength(d.grid);var k=j+padding;var l=mirror?-padding:k;var m=-toRadians(b.labelRotation);var n=[];var i,ilen,tick,label,x,y,textAlign,pixel,font,lineHeight,lineCount,textOffset;var o='middle';if(e==='top'){y=b.bottom-l;textAlign=b._getXAxisLabelAlignment()}else if(e==='bottom'){y=b.top+l;textAlign=b._getXAxisLabelAlignment()}else if(e==='left'){var p=b._getYAxisLabelAlignment(j);textAlign=p.textAlign;x=p.x}else if(e==='right'){var q=b._getYAxisLabelAlignment(j);textAlign=q.textAlign;x=q.x}else if(c==='x'){if(e==='center'){y=(a.top+a.bottom)/2+k}else if(isObject(e)){var r=Object.keys(e)[0];var s=e[r];y=b.chart.scales[r].getPixelForValue(s)+k}textAlign=b._getXAxisLabelAlignment()}else if(c==='y'){if(e==='center'){x=(a.left+a.right)/2-k}else if(isObject(e)){var t=Object.keys(e)[0];var u=e[t];x=b.chart.scales[t].getPixelForValue(u)}textAlign=b._getYAxisLabelAlignment(j).textAlign}if(c==='y'){if(h==='start'){o='top'}else if(h==='end'){o='bottom'}}var v=b._getLabelSizes();for(i=0,ilen=g.length;i<ilen;++i){tick=g[i];label=tick.label;var w=optionTicks.setContext(b.getContext(i));pixel=b.getPixelForTick(i)+optionTicks.labelOffset;font=b._resolveTickFontOptions(i);lineHeight=font.lineHeight;lineCount=isArray(label)?label.length:1;var z=lineCount/2;var A=w.color;var B=w.textStrokeColor;var C=w.textStrokeWidth;if(f){x=pixel;if(e==='top'){if(crossAlign==='near'||m!==0){textOffset=-lineCount*lineHeight+lineHeight/2}else if(crossAlign==='center'){textOffset=-v.highest.height/2-z*lineHeight+lineHeight}else{textOffset=-v.highest.height+lineHeight/2}}else{if(crossAlign==='near'||m!==0){textOffset=lineHeight/2}else if(crossAlign==='center'){textOffset=v.highest.height/2-z*lineHeight}else{textOffset=v.highest.height-lineCount*lineHeight}}if(mirror){textOffset*=-1}}else{y=pixel;textOffset=(1-lineCount)*lineHeight/2}var D=void 0;if(w.showLabelBackdrop){var E=toPadding(w.backdropPadding);var F=v.heights[i];var G=v.widths[i];var H=y+textOffset-E.top;var I=x-E.left;switch(o){case'middle':H-=F/2;break;case'bottom':H-=F;break}switch(textAlign){case'center':I-=G/2;break;case'right':I-=G;break}D={left:I,top:H,width:G+E.width,height:F+E.height,color:w.backdropColor}}n.push({rotation:m,label:label,font:font,color:A,strokeColor:B,strokeWidth:C,textOffset:textOffset,textAlign:textAlign,textBaseline:o,translation:[x,y],backdrop:D})}return n}},{key:"_getXAxisLabelAlignment",value:function _getXAxisLabelAlignment(){var a=this;var b=a.options,position=b.position,ticks=b.ticks;var c=-toRadians(a.labelRotation);if(c){return position==='top'?'left':'right'}var d='center';if(ticks.align==='start'){d='left'}else if(ticks.align==='end'){d='right'}return d}},{key:"_getYAxisLabelAlignment",value:function _getYAxisLabelAlignment(a){var b=this;var c=b.options,position=c.position,_me$options4$ticks=c.ticks,crossAlign=_me$options4$ticks.crossAlign,mirror=_me$options4$ticks.mirror,padding=_me$options4$ticks.padding;var d=b._getLabelSizes();var e=a+padding;var f=d.widest.width;var g;var x;if(position==='left'){if(mirror){g='left';x=b.right+padding}else{x=b.right-e;if(crossAlign==='near'){g='right'}else if(crossAlign==='center'){g='center';x-=f/2}else{g='left';x=b.left}}}else if(position==='right'){if(mirror){g='right';x=b.left+padding}else{x=b.left+e;if(crossAlign==='near'){g='left'}else if(crossAlign==='center'){g='center';x+=f/2}else{g='right';x=b.right}}}else{g='right'}return{textAlign:g,x:x}}},{key:"_computeLabelArea",value:function _computeLabelArea(){var a=this;if(a.options.ticks.mirror){return}var b=a.chart;var c=a.options.position;if(c==='left'||c==='right'){return{top:0,left:a.left,bottom:b.height,right:a.right}}if(c==='top'||c==='bottom'){return{top:a.top,left:0,bottom:a.bottom,right:b.width}}}},{key:"drawBackground",value:function drawBackground(){var a=this.ctx,backgroundColor=this.options.backgroundColor,left=this.left,top=this.top,width=this.width,height=this.height;if(backgroundColor){a.save();a.fillStyle=backgroundColor;a.fillRect(left,top,width,height);a.restore()}}},{key:"getLineWidthForValue",value:function getLineWidthForValue(a){var b=this;var c=b.options.grid;if(!b._isVisible()||!c.display){return 0}var d=b.ticks;var e=d.findIndex(function(t){return t.value===a});if(e>=0){var f=c.setContext(b.getContext(e));return f.lineWidth}return 0}},{key:"drawGrid",value:function drawGrid(d){var e=this;var f=e.options.grid;var g=e.ctx;var h=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(d));var i,ilen;var j=function j(a,b,c){if(!c.width||!c.color){return}g.save();g.lineWidth=c.width;g.strokeStyle=c.color;g.setLineDash(c.borderDash||[]);g.lineDashOffset=c.borderDashOffset;g.beginPath();g.moveTo(a.x,a.y);g.lineTo(b.x,b.y);g.stroke();g.restore()};if(f.display){for(i=0,ilen=h.length;i<ilen;++i){var k=h[i];if(f.drawOnChartArea){j({x:k.x1,y:k.y1},{x:k.x2,y:k.y2},k)}if(f.drawTicks){j({x:k.tx1,y:k.ty1},{x:k.tx2,y:k.ty2},{color:k.tickColor,width:k.tickWidth,borderDash:k.tickBorderDash,borderDashOffset:k.tickBorderDashOffset})}}}}},{key:"drawBorder",value:function drawBorder(){var a=this;var b=a.chart,ctx=a.ctx,grid=a.options.grid;var c=grid.setContext(a.getContext());var d=grid.drawBorder?c.borderWidth:0;if(!d){return}var e=grid.setContext(a.getContext(0)).lineWidth;var f=a._borderValue;var g,x2,y1,y2;if(a.isHorizontal()){g=_alignPixel(b,a.left,d)-d/2;x2=_alignPixel(b,a.right,e)+e/2;y1=y2=f}else{y1=_alignPixel(b,a.top,d)-d/2;y2=_alignPixel(b,a.bottom,e)+e/2;g=x2=f}ctx.save();ctx.lineWidth=c.borderWidth;ctx.strokeStyle=c.borderColor;ctx.beginPath();ctx.moveTo(g,y1);ctx.lineTo(x2,y2);ctx.stroke();ctx.restore()}},{key:"drawLabels",value:function drawLabels(a){var b=this;var c=b.options.ticks;if(!c.display){return}var d=b.ctx;var e=b._computeLabelArea();if(e){clipArea(d,e)}var f=b._labelItems||(b._labelItems=b._computeLabelItems(a));var i,ilen;for(i=0,ilen=f.length;i<ilen;++i){var g=f[i];var h=g.font;var j=g.label;if(g.backdrop){d.fillStyle=g.backdrop.color;d.fillRect(g.backdrop.left,g.backdrop.top,g.backdrop.width,g.backdrop.height)}var y=g.textOffset;renderText(d,j,0,y,h,g)}if(e){unclipArea(d)}}},{key:"drawTitle",value:function drawTitle(){var a=this.ctx,_this$options2=this.options,position=_this$options2.position,title=_this$options2.title,reverse=_this$options2.reverse;if(!title.display){return}var b=toFont(title.font);var c=toPadding(title.padding);var d=title.align;var e=b.lineHeight/2;if(position==='bottom'){e+=c.bottom;if(isArray(title.text)){e+=b.lineHeight*(title.text.length-1)}}else{e+=c.top}var f=titleArgs(this,e,position,d),titleX=f.titleX,titleY=f.titleY,maxWidth=f.maxWidth,rotation=f.rotation;renderText(a,title.text,0,0,b,{color:title.color,maxWidth:maxWidth,rotation:rotation,textAlign:titleAlign(d,position,reverse),textBaseline:'middle',translation:[titleX,titleY]})}},{key:"draw",value:function draw(a){var b=this;if(!b._isVisible()){return}b.drawBackground();b.drawGrid(a);b.drawBorder();b.drawTitle();b.drawLabels(a)}},{key:"_layers",value:function _layers(){var b=this;var c=b.options;var d=c.ticks&&c.ticks.z||0;var e=c.grid&&c.grid.z||0;if(!b._isVisible()||b.draw!==ct.prototype.draw){return[{z:d,draw:function draw(a){b.draw(a)}}]}return[{z:e,draw:function draw(a){b.drawBackground();b.drawGrid(a);b.drawTitle()}},{z:e+1,draw:function draw(){b.drawBorder()}},{z:d,draw:function draw(a){b.drawLabels(a)}}]}},{key:"getMatchingVisibleMetas",value:function getMatchingVisibleMetas(a){var b=this;var c=b.chart.getSortedVisibleDatasetMetas();var d=b.axis+'AxisID';var e=[];var i,ilen;for(i=0,ilen=c.length;i<ilen;++i){var f=c[i];if(f[d]===b.id&&(!a||f.type===a)){e.push(f)}}return e}},{key:"_resolveTickFontOptions",value:function _resolveTickFontOptions(a){var b=this.options.ticks.setContext(this.getContext(a));return toFont(b.font)}},{key:"_maxDigits",value:function _maxDigits(){var a=this;var b=a._resolveTickFontOptions(0).lineHeight;return a.isHorizontal()?a.width/b/0.7:a.height/b}}]);return ct}(cn);function _createResolver(e){var f;var g=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[''];var h=arguments.length>2&&arguments[2]!==undefined?arguments[2]:e;var i=arguments.length>3?arguments[3]:undefined;var j=arguments.length>4&&arguments[4]!==undefined?arguments[4]:function(){return e[0]};if(!bk(i)){i=_resolve('_fallback',e)}var k=(f={},_defineProperty(f,Symbol.toStringTag,'Object'),_defineProperty(f,"_cacheable",true),_defineProperty(f,"_scopes",e),_defineProperty(f,"_rootScopes",h),_defineProperty(f,"_fallback",i),_defineProperty(f,"_getTarget",j),_defineProperty(f,"override",function override(a){return _createResolver([a].concat(_toConsumableArray(e)),g,h,i)}),f);return new Proxy(k,{deleteProperty:function deleteProperty(a,b){delete a[b];delete a._keys;delete e[0][b];return true},get:function get(a,b){return _cached(a,b,function(){return _resolveWithPrefixes(b,g,e,a)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(a,b){return Reflect.getOwnPropertyDescriptor(a._scopes[0],b)},getPrototypeOf:function getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has:function has(a,b){return getKeysFromAllScopes(a).includes(b)},ownKeys:function ownKeys(a){return getKeysFromAllScopes(a)},set:function set(a,b,c){var d=a._storage||(a._storage=j());d[b]=c;delete a[b];delete a._keys;return true}})}function _attachContext(d,e,f,g){var h={_cacheable:false,_proxy:d,_context:e,_subProxy:f,_stack:new Set(),_descriptors:_descriptors(d,g),setContext:function setContext(a){return _attachContext(d,a,f,g)},override:function override(a){return _attachContext(d.override(a),e,f,g)}};return new Proxy(h,{deleteProperty:function deleteProperty(a,b){delete a[b];delete d[b];return true},get:function get(a,b,c){return _cached(a,b,function(){return _resolveWithContext(a,b,c)})},getOwnPropertyDescriptor:function getOwnPropertyDescriptor(a,b){return a._descriptors.allKeys?Reflect.has(d,b)?{enumerable:true,configurable:true}:undefined:Reflect.getOwnPropertyDescriptor(d,b)},getPrototypeOf:function getPrototypeOf(){return Reflect.getPrototypeOf(d)},has:function has(a,b){return Reflect.has(d,b)},ownKeys:function ownKeys(){return Reflect.ownKeys(d)},set:function set(a,b,c){d[b]=c;delete a[b];return true}})}function _descriptors(a){var b=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{scriptable:true,indexable:true};var c=a._scriptable,_scriptable=c===void 0?b.scriptable:c,_proxy$_indexable=a._indexable,_indexable=_proxy$_indexable===void 0?b.indexable:_proxy$_indexable,_proxy$_allKeys=a._allKeys,_allKeys=_proxy$_allKeys===void 0?b.allKeys:_proxy$_allKeys;return{allKeys:_allKeys,scriptable:_scriptable,indexable:_indexable,isScriptable:bl(_scriptable)?_scriptable:function(){return _scriptable},isIndexable:bl(_indexable)?_indexable:function(){return _indexable}}}var cu=function cu(a,b){return a?a+_capitalize(b):b};var cv=function cv(a,b){return isObject(b)&&a!=='adapters'};function _cached(a,b,c){var d=a[b];if(bk(d)){return d}d=c();if(bk(d)){a[b]=d}return d}function _resolveWithContext(a,b,c){var d=a._proxy,_context=a._context,_subProxy=a._subProxy,bo=a._descriptors;var e=d[b];if(bl(e)&&bo.isScriptable(b)){e=_resolveScriptable(b,e,a,c)}if(isArray(e)&&e.length){e=_resolveArray(b,e,a,bo.isIndexable)}if(cv(b,e)){e=_attachContext(e,_context,_subProxy&&_subProxy[b],bo)}return e}function _resolveScriptable(a,b,c,d){var e=c._proxy,_context=c._context,_subProxy=c._subProxy,_stack=c._stack;if(_stack.has(a)){throw new Error('Recursion detected: '+_toConsumableArray(_stack).join('->')+'->'+a);}_stack.add(a);b=b(_context,_subProxy||d);_stack.delete(a);if(isObject(b)){b=createSubResolver(e._scopes,e,a,b)}return b}function _resolveArray(a,b,c,d){var e=c._proxy,_context=c._context,_subProxy=c._subProxy,bo=c._descriptors;if(bk(_context.index)&&d(a)){b=b[_context.index%b.length]}else if(isObject(b[0])){var f=b;var g=e._scopes.filter(function(s){return s!==f});b=[];var h=_createForOfIteratorHelper(f),_step6;try{for(h.s();!(_step6=h.n()).done;){var i=_step6.value;var j=createSubResolver(g,e,a,i);b.push(_attachContext(j,_context,_subProxy&&_subProxy[a],bo))}}catch(err){h.e(err)}finally{h.f()}}return b}function resolveFallback(a,b,c){return bl(a)?a(b,c):a}var cw=function cw(a,b){return a===true?b:typeof a==='string'?resolveObjectKey(b,a):undefined};function addScopes(a,b,c,d){var e=_createForOfIteratorHelper(b),_step7;try{for(e.s();!(_step7=e.n()).done;){var f=_step7.value;var g=cw(c,f);if(g){a.add(g);var h=resolveFallback(g._fallback,c,g);if(bk(h)&&h!==c&&h!==d){return h}}else if(g===false&&bk(d)&&c!==d){return null}}}catch(err){e.e(err)}finally{e.f()}return false}function createSubResolver(b,c,d,e){var f=c._rootScopes;var g=resolveFallback(c._fallback,d,e);var h=[].concat(_toConsumableArray(b),_toConsumableArray(f));var i=new Set();i.add(e);var j=addScopesFromKey(i,h,d,g||d);if(j===null){return false}if(bk(g)&&g!==d){j=addScopesFromKey(i,h,g,j);if(j===null){return false}}return _createResolver(Array.from(i),[''],f,g,function(){var a=c._getTarget();if(!(d in a)){a[d]={}}return a[d]})}function addScopesFromKey(a,b,c,d){while(c){c=addScopes(a,b,c,d)}return c}function _resolveWithPrefixes(a,b,c,d){var e;var f=_createForOfIteratorHelper(b),_step8;try{for(f.s();!(_step8=f.n()).done;){var g=_step8.value;e=_resolve(cu(g,a),c);if(bk(e)){return cv(a,e)?createSubResolver(c,d,a,e):e}}}catch(err){f.e(err)}finally{f.f()}}function _resolve(a,b){var c=_createForOfIteratorHelper(b),_step9;try{for(c.s();!(_step9=c.n()).done;){var d=_step9.value;if(!d){continue}var e=d[a];if(bk(e)){return e}}}catch(err){c.e(err)}finally{c.f()}}function getKeysFromAllScopes(a){var b=a._keys;if(!b){b=a._keys=resolveKeysFromAllScopes(a._scopes)}return b}function resolveKeysFromAllScopes(a){var b=new Set();var c=_createForOfIteratorHelper(a),_step10;try{for(c.s();!(_step10=c.n()).done;){var d=_step10.value;var e=_createForOfIteratorHelper(Object.keys(d).filter(function(k){return!k.startsWith('_')})),_step11;try{for(e.s();!(_step11=e.n()).done;){var f=_step11.value;b.add(f)}}catch(err){e.e(err)}finally{e.f()}}}catch(err){c.e(err)}finally{c.f()}return Array.from(b)}var cx=Number.EPSILON||1e-14;var cy=function cy(a,i){return i<a.length&&!a[i].skip&&a[i]};function splineCurve(a,b,c,t){var d=a.skip?b:a;var e=b;var f=c.skip?b:c;var g=distanceBetweenPoints(e,d);var h=distanceBetweenPoints(f,e);var i=g/(g+h);var j=h/(g+h);i=isNaN(i)?0:i;j=isNaN(j)?0:j;var k=t*i;var l=t*j;return{previous:{x:e.x-k*(f.x-d.x),y:e.y-k*(f.y-d.y)},next:{x:e.x+l*(f.x-d.x),y:e.y+l*(f.y-d.y)}}}function monotoneAdjust(a,b,c){var d=a.length;var e,betaK,tauK,squaredMagnitude,pointCurrent;var f=cy(a,0);for(var i=0;i<d-1;++i){pointCurrent=f;f=cy(a,i+1);if(!pointCurrent||!f){continue}if(almostEquals(b[i],0,cx)){c[i]=c[i+1]=0;continue}e=c[i]/b[i];betaK=c[i+1]/b[i];squaredMagnitude=Math.pow(e,2)+Math.pow(betaK,2);if(squaredMagnitude<=9){continue}tauK=3/Math.sqrt(squaredMagnitude);c[i]=e*tauK*b[i];c[i+1]=betaK*tauK*b[i]}}function monotoneCompute(a,b){var c=a.length;var d,pointBefore,pointCurrent;var e=cy(a,0);for(var i=0;i<c;++i){pointBefore=pointCurrent;pointCurrent=e;e=cy(a,i+1);if(!pointCurrent){continue}var f=pointCurrent,x=f.x,y=f.y;if(pointBefore){d=(x-pointBefore.x)/3;pointCurrent.cp1x=x-d;pointCurrent.cp1y=y-d*b[i]}if(e){d=(e.x-x)/3;pointCurrent.cp2x=x+d;pointCurrent.cp2y=y+d*b[i]}}}function splineCurveMonotone(a){var b=a.length;var c=Array(b).fill(0);var d=Array(b);var i,pointBefore,pointCurrent;var e=cy(a,0);for(i=0;i<b;++i){pointBefore=pointCurrent;pointCurrent=e;e=cy(a,i+1);if(!pointCurrent){continue}if(e){var f=e.x-pointCurrent.x;c[i]=f!==0?(e.y-pointCurrent.y)/f:0}d[i]=!pointBefore?c[i]:!e?c[i-1]:bA(c[i-1])!==bA(c[i])?0:(c[i-1]+c[i])/2}monotoneAdjust(a,c,d);monotoneCompute(a,d)}function capControlPoint(a,b,c){return Math.max(Math.min(a,c),b)}function capBezierPoints(a,b){var i,ilen,point,inArea,inAreaPrev;var c=_isPointInArea(a[0],b);for(i=0,ilen=a.length;i<ilen;++i){inAreaPrev=inArea;inArea=c;c=i<ilen-1&&_isPointInArea(a[i+1],b);if(!inArea){continue}point=a[i];if(inAreaPrev){point.cp1x=capControlPoint(point.cp1x,b.left,b.right);point.cp1y=capControlPoint(point.cp1y,b.top,b.bottom)}if(c){point.cp2x=capControlPoint(point.cp2x,b.left,b.right);point.cp2y=capControlPoint(point.cp2y,b.top,b.bottom)}}}function _updateBezierControlPoints(b,c,d,e){var i,ilen,point,controlPoints;if(c.spanGaps){b=b.filter(function(a){return!a.skip})}if(c.cubicInterpolationMode==='monotone'){splineCurveMonotone(b)}else{var f=e?b[b.length-1]:b[0];for(i=0,ilen=b.length;i<ilen;++i){point=b[i];controlPoints=splineCurve(f,point,b[Math.min(i+1,ilen-(e?0:1))%ilen],c.tension);point.cp1x=controlPoints.previous.x;point.cp1y=controlPoints.previous.y;point.cp2x=controlPoints.next.x;point.cp2y=controlPoints.next.y;f=point}}if(c.capBezierPoints){capBezierPoints(b,d)}}function _pointInLine(a,b,t,c){return{x:a.x+t*(b.x-a.x),y:a.y+t*(b.y-a.y)}}function _steppedInterpolation(a,b,t,c){return{x:a.x+t*(b.x-a.x),y:c==='middle'?t<0.5?a.y:b.y:c==='after'?t<1?a.y:b.y:t>0?b.y:a.y}}function _bezierInterpolation(f,g,t,h){var i={x:f.cp2x,y:f.cp2y};var j={x:g.cp1x,y:g.cp1y};var a=_pointInLine(f,i,t);var b=_pointInLine(i,j,t);var c=_pointInLine(j,g,t);var d=_pointInLine(a,b,t);var e=_pointInLine(b,c,t);return _pointInLine(d,e,t)}var cz=function cz(b,c){return{x:function x(a){return b+b+c-a},setWidth:function setWidth(w){c=w},textAlign:function textAlign(a){if(a==='center'){return a}return a==='right'?'left':'right'},xPlus:function xPlus(x,a){return x-a},leftForLtr:function leftForLtr(x,a){return x-a}}};var cA=function cA(){return{x:function x(a){return a},setWidth:function setWidth(w){},textAlign:function textAlign(a){return a},xPlus:function xPlus(x,a){return x+a},leftForLtr:function leftForLtr(x,a){return x}}};function getRtlAdapter(a,b,c){return a?cz(b,c):cA()}function overrideTextDirection(a,b){var c,original;if(b==='ltr'||b==='rtl'){c=a.canvas.style;original=[c.getPropertyValue('direction'),c.getPropertyPriority('direction')];c.setProperty('direction',b,'important');a.prevTextDirection=original}}function restoreTextDirection(a,b){if(b!==undefined){delete a.prevTextDirection;a.canvas.style.setProperty('direction',b[0],b[1])}}function propertyFn(c){if(c==='angle'){return{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}}return{between:function between(n,s,e){return n>=Math.min(s,e)&&n<=Math.max(e,s)},compare:function compare(a,b){return a-b},normalize:function normalize(x){return x}}}function normalizeSegment(a){var b=a.start,end=a.end,count=a.count,loop=a.loop,style=a.style;return{start:b%count,end:end%count,loop:loop&&(end-b+1)%count===0,style:style}}function getSegment(a,b,c){var d=c.property,startBound=c.start,endBound=c.end;var e=propertyFn(d),between=e.between,normalize=e.normalize;var f=b.length;var g=a.start,end=a.end,loop=a.loop;var i,ilen;if(loop){g+=f;end+=f;for(i=0,ilen=f;i<ilen;++i){if(!between(normalize(b[g%f][d]),startBound,endBound)){break}g--;end--}g%=f;end%=f}if(end<g){end+=f}return{start:g,end:end,loop:loop,style:a.style}}function _boundSegment(a,b,c){if(!c){return[a]}var d=c.property,startBound=c.start,endBound=c.end;var e=b.length;var f=propertyFn(d),compare=f.compare,between=f.between,normalize=f.normalize;var g=getSegment(a,b,c),start=g.start,end=g.end,loop=g.loop,style=g.style;var h=[];var j=false;var k=null;var l,point,prevValue;var m=function m(){return between(startBound,prevValue,l)&&compare(startBound,prevValue)!==0};var n=function n(){return compare(endBound,l)===0||between(endBound,prevValue,l)};var o=function o(){return j||m()};var p=function p(){return!j||n()};for(var i=start,prev=start;i<=end;++i){point=b[i%e];if(point.skip){continue}l=normalize(point[d]);j=between(l,startBound,endBound);if(k===null&&o()){k=compare(l,startBound)===0?i:prev}if(k!==null&&p()){h.push(normalizeSegment({start:k,end:i,loop:loop,count:e,style:style}));k=null}prev=i;prevValue=l}if(k!==null){h.push(normalizeSegment({start:k,end:end,loop:loop,count:e,style:style}))}return h}function _boundSegments(a,b){var c=[];var d=a.segments;for(var i=0;i<d.length;i++){var e=_boundSegment(d[i],a.points,b);if(e.length){c.push.apply(c,_toConsumableArray(e))}}return c}function findStartAndEnd(a,b,c,d){var e=0;var f=b-1;if(c&&!d){while(e<b&&!a[e].skip){e++}}while(e<b&&a[e].skip){e++}e%=b;if(c){f+=e}while(f>e&&a[f%b].skip){f--}f%=b;return{start:e,end:f}}function solidSegments(a,b,c,d){var e=a.length;var f=[];var g=b;var h=a[b];var i;for(i=b+1;i<=c;++i){var j=a[i%e];if(j.skip||j.stop){if(!h.skip){d=false;f.push({start:b%e,end:(i-1)%e,loop:d});b=g=j.stop?i:null}}else{g=i;if(h.skip){b=i}}h=j}if(g!==null){f.push({start:b%e,end:g%e,loop:d})}return f}function _computeSegments(a,b){var c=a.points;var d=a.options.spanGaps;var e=c.length;if(!e){return[]}var f=!!a._loop;var g=findStartAndEnd(c,e,f,d),start=g.start,end=g.end;if(d===true){return splitByStyles([{start:start,end:end,loop:f}],c,b)}var h=end<start?end+e:end;var i=!!a._fullLoop&&start===0&&end===e-1;return splitByStyles(solidSegments(c,start,h,i),c,b)}function splitByStyles(a,b,c){if(!c||!c.setContext||!b){return a}return doSplitByStyles(a,b,c)}function doSplitByStyles(a,b,c){var d=b.length;var e=[];var f=a[0].start;var i=f;var g=_createForOfIteratorHelper(a),_step12;try{for(g.s();!(_step12=g.n()).done;){var h=_step12.value;var j=void 0,style=void 0;var k=b[f%d];for(i=f+1;i<=h.end;i++){var l=b[i%d];style=readStyle(c.setContext({type:'segment',p0:k,p1:l}));if(styleChanged(style,j)){e.push({start:f,end:i-1,loop:h.loop,style:j});j=style;f=i-1}k=l;j=style}if(f<i-1){e.push({start:f,end:i-1,loop:h.loop,style:style});f=i-1}}}catch(err){g.e(err)}finally{g.f()}return e}function readStyle(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function styleChanged(a,b){return b&&JSON.stringify(a)!==JSON.stringify(b)}var cB=Object.freeze({__proto__:null,easingEffects:cc,color:_color,getHoverColor:getHoverColor,noop:noop,uid:be,isNullOrUndef:isNullOrUndef,isArray:isArray,isObject:isObject,isFinite:bf,finiteOrDefault:finiteOrDefault,valueOrDefault:valueOrDefault,toPercentage:bg,toDimension:bh,callback:callback,each:each,_elementsEqual:_elementsEqual,clone:clone,_merger:_merger,merge:merge,mergeIf:mergeIf,_mergerIf:_mergerIf,_deprecated:_deprecated,resolveObjectKey:resolveObjectKey,_capitalize:_capitalize,defined:bk,isFunction:bl,setsEqual:bm,toFontString:toFontString,_measureText:_measureText,_longestText:_longestText,_alignPixel:_alignPixel,clearCanvas:clearCanvas,drawPoint:drawPoint,_isPointInArea:_isPointInArea,clipArea:clipArea,unclipArea:unclipArea,_steppedLineTo:_steppedLineTo,_bezierCurveTo:_bezierCurveTo,renderText:renderText,addRoundedRectPath:addRoundedRectPath,_lookup:_lookup,_lookupByKey:bB,_rlookupByKey:bC,_filterBetween:_filterBetween,listenArrayEvents:listenArrayEvents,unlistenArrayEvents:unlistenArrayEvents,_arrayUnique:_arrayUnique,_createResolver:_createResolver,_attachContext:_attachContext,_descriptors:_descriptors,splineCurve:splineCurve,splineCurveMonotone:splineCurveMonotone,_updateBezierControlPoints:_updateBezierControlPoints,_getParentNode:_getParentNode,getStyle:getStyle,getRelativePosition:getRelativePosition$1,getMaximumSize:_getMaximumSize,retinaScale:retinaScale,supportsEventListenerOptions:bI,readUsedSize:readUsedSize,fontString:fontString,requestAnimFrame:L,throttled:throttled,debounce:debounce,_toLeftRightCenter:M,_alignStartEnd:N,_textX:O,_pointInLine:_pointInLine,_steppedInterpolation:_steppedInterpolation,_bezierInterpolation:_bezierInterpolation,formatNumber:formatNumber,toLineHeight:toLineHeight,_readValueToProps:_readValueToProps,toTRBL:toTRBL,toTRBLCorners:toTRBLCorners,toPadding:toPadding,toFont:toFont,resolve:resolve,_addGrace:_addGrace,PI:br,TAU:bs,PITAU:bt,INFINITY:bu,RAD_PER_DEG:bv,HALF_PI:bw,QUARTER_PI:bx,TWO_THIRDS_PI:by,log10:bz,sign:bA,niceNum:niceNum,_factorize:_factorize,isNumber:isNumber,almostEquals:almostEquals,almostWhole:almostWhole,_setMinAndMaxByKey:_setMinAndMaxByKey,toRadians:toRadians,toDegrees:toDegrees,_decimalPlaces:_decimalPlaces,getAngleFromPoint:getAngleFromPoint,distanceBetweenPoints:distanceBetweenPoints,_angleDiff:_angleDiff,_normalizeAngle:_normalizeAngle,_angleBetween:_angleBetween,_limitValue:_limitValue,_int16Range:_int16Range,getRtlAdapter:getRtlAdapter,overrideTextDirection:overrideTextDirection,restoreTextDirection:restoreTextDirection,_boundSegment:_boundSegment,_boundSegments:_boundSegments,_computeSegments:_computeSegments});var cC=function(){function cC(a,b,c){_classCallCheck(this,cC);this.type=a;this.scope=b;this.override=c;this.items=Object.create(null)}_createClass(cC,[{key:"isForType",value:function isForType(a){return Object.prototype.isPrototypeOf.call(this.type.prototype,a.prototype)}},{key:"register",value:function register(a){var b=this;var c=Object.getPrototypeOf(a);var d;if(isIChartComponent(c)){d=b.register(c)}var e=b.items;var f=a.id;var g=b.scope+'.'+f;if(!f){throw new Error('class does not have id: '+a);}if(f in e){return g}e[f]=a;registerDefaults(a,g,d);if(b.override){bq.override(a.id,a.overrides)}return g}},{key:"get",value:function get(a){return this.items[a]}},{key:"unregister",value:function unregister(a){var b=this.items;var c=a.id;var d=this.scope;if(c in b){delete b[c]}if(d&&c in bq[d]){delete bq[d][c];if(this.override){delete bn[c]}}}}]);return cC}();function registerDefaults(a,b,c){var d=merge(Object.create(null),[c?bq.get(c):{},bq.get(b),a.defaults]);bq.set(b,d);if(a.defaultRoutes){routeDefaults(b,a.defaultRoutes)}if(a.descriptors){bq.describe(b,a.descriptors)}}function routeDefaults(h,i){Object.keys(i).forEach(function(a){var b=a.split('.');var c=b.pop();var d=[h].concat(b).join('.');var e=i[a].split('.');var f=e.pop();var g=e.join('.');bq.route(d,c,g,f)})}function isIChartComponent(a){return'id'in a&&'defaults'in a}var cD=function(){function cD(){_classCallCheck(this,cD);this.controllers=new cC(cm,'datasets',true);this.elements=new cC(cn,'elements');this.plugins=new cC(Object,'plugins');this.scales=new cC(ct,'scales');this._typedRegistries=[this.controllers,this.scales,this.elements]}_createClass(cD,[{key:"add",value:function add(){for(var a=arguments.length,args=new Array(a),_key3=0;_key3<a;_key3++){args[_key3]=arguments[_key3]}this._each('register',args)}},{key:"remove",value:function remove(){for(var a=arguments.length,args=new Array(a),_key4=0;_key4<a;_key4++){args[_key4]=arguments[_key4]}this._each('unregister',args)}},{key:"addControllers",value:function addControllers(){for(var a=arguments.length,args=new Array(a),_key5=0;_key5<a;_key5++){args[_key5]=arguments[_key5]}this._each('register',args,this.controllers)}},{key:"addElements",value:function addElements(){for(var a=arguments.length,args=new Array(a),_key6=0;_key6<a;_key6++){args[_key6]=arguments[_key6]}this._each('register',args,this.elements)}},{key:"addPlugins",value:function addPlugins(){for(var a=arguments.length,args=new Array(a),_key7=0;_key7<a;_key7++){args[_key7]=arguments[_key7]}this._each('register',args,this.plugins)}},{key:"addScales",value:function addScales(){for(var a=arguments.length,args=new Array(a),_key8=0;_key8<a;_key8++){args[_key8]=arguments[_key8]}this._each('register',args,this.scales)}},{key:"getController",value:function getController(a){return this._get(a,this.controllers,'controller')}},{key:"getElement",value:function getElement(a){return this._get(a,this.elements,'element')}},{key:"getPlugin",value:function getPlugin(a){return this._get(a,this.plugins,'plugin')}},{key:"getScale",value:function getScale(a){return this._get(a,this.scales,'scale')}},{key:"removeControllers",value:function removeControllers(){for(var a=arguments.length,args=new Array(a),_key9=0;_key9<a;_key9++){args[_key9]=arguments[_key9]}this._each('unregister',args,this.controllers)}},{key:"removeElements",value:function removeElements(){for(var a=arguments.length,args=new Array(a),_key10=0;_key10<a;_key10++){args[_key10]=arguments[_key10]}this._each('unregister',args,this.elements)}},{key:"removePlugins",value:function removePlugins(){for(var a=arguments.length,args=new Array(a),_key11=0;_key11<a;_key11++){args[_key11]=arguments[_key11]}this._each('unregister',args,this.plugins)}},{key:"removeScales",value:function removeScales(){for(var a=arguments.length,args=new Array(a),_key12=0;_key12<a;_key12++){args[_key12]=arguments[_key12]}this._each('unregister',args,this.scales)}},{key:"_each",value:function _each(e,f,g){var h=this;_toConsumableArray(f).forEach(function(c){var d=g||h._getRegistryForType(c);if(g||d.isForType(c)||d===h.plugins&&c.id){h._exec(e,d,c)}else{each(c,function(a){var b=g||h._getRegistryForType(a);h._exec(e,b,a)})}})}},{key:"_exec",value:function _exec(a,b,c){var d=_capitalize(a);callback(c['before'+d],[],c);b[a](c);callback(c['after'+d],[],c)}},{key:"_getRegistryForType",value:function _getRegistryForType(a){for(var i=0;i<this._typedRegistries.length;i++){var b=this._typedRegistries[i];if(b.isForType(a)){return b}}return this.plugins}},{key:"_get",value:function _get(a,b,c){var d=b.get(a);if(d===undefined){throw new Error('"'+a+'" is not a registered '+c+'.');}return d}}]);return cD}();var cE=new cD();var cF=function(){function cF(){_classCallCheck(this,cF);this._init=[]}_createClass(cF,[{key:"notify",value:function notify(a,b,c,d){var e=this;if(b==='beforeInit'){e._init=e._createDescriptors(a,true);e._notify(e._init,a,'install')}var f=d?e._descriptors(a).filter(d):e._descriptors(a);var g=e._notify(f,a,b,c);if(b==='destroy'){e._notify(f,a,'stop');e._notify(e._init,a,'uninstall')}return g}},{key:"_notify",value:function _notify(a,b,c,d){d=d||{};var e=_createForOfIteratorHelper(a),_step13;try{for(e.s();!(_step13=e.n()).done;){var f=_step13.value;var g=f.plugin;var h=g[c];var i=[b,d,f.options];if(callback(h,i,g)===false&&d.cancelable){return false}}}catch(err){e.e(err)}finally{e.f()}return true}},{key:"invalidate",value:function invalidate(){if(!isNullOrUndef(this._cache)){this._oldCache=this._cache;this._cache=undefined}}},{key:"_descriptors",value:function _descriptors(a){if(this._cache){return this._cache}var b=this._cache=this._createDescriptors(a);this._notifyStateChanges(a);return b}},{key:"_createDescriptors",value:function _createDescriptors(a,b){var c=a&&a.config;var d=valueOrDefault(c.options&&c.options.plugins,{});var e=allPlugins(c);return d===false&&!b?[]:createDescriptors(a,e,d,b)}},{key:"_notifyStateChanges",value:function _notifyStateChanges(c){var d=this._oldCache||[];var e=this._cache;var f=function f(a,b){return a.filter(function(x){return!b.some(function(y){return x.plugin.id===y.plugin.id})})};this._notify(f(d,e),c,'stop');this._notify(f(e,d),c,'start')}}]);return cF}();function allPlugins(a){var b=[];var c=Object.keys(cE.plugins.items);for(var i=0;i<c.length;i++){b.push(cE.getPlugin(c[i]))}var d=a.plugins||[];for(var e=0;e<d.length;e++){var f=d[e];if(b.indexOf(f)===-1){b.push(f)}}return b}function getOpts(a,b){if(!b&&a===false){return null}if(a===true){return{}}return a}function createDescriptors(a,b,c,d){var e=[];var f=a.getContext();for(var i=0;i<b.length;i++){var g=b[i];var h=g.id;var j=getOpts(c[h],d);if(j===null){continue}e.push({plugin:g,options:pluginOpts(a.config,g,j,f)})}return e}function pluginOpts(a,b,c,d){var e=a.pluginScopeKeys(b);var f=a.getOptionScopes(c,e);return a.createResolver(f,d,[''],{scriptable:false,indexable:false,allKeys:true})}function getIndexAxis(a,b){var c=bq.datasets[a]||{};var d=(b.datasets||{})[a]||{};return d.indexAxis||b.indexAxis||c.indexAxis||'x'}function getAxisFromDefaultScaleID(a,b){var c=a;if(a==='_index_'){c=b}else if(a==='_value_'){c=b==='x'?'y':'x'}return c}function getDefaultScaleIDFromAxis(a,b){return a===b?'_index_':'_value_'}function axisFromPosition(a){if(a==='top'||a==='bottom'){return'x'}if(a==='left'||a==='right'){return'y'}}function determineAxis(a,b){if(a==='x'||a==='y'){return a}return b.axis||axisFromPosition(b.position)||a.charAt(0).toLowerCase()}function mergeScaleConfig(i,j){var k=bn[i.type]||{scales:{}};var l=j.scales||{};var m=getIndexAxis(i.type,j);var n=Object.create(null);var o=Object.create(null);Object.keys(l).forEach(function(a){var b=l[a];var c=determineAxis(a,b);var d=getDefaultScaleIDFromAxis(c,m);var e=k.scales||{};n[c]=n[c]||a;o[a]=mergeIf(Object.create(null),[{axis:c},b,e[c],e[d]])});i.data.datasets.forEach(function(d){var e=d.type||i.type;var f=d.indexAxis||getIndexAxis(e,j);var g=bn[e]||{};var h=g.scales||{};Object.keys(h).forEach(function(a){var b=getAxisFromDefaultScaleID(a,f);var c=d[b+'AxisID']||n[b]||b;o[c]=o[c]||Object.create(null);mergeIf(o[c],[{axis:b},l[c],h[a]])})});Object.keys(o).forEach(function(a){var b=o[a];mergeIf(b,[bq.scales[b.type],bq.scale])});return o}function initOptions(a){var b=a.options||(a.options={});b.plugins=valueOrDefault(b.plugins,{});b.scales=mergeScaleConfig(a,b)}function initData(a){a=a||{};a.datasets=a.datasets||[];a.labels=a.labels||[];return a}function initConfig(a){a=a||{};a.data=initData(a.data);initOptions(a);return a}var cG=new Map();var cH=new Set();function cachedKeys(a,b){var c=cG.get(a);if(!c){c=b();cG.set(a,c);cH.add(c)}return c}var cI=function cI(a,b,c){var d=resolveObjectKey(b,c);if(d!==undefined){a.add(d)}};var cJ=function(){function cJ(a){_classCallCheck(this,cJ);this._config=initConfig(a);this._scopeCache=new Map();this._resolverCache=new Map()}_createClass(cJ,[{key:"type",get:function get(){return this._config.type},set:function set(a){this._config.type=a}},{key:"data",get:function get(){return this._config.data},set:function set(a){this._config.data=initData(a)}},{key:"options",get:function get(){return this._config.options},set:function set(a){this._config.options=a}},{key:"plugins",get:function get(){return this._config.plugins}},{key:"update",value:function update(){var a=this._config;this.clearCache();initOptions(a)}},{key:"clearCache",value:function clearCache(){this._scopeCache.clear();this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function datasetScopeKeys(a){return cachedKeys(a,function(){return[["datasets.".concat(a),'']]})}},{key:"datasetAnimationScopeKeys",value:function datasetAnimationScopeKeys(a,b){return cachedKeys("".concat(a,".transition.").concat(b),function(){return[["datasets.".concat(a,".transitions.").concat(b),"transitions.".concat(b)],["datasets.".concat(a),'']]})}},{key:"datasetElementScopeKeys",value:function datasetElementScopeKeys(a,b){return cachedKeys("".concat(a,"-").concat(b),function(){return[["datasets.".concat(a,".elements.").concat(b),"datasets.".concat(a),"elements.".concat(b),'']]})}},{key:"pluginScopeKeys",value:function pluginScopeKeys(a){var b=a.id;var c=this.type;return cachedKeys("".concat(c,"-plugin-").concat(b),function(){return[["plugins.".concat(b)].concat(_toConsumableArray(a.additionalOptionScopes||[]))]})}},{key:"_cachedScopes",value:function _cachedScopes(a,b){var c=this._scopeCache;var d=c.get(a);if(!d||b){d=new Map();c.set(a,d)}return d}},{key:"getOptionScopes",value:function getOptionScopes(c,d,e){var f=this.options,type=this.type;var g=this._cachedScopes(c,e);var h=g.get(d);if(h){return h}var i=new Set();d.forEach(function(b){if(c){i.add(c);b.forEach(function(a){return cI(i,c,a)})}b.forEach(function(a){return cI(i,f,a)});b.forEach(function(a){return cI(i,bn[type]||{},a)});b.forEach(function(a){return cI(i,bq,a)});b.forEach(function(a){return cI(i,bo,a)})});var j=Array.from(i);if(cH.has(d)){g.set(d,j)}return j}},{key:"chartOptionScopes",value:function chartOptionScopes(){var a=this.options,type=this.type;return[a,bn[type]||{},bq.datasets[type]||{},{type:type},bq,bo]}},{key:"resolveNamedOptions",value:function resolveNamedOptions(a,b,c){var d=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[''];var e={$shared:true};var f=getResolver(this._resolverCache,a,d),resolver=f.resolver,subPrefixes=f.subPrefixes;var g=resolver;if(needContext(resolver,b)){e.$shared=false;c=bl(c)?c():c;var h=this.createResolver(a,c,subPrefixes);g=_attachContext(resolver,c,h)}var i=_createForOfIteratorHelper(b),_step14;try{for(i.s();!(_step14=i.n()).done;){var j=_step14.value;e[j]=g[j]}}catch(err){i.e(err)}finally{i.f()}return e}},{key:"createResolver",value:function createResolver(a,b){var c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[''];var d=arguments.length>3?arguments[3]:undefined;var e=getResolver(this._resolverCache,a,c),resolver=e.resolver;return isObject(b)?_attachContext(resolver,b,undefined,d):resolver}}]);return cJ}();function getResolver(a,b,c){var d=a.get(b);if(!d){d=new Map();a.set(b,d)}var e=c.join();var f=d.get(e);if(!f){var g=_createResolver(b,c);f={resolver:g,subPrefixes:c.filter(function(p){return!p.toLowerCase().includes('hover')})};d.set(e,f)}return f}function needContext(a,b){var c=_descriptors(a),isScriptable=c.isScriptable,isIndexable=c.isIndexable;var d=_createForOfIteratorHelper(b),_step15;try{for(d.s();!(_step15=d.n()).done;){var e=_step15.value;if(isScriptable(e)&&bl(a[e])||isIndexable(e)&&isArray(a[e])){return true}}}catch(err){d.e(err)}finally{d.f()}return false}var cK="3.2.1";var cL=['top','bottom','left','right','chartArea'];function positionIsHorizontal(a,b){return a==='top'||a==='bottom'||cL.indexOf(a)===-1&&b==='x'}function compare2Level(c,d){return function(a,b){return a[c]===b[c]?a[d]-b[d]:a[c]-b[c]}}function onAnimationsComplete(a){var b=a.chart;var c=b.options.animation;b.notifyPlugins('afterRender');callback(c&&c.onComplete,[a],b)}function onAnimationProgress(a){var b=a.chart;var c=b.options.animation;callback(c&&c.onProgress,[a],b)}function isDomSupported(){return typeof window!=='undefined'&&typeof document!=='undefined'}function getCanvas(a){if(isDomSupported()&&typeof a==='string'){a=document.getElementById(a)}else if(a&&a.length){a=a[0]}if(a&&a.canvas){a=a.canvas}return a}var cM={};var cN=function cN(a){var b=getCanvas(a);return Object.values(cM).filter(function(c){return c.canvas===b}).pop()};var cO=function(){function cO(a,b){var c=this;_classCallCheck(this,cO);var d=this;this.config=b=new cJ(b);var e=getCanvas(a);var f=cN(e);if(f){throw new Error('Canvas is already in use. Chart with ID \''+f.id+'\''+' must be destroyed before the canvas can be reused.');}var g=b.createResolver(b.chartOptionScopes(),d.getContext());this.platform=d._initializePlatform(e,b);var h=d.platform.acquireContext(e,g.aspectRatio);var i=h&&h.canvas;var j=i&&i.height;var k=i&&i.width;this.id=be();this.ctx=h;this.canvas=i;this.width=k;this.height=j;this._options=g;this._aspectRatio=this.aspectRatio;this._layers=[];this._metasets=[];this._stacks=undefined;this.boxes=[];this.currentDevicePixelRatio=undefined;this.chartArea=undefined;this._active=[];this._lastEvent=undefined;this._listeners={};this._sortedMetasets=[];this.scales={};this.scale=undefined;this._plugins=new cF();this.$proxies={};this._hiddenIndices={};this.attached=false;this._animationsDisabled=undefined;this.$context=undefined;this._doResize=debounce(function(){return c.update('resize')},g.resizeDelay||0);cM[d.id]=d;if(!h||!i){console.error("Failed to create chart: can't acquire context from the given item");return}Q.listen(d,'complete',onAnimationsComplete);Q.listen(d,'progress',onAnimationProgress);d._initialize();if(d.attached){d.update()}}_createClass(cO,[{key:"aspectRatio",get:function get(){var a=this.options,aspectRatio=a.aspectRatio,maintainAspectRatio=a.maintainAspectRatio,width=this.width,height=this.height,_aspectRatio=this._aspectRatio;if(!isNullOrUndef(aspectRatio)){return aspectRatio}if(maintainAspectRatio&&_aspectRatio){return _aspectRatio}return height?width/height:null}},{key:"data",get:function get(){return this.config.data},set:function set(a){this.config.data=a}},{key:"options",get:function get(){return this._options},set:function set(a){this.config.options=a}},{key:"_initialize",value:function _initialize(){var a=this;a.notifyPlugins('beforeInit');if(a.options.responsive){a.resize()}else{retinaScale(a,a.options.devicePixelRatio)}a.bindEvents();a.notifyPlugins('afterInit');return a}},{key:"_initializePlatform",value:function _initializePlatform(a,b){if(b.platform){return new b.platform()}else if(!isDomSupported()||typeof OffscreenCanvas!=='undefined'&&a instanceof OffscreenCanvas){return new bQ()}return new bX()}},{key:"clear",value:function clear(){clearCanvas(this.canvas,this.ctx);return this}},{key:"stop",value:function stop(){Q.stop(this);return this}},{key:"resize",value:function resize(a,b){if(!Q.running(this)){this._resize(a,b)}else{this._resizeBeforeDraw={width:a,height:b}}}},{key:"_resize",value:function _resize(a,b){var c=this;var d=c.options;var e=c.canvas;var f=d.maintainAspectRatio&&c.aspectRatio;var g=c.platform.getMaximumSize(e,a,b,f);var h=c.currentDevicePixelRatio;var i=d.devicePixelRatio||c.platform.getDevicePixelRatio();if(c.width===g.width&&c.height===g.height&&h===i){return}c.width=g.width;c.height=g.height;c._aspectRatio=c.aspectRatio;retinaScale(c,i,true);c.notifyPlugins('resize',{size:g});callback(d.onResize,[c,g],c);if(c.attached){if(c._doResize()){c.render()}}}},{key:"ensureScalesHaveIDs",value:function ensureScalesHaveIDs(){var c=this.options;var d=c.scales||{};each(d,function(a,b){a.id=b})}},{key:"buildOrUpdateScales",value:function buildOrUpdateScales(){var h=this;var i=h.options;var j=i.scales;var k=h.scales;var l=Object.keys(k).reduce(function(a,b){a[b]=false;return a},{});var m=[];if(j){m=m.concat(Object.keys(j).map(function(a){var b=j[a];var c=determineAxis(a,b);var d=c==='r';var e=c==='x';return{options:b,dposition:d?'chartArea':e?'bottom':'left',dtype:d?'radialLinear':e?'category':'linear'}}))}each(m,function(a){var b=a.options;var c=b.id;var d=determineAxis(c,b);var e=valueOrDefault(b.type,a.dtype);if(b.position===undefined||positionIsHorizontal(b.position,d)!==positionIsHorizontal(a.dposition)){b.position=a.dposition}l[c]=true;var f=null;if(c in k&&k[c].type===e){f=k[c]}else{var g=cE.getScale(e);f=new g({id:c,type:e,ctx:h.ctx,chart:h});k[f.id]=f}f.init(b,i)});each(l,function(a,b){if(!a){delete k[b]}});each(k,function(a){bO.configure(h,a,a.options);bO.addBox(h,a)})}},{key:"_updateMetasetIndex",value:function _updateMetasetIndex(a,b){var c=this._metasets;var d=a.index;if(d!==b){c[d]=c[b];c[b]=a;a.index=b}}},{key:"_updateMetasets",value:function _updateMetasets(){var a=this;var b=a._metasets;var c=a.data.datasets.length;var d=b.length;if(d>c){for(var i=c;i<d;++i){a._destroyDatasetMeta(i)}b.splice(c,d-c)}a._sortedMetasets=b.slice(0).sort(compare2Level('order','index'))}},{key:"_removeUnreferencedMetasets",value:function _removeUnreferencedMetasets(){var c=this;var d=c._metasets,datasets=c.data.datasets;if(d.length>datasets.length){delete c._stacks}d.forEach(function(a,b){if(datasets.filter(function(x){return x===a._dataset}).length===0){c._destroyDatasetMeta(b)}})}},{key:"buildOrUpdateControllers",value:function buildOrUpdateControllers(){var a=this;var b=[];var c=a.data.datasets;var i,ilen;a._removeUnreferencedMetasets();for(i=0,ilen=c.length;i<ilen;i++){var d=c[i];var e=a.getDatasetMeta(i);var f=d.type||a.config.type;if(e.type&&e.type!==f){a._destroyDatasetMeta(i);e=a.getDatasetMeta(i)}e.type=f;e.indexAxis=d.indexAxis||getIndexAxis(f,a.options);e.order=d.order||0;a._updateMetasetIndex(e,i);e.label=''+d.label;e.visible=a.isDatasetVisible(i);if(e.controller){e.controller.updateIndex(i);e.controller.linkScales()}else{var g=cE.getController(f);var h=bq.datasets[f],datasetElementType=h.datasetElementType,dataElementType=h.dataElementType;Object.assign(g.prototype,{dataElementType:cE.getElement(dataElementType),datasetElementType:datasetElementType&&cE.getElement(datasetElementType)});e.controller=new g(a,i);b.push(e.controller)}}a._updateMetasets();return b}},{key:"_resetElements",value:function _resetElements(){var c=this;each(c.data.datasets,function(a,b){c.getDatasetMeta(b).controller.reset()},c)}},{key:"reset",value:function reset(){this._resetElements();this.notifyPlugins('reset')}},{key:"update",value:function update(b){var c=this;var d=c.config;d.update();c._options=d.createResolver(d.chartOptionScopes(),c.getContext());each(c.scales,function(a){bO.removeBox(c,a)});var e=c._animationsDisabled=!c.options.animation;c.ensureScalesHaveIDs();c.buildOrUpdateScales();var f=new Set(Object.keys(c._listeners));var g=new Set(c.options.events);if(!bm(f,g)){c.unbindEvents();c.bindEvents()}c._plugins.invalidate();if(c.notifyPlugins('beforeUpdate',{mode:b,cancelable:true})===false){return}var h=c.buildOrUpdateControllers();c.notifyPlugins('beforeElementsUpdate');var j=0;for(var i=0,ilen=c.data.datasets.length;i<ilen;i++){var k=c.getDatasetMeta(i),controller=k.controller;var l=!e&&h.indexOf(controller)===-1;controller.buildOrUpdateElements(l);j=Math.max(+controller.getMaxOverflow(),j)}c._minPadding=j;c._updateLayout(j);if(!e){each(h,function(a){a.reset()})}c._updateDatasets(b);c.notifyPlugins('afterUpdate',{mode:b});c._layers.sort(compare2Level('z','_idx'));if(c._lastEvent){c._eventHandler(c._lastEvent,true)}c.render()}},{key:"_updateLayout",value:function _updateLayout(c){var d=this;if(d.notifyPlugins('beforeLayout',{cancelable:true})===false){return}bO.update(d,d.width,d.height,c);var e=d.chartArea;var f=e.width<=0||e.height<=0;d._layers=[];each(d.boxes,function(a){var b;if(f&&a.position==='chartArea'){return}if(a.configure){a.configure()}(b=d._layers).push.apply(b,_toConsumableArray(a._layers()))},d);d._layers.forEach(function(a,b){a._idx=b});d.notifyPlugins('afterLayout')}},{key:"_updateDatasets",value:function _updateDatasets(a){var b=this;var c=typeof a==='function';if(b.notifyPlugins('beforeDatasetsUpdate',{mode:a,cancelable:true})===false){return}for(var i=0,ilen=b.data.datasets.length;i<ilen;++i){b._updateDataset(i,c?a({datasetIndex:i}):a)}b.notifyPlugins('afterDatasetsUpdate',{mode:a})}},{key:"_updateDataset",value:function _updateDataset(a,b){var c=this;var d=c.getDatasetMeta(a);var e={meta:d,index:a,mode:b,cancelable:true};if(c.notifyPlugins('beforeDatasetUpdate',e)===false){return}d.controller._update(b);e.cancelable=false;c.notifyPlugins('afterDatasetUpdate',e)}},{key:"render",value:function render(){var a=this;if(a.notifyPlugins('beforeRender',{cancelable:true})===false){return}if(Q.has(a)){if(a.attached&&!Q.running(a)){Q.start(a)}}else{a.draw();onAnimationsComplete({chart:a})}}},{key:"draw",value:function draw(){var a=this;var i;if(a._resizeBeforeDraw){var b=a._resizeBeforeDraw,width=b.width,height=b.height;a._resize(width,height);a._resizeBeforeDraw=null}a.clear();if(a.width<=0||a.height<=0){return}if(a.notifyPlugins('beforeDraw',{cancelable:true})===false){return}var c=a._layers;for(i=0;i<c.length&&c[i].z<=0;++i){c[i].draw(a.chartArea)}a._drawDatasets();for(;i<c.length;++i){c[i].draw(a.chartArea)}a.notifyPlugins('afterDraw')}},{key:"_getSortedDatasetMetas",value:function _getSortedDatasetMetas(a){var b=this;var c=b._sortedMetasets;var d=[];var i,ilen;for(i=0,ilen=c.length;i<ilen;++i){var e=c[i];if(!a||e.visible){d.push(e)}}return d}},{key:"getSortedVisibleDatasetMetas",value:function getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(true)}},{key:"_drawDatasets",value:function _drawDatasets(){var a=this;if(a.notifyPlugins('beforeDatasetsDraw',{cancelable:true})===false){return}var b=a.getSortedVisibleDatasetMetas();for(var i=b.length-1;i>=0;--i){a._drawDataset(b[i])}a.notifyPlugins('afterDatasetsDraw')}},{key:"_drawDataset",value:function _drawDataset(a){var b=this;var c=b.ctx;var d=a._clip;var e=b.chartArea;var f={meta:a,index:a.index,cancelable:true};if(b.notifyPlugins('beforeDatasetDraw',f)===false){return}clipArea(c,{left:d.left===false?0:e.left-d.left,right:d.right===false?b.width:e.right+d.right,top:d.top===false?0:e.top-d.top,bottom:d.bottom===false?b.height:e.bottom+d.bottom});a.controller.draw();unclipArea(c);f.cancelable=false;b.notifyPlugins('afterDatasetDraw',f)}},{key:"getElementsAtEventForMode",value:function getElementsAtEventForMode(e,a,b,c){var d=bJ.modes[a];if(typeof d==='function'){return d(this,e,b,c)}return[]}},{key:"getDatasetMeta",value:function getDatasetMeta(a){var b=this;var c=b.data.datasets[a];var d=b._metasets;var e=d.filter(function(x){return x&&x._dataset===c}).pop();if(!e){e=d[a]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:c&&c.order||0,index:a,_dataset:c,_parsed:[],_sorted:false}}return e}},{key:"getContext",value:function getContext(){return this.$context||(this.$context={chart:this,type:'chart'})}},{key:"getVisibleDatasetCount",value:function getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function isDatasetVisible(a){var b=this.data.datasets[a];if(!b){return false}var c=this.getDatasetMeta(a);return typeof c.hidden==='boolean'?!c.hidden:!b.hidden}},{key:"setDatasetVisibility",value:function setDatasetVisibility(a,b){var c=this.getDatasetMeta(a);c.hidden=!b}},{key:"toggleDataVisibility",value:function toggleDataVisibility(a){this._hiddenIndices[a]=!this._hiddenIndices[a]}},{key:"getDataVisibility",value:function getDataVisibility(a){return!this._hiddenIndices[a]}},{key:"_updateDatasetVisibility",value:function _updateDatasetVisibility(b,c){var d=this;var e=c?'show':'hide';var f=d.getDatasetMeta(b);var g=f.controller._resolveAnimations(undefined,e);d.setDatasetVisibility(b,c);g.update(f,{visible:c});d.update(function(a){return a.datasetIndex===b?e:undefined})}},{key:"hide",value:function hide(a){this._updateDatasetVisibility(a,false)}},{key:"show",value:function show(a){this._updateDatasetVisibility(a,true)}},{key:"_destroyDatasetMeta",value:function _destroyDatasetMeta(a){var b=this;var c=b._metasets&&b._metasets[a];if(c&&c.controller){c.controller._destroy();delete b._metasets[a]}}},{key:"destroy",value:function destroy(){var a=this;var b=a.canvas,ctx=a.ctx;var i,ilen;a.stop();Q.remove(a);for(i=0,ilen=a.data.datasets.length;i<ilen;++i){a._destroyDatasetMeta(i)}a.config.clearCache();if(b){a.unbindEvents();clearCanvas(b,ctx);a.platform.releaseContext(ctx);a.canvas=null;a.ctx=null}a.notifyPlugins('destroy');delete cM[a.id]}},{key:"toBase64Image",value:function toBase64Image(){var a;return(a=this.canvas).toDataURL.apply(a,arguments)}},{key:"bindEvents",value:function bindEvents(){var c=this;var d=c._listeners;var f=c.platform;var g=function g(a,b){f.addEventListener(c,a,b);d[a]=b};var h=function h(a,b){if(d[a]){f.removeEventListener(c,a,b);delete d[a]}};var i=function i(e,x,y){e.offsetX=x;e.offsetY=y;c._eventHandler(e)};each(c.options.events,function(a){return g(a,i)});if(c.options.responsive){i=function i(a,b){if(c.canvas){c.resize(a,b)}};var j;var k=function k(){h('attach',k);c.attached=true;c.resize();g('resize',i);g('detach',j)};j=function j(){c.attached=false;h('resize',i);g('attach',k)};if(f.isAttached(c.canvas)){k()}else{j()}}else{c.attached=true}}},{key:"unbindEvents",value:function unbindEvents(){var c=this;var d=c._listeners;if(!d){return}c._listeners={};each(d,function(a,b){c.platform.removeEventListener(c,b,a)})}},{key:"updateHoverStyle",value:function updateHoverStyle(a,b,c){var d=c?'set':'remove';var e,item,i,ilen;if(b==='dataset'){e=this.getDatasetMeta(a[0].datasetIndex);e.controller['_'+d+'DatasetHoverStyle']()}for(i=0,ilen=a.length;i<ilen;++i){item=a[i];var f=item&&this.getDatasetMeta(item.datasetIndex).controller;if(f){f[d+'HoverStyle'](item.element,item.datasetIndex,item.index)}}}},{key:"getActiveElements",value:function getActiveElements(){return this._active||[]}},{key:"setActiveElements",value:function setActiveElements(d){var e=this;var f=e._active||[];var g=d.map(function(a){var b=a.datasetIndex,index=a.index;var c=e.getDatasetMeta(b);if(!c){throw new Error('No dataset found at index '+b);}return{datasetIndex:b,element:c.data[index],index:index}});var h=!_elementsEqual(g,f);if(h){e._active=g;e._updateHoverStyles(g,f)}}},{key:"notifyPlugins",value:function notifyPlugins(a,b,c){return this._plugins.notify(this,a,b,c)}},{key:"_updateHoverStyles",value:function _updateHoverStyles(c,d,e){var f=this;var g=f.options.hover;var h=function h(a,b){return a.filter(function(x){return!b.some(function(y){return x.datasetIndex===y.datasetIndex&&x.index===y.index})})};var i=h(d,c);var j=e?c:h(c,d);if(i.length){f.updateHoverStyle(i,g.mode,false)}if(j.length&&g.mode){f.updateHoverStyle(j,g.mode,true)}}},{key:"_eventHandler",value:function _eventHandler(e,b){var c=this;var d=this;var f={event:e,replay:b,cancelable:true};var g=function g(a){return(a.options.events||c.options.events).includes(e.type)};if(d.notifyPlugins('beforeEvent',f,g)===false){return}var h=d._handleEvent(e,b);f.cancelable=false;d.notifyPlugins('afterEvent',f,g);if(h||f.changed){d.render()}return d}},{key:"_handleEvent",value:function _handleEvent(e,a){var b=this;var c=b._active,lastActive=c===void 0?[]:c,options=b.options;var d=options.hover;var f=a;var g=[];var h=false;var i=null;if(e.type!=='mouseout'){g=b.getElementsAtEventForMode(e,d.mode,d,f);i=e.type==='click'?b._lastEvent:e}b._lastEvent=null;if(_isPointInArea(e,b.chartArea,b._minPadding)){callback(options.onHover,[e,g,b],b);if(e.type==='mouseup'||e.type==='click'||e.type==='contextmenu'){callback(options.onClick,[e,g,b],b)}}h=!_elementsEqual(g,lastActive);if(h||a){b._active=g;b._updateHoverStyles(g,lastActive,a)}b._lastEvent=i;return h}}]);return cO}();var cP=function cP(){return each(cO.instances,function(a){return a._plugins.invalidate()})};var cQ=true;Object.defineProperties(cO,{defaults:{enumerable:cQ,value:bq},instances:{enumerable:cQ,value:cM},overrides:{enumerable:cQ,value:bn},registry:{enumerable:cQ,value:cE},version:{enumerable:cQ,value:cK},getChart:{enumerable:cQ,value:cN},register:{enumerable:cQ,value:function value(){cE.add.apply(cE,arguments);cP()}},unregister:{enumerable:cQ,value:function value(){cE.remove.apply(cE,arguments);cP()}}});function abstract(){throw new Error('This method is not implemented: either no adapter can be found or an incomplete integration was provided.');}var cR=function(){function cR(a){_classCallCheck(this,cR);this.options=a||{}}_createClass(cR,[{key:"formats",value:function formats(){return abstract()}},{key:"parse",value:function parse(a,b){return abstract()}},{key:"format",value:function format(a,b){return abstract()}},{key:"add",value:function add(a,b,c){return abstract()}},{key:"diff",value:function diff(a,b,c){return abstract()}},{key:"startOf",value:function startOf(a,b,c){return abstract()}},{key:"endOf",value:function endOf(a,b){return abstract()}}]);return cR}();cR.override=function(a){Object.assign(cR.prototype,a)};var cS={_date:cR};function getAllScaleValues(c){if(!c._cache.$bar){var d=c.getMatchingVisibleMetas('bar');var e=[];for(var i=0,ilen=d.length;i<ilen;i++){e=e.concat(d[i].controller.getAllParsedValues(c))}c._cache.$bar=_arrayUnique(e.sort(function(a,b){return a-b}))}return c._cache.$bar}function computeMinSampleSize(a){var b=getAllScaleValues(a);var c=a._length;var i,ilen,curr,prev;var d=function d(){if(curr===32767||curr===-32768){return}if(bk(prev)){c=Math.min(c,Math.abs(curr-prev)||c)}prev=curr};for(i=0,ilen=b.length;i<ilen;++i){curr=a.getPixelForValue(b[i]);d()}prev=undefined;for(i=0,ilen=a.ticks.length;i<ilen;++i){curr=a.getPixelForTick(i);d()}return c}function computeFitCategoryTraits(a,b,c,d){var e=c.barThickness;var f,ratio;if(isNullOrUndef(e)){f=b.min*c.categoryPercentage;ratio=c.barPercentage}else{f=e*d;ratio=1}return{chunk:f/d,ratio:ratio,start:b.pixels[a]-f/2}}function computeFlexCategoryTraits(a,b,c,d){var e=b.pixels;var f=e[a];var g=a>0?e[a-1]:null;var h=a<e.length-1?e[a+1]:null;var i=c.categoryPercentage;if(g===null){g=f-(h===null?b.end-b.start:h-f)}if(h===null){h=f+f-g}var j=f-(f-Math.min(g,h))/2*i;var k=Math.abs(h-g)/2*i;return{chunk:k/d,ratio:c.barPercentage,start:j}}function parseFloatBar(a,b,c,i){var d=c.parse(a[0],i);var e=c.parse(a[1],i);var f=Math.min(d,e);var g=Math.max(d,e);var h=f;var j=g;if(Math.abs(f)>Math.abs(g)){h=g;j=f}b[c.axis]=j;b._custom={barStart:h,barEnd:j,start:d,end:e,min:f,max:g}}function parseValue(a,b,c,i){if(isArray(a)){parseFloatBar(a,b,c,i)}else{b[c.axis]=c.parse(a,i)}return b}function parseArrayOrPrimitive(a,b,c,d){var e=a.iScale;var f=a.vScale;var g=e.getLabels();var h=e===f;var j=[];var i,ilen,item,entry;for(i=c,ilen=c+d;i<ilen;++i){entry=b[i];item={};item[e.axis]=h||e.parse(g[i],i);j.push(parseValue(entry,item,f,i))}return j}function isFloatBar(a){return a&&a.barStart!==undefined&&a.barEnd!==undefined}var cT=function(t){_inherits(cT,t);var u=_createSuper(cT);function cT(){_classCallCheck(this,cT);return u.apply(this,arguments)}_createClass(cT,[{key:"parsePrimitiveData",value:function parsePrimitiveData(a,b,c,d){return parseArrayOrPrimitive(a,b,c,d)}},{key:"parseArrayData",value:function parseArrayData(a,b,c,d){return parseArrayOrPrimitive(a,b,c,d)}},{key:"parseObjectData",value:function parseObjectData(a,b,c,d){var e=a.iScale,vScale=a.vScale;var f=this._parsing,_this$_parsing2$xAxis=f.xAxisKey,xAxisKey=_this$_parsing2$xAxis===void 0?'x':_this$_parsing2$xAxis,_this$_parsing2$yAxis=f.yAxisKey,yAxisKey=_this$_parsing2$yAxis===void 0?'y':_this$_parsing2$yAxis;var g=e.axis==='x'?xAxisKey:yAxisKey;var h=vScale.axis==='x'?xAxisKey:yAxisKey;var j=[];var i,ilen,item,obj;for(i=c,ilen=c+d;i<ilen;++i){obj=b[i];item={};item[e.axis]=e.parse(resolveObjectKey(obj,g),i);j.push(parseValue(resolveObjectKey(obj,h),item,vScale,i))}return j}},{key:"updateRangeFromParsed",value:function updateRangeFromParsed(a,b,c,d){_get2(_getPrototypeOf(cT.prototype),"updateRangeFromParsed",this).call(this,a,b,c,d);var e=c._custom;if(e&&b===this._cachedMeta.vScale){a.min=Math.min(a.min,e.min);a.max=Math.max(a.max,e.max)}}},{key:"getLabelAndValue",value:function getLabelAndValue(a){var b=this;var c=b._cachedMeta;var d=c.iScale,vScale=c.vScale;var e=b.getParsed(a);var f=e._custom;var g=isFloatBar(f)?'['+f.start+', '+f.end+']':''+vScale.getLabelForValue(e[vScale.axis]);return{label:''+d.getLabelForValue(e[d.axis]),value:g}}},{key:"initialize",value:function initialize(){var a=this;a.enableOptionSharing=true;_get2(_getPrototypeOf(cT.prototype),"initialize",this).call(this);var b=a._cachedMeta;b.stack=a.getDataset().stack}},{key:"update",value:function update(a){var b=this;var c=b._cachedMeta;b.updateElements(c.data,0,c.data.length,a)}},{key:"updateElements",value:function updateElements(a,b,c,d){var e=this;var f=d==='reset';var g=e._cachedMeta.vScale;var h=g.getBasePixel();var j=g.isHorizontal();var k=e._getRuler();var l=e.resolveDataElementOptions(b,d);var m=e.getSharedOptions(l);var n=e.includeOptions(d,m);e.updateSharedOptions(m,d,l);for(var i=b;i<b+c;i++){var o=e.getParsed(i);var p=f||isNullOrUndef(o[g.axis])?{base:h,head:h}:e._calculateBarValuePixels(i);var q=e._calculateBarIndexPixels(i,k);var r=(o._stacks||{})[g.axis];var s={horizontal:j,base:p.base,enableBorderRadius:!r||isFloatBar(o._custom)||e.index===r._top||e.index===r._bottom,x:j?p.head:q.center,y:j?q.center:p.head,height:j?q.size:undefined,width:j?undefined:q.size};if(n){s.options=m||e.resolveDataElementOptions(i,d)}e.updateElement(a[i],i,s,d)}}},{key:"_getStacks",value:function _getStacks(a,b){var c=this;var d=c._cachedMeta;var e=d.iScale;var f=e.getMatchingVisibleMetas(c._type);var g=e.options.stacked;var h=f.length;var j=[];var i,item;for(i=0;i<h;++i){item=f[i];if(typeof b!=='undefined'){var k=item.controller.getParsed(b)[item.controller._cachedMeta.vScale.axis];if(isNullOrUndef(k)||isNaN(k)){continue}}if(g===false||j.indexOf(item.stack)===-1||g===undefined&&item.stack===undefined){j.push(item.stack)}if(item.index===a){break}}if(!j.length){j.push(undefined)}return j}},{key:"_getStackCount",value:function _getStackCount(a){return this._getStacks(undefined,a).length}},{key:"_getStackIndex",value:function _getStackIndex(a,b,c){var d=this._getStacks(a,c);var e=b!==undefined?d.indexOf(b):-1;return e===-1?d.length-1:e}},{key:"_getRuler",value:function _getRuler(){var a=this;var b=a.options;var c=a._cachedMeta;var d=c.iScale;var e=[];var i,ilen;for(i=0,ilen=c.data.length;i<ilen;++i){e.push(d.getPixelForValue(a.getParsed(i)[d.axis],i))}var f=b.barThickness;var g=f||computeMinSampleSize(d);return{min:g,pixels:e,start:d._startPixel,end:d._endPixel,stackCount:a._getStackCount(),scale:d,grouped:b.grouped,ratio:f?1:b.categoryPercentage*b.barPercentage}}},{key:"_calculateBarValuePixels",value:function _calculateBarValuePixels(a){var b=this;var c=b._cachedMeta,vScale=c.vScale,_stacked=c._stacked;var d=b.options,baseValue=d.base,minBarLength=d.minBarLength;var e=b.getParsed(a);var f=e._custom;var g=isFloatBar(f);var h=e[vScale.axis];var i=0;var j=_stacked?b.applyStack(vScale,e,_stacked):h;var k,size;if(j!==h){i=j-h;j=h}if(g){h=f.barStart;j=f.barEnd-f.barStart;if(h!==0&&bA(h)!==bA(f.barEnd)){i=0}i+=h}var l=!isNullOrUndef(baseValue)&&!g?baseValue:i;var m=vScale.getPixelForValue(l);if(this.chart.getDataVisibility(a)){k=vScale.getPixelForValue(i+j)}else{k=m}size=k-m;if(minBarLength!==undefined&&Math.abs(size)<minBarLength){size=size<0?-minBarLength:minBarLength;if(h===0){m-=size/2}k=m+size}var n=baseValue||0;if(m===vScale.getPixelForValue(n)){var o=vScale.getLineWidthForValue(n)/2;if(size>0){m+=o;size-=o}else if(size<0){m-=o;size+=o}}return{size:size,base:m,head:k,center:k+size/2}}},{key:"_calculateBarIndexPixels",value:function _calculateBarIndexPixels(a,b){var c=this;var d=b.scale;var e=c.options;var f=e.skipNull;var g=valueOrDefault(e.maxBarThickness,Infinity);var h,size;if(b.grouped){var i=f?c._getStackCount(a):b.stackCount;var j=e.barThickness==='flex'?computeFlexCategoryTraits(a,b,e,i):computeFitCategoryTraits(a,b,e,i);var k=c._getStackIndex(c.index,c._cachedMeta.stack,f?a:undefined);h=j.start+j.chunk*k+j.chunk/2;size=Math.min(g,j.chunk*j.ratio)}else{h=d.getPixelForValue(c.getParsed(a)[d.axis],a);size=Math.min(g,b.min*b.ratio)}return{base:h-size/2,head:h+size/2,center:h,size:size}}},{key:"draw",value:function draw(){var a=this;var b=a.chart;var c=a._cachedMeta;var d=c.vScale;var e=c.data;var f=e.length;var i=0;clipArea(b.ctx,b.chartArea);for(;i<f;++i){if(a.getParsed(i)[d.axis]!==null){e[i].draw(a._ctx)}}unclipArea(b.ctx)}}]);return cT}(cm);cT.id='bar';cT.defaults={datasetElementType:false,dataElementType:'bar',categoryPercentage:0.8,barPercentage:0.9,grouped:true,animations:{numbers:{type:'number',properties:['x','y','base','width','height']}}};cT.overrides={interaction:{mode:'index'},scales:{_index_:{type:'category',offset:true,grid:{offset:true}},_value_:{type:'linear',beginAtZero:true}}};var cU=function(o){_inherits(cU,o);var p=_createSuper(cU);function cU(){_classCallCheck(this,cU);return p.apply(this,arguments)}_createClass(cU,[{key:"initialize",value:function initialize(){this.enableOptionSharing=true;_get2(_getPrototypeOf(cU.prototype),"initialize",this).call(this)}},{key:"parseObjectData",value:function parseObjectData(a,b,c,d){var e=a.xScale,yScale=a.yScale;var f=this._parsing,_this$_parsing3$xAxis=f.xAxisKey,xAxisKey=_this$_parsing3$xAxis===void 0?'x':_this$_parsing3$xAxis,_this$_parsing3$yAxis=f.yAxisKey,yAxisKey=_this$_parsing3$yAxis===void 0?'y':_this$_parsing3$yAxis;var g=[];var i,ilen,item;for(i=c,ilen=c+d;i<ilen;++i){item=b[i];g.push({x:e.parse(resolveObjectKey(item,xAxisKey),i),y:yScale.parse(resolveObjectKey(item,yAxisKey),i),_custom:item&&item.r&&+item.r})}return g}},{key:"getMaxOverflow",value:function getMaxOverflow(){var a=this._cachedMeta,data=a.data,_parsed=a._parsed;var b=0;for(var i=data.length-1;i>=0;--i){b=Math.max(b,data[i].size()/2,_parsed[i]._custom)}return b>0&&b}},{key:"getLabelAndValue",value:function getLabelAndValue(a){var b=this;var c=b._cachedMeta;var d=c.xScale,yScale=c.yScale;var e=b.getParsed(a);var x=d.getLabelForValue(e.x);var y=yScale.getLabelForValue(e.y);var r=e._custom;return{label:c.label,value:'('+x+', '+y+(r?', '+r:'')+')'}}},{key:"update",value:function update(a){var b=this;var c=b._cachedMeta.data;b.updateElements(c,0,c.length,a)}},{key:"updateElements",value:function updateElements(a,b,c,d){var e=this;var f=d==='reset';var g=e._cachedMeta,xScale=g.xScale,yScale=g.yScale;var h=e.resolveDataElementOptions(b,d);var j=e.getSharedOptions(h);var k=e.includeOptions(d,j);for(var i=b;i<b+c;i++){var l=a[i];var m=!f&&e.getParsed(i);var x=f?xScale.getPixelForDecimal(0.5):xScale.getPixelForValue(m.x);var y=f?yScale.getBasePixel():yScale.getPixelForValue(m.y);var n={x:x,y:y,skip:isNaN(x)||isNaN(y)};if(k){n.options=e.resolveDataElementOptions(i,d);if(f){n.options.radius=0}}e.updateElement(l,i,n,d)}e.updateSharedOptions(j,d,h)}},{key:"resolveDataElementOptions",value:function resolveDataElementOptions(a,b){var c=this.getParsed(a);var d=_get2(_getPrototypeOf(cU.prototype),"resolveDataElementOptions",this).call(this,a,b);if(d.$shared){d=Object.assign({},d,{$shared:false})}var e=d.radius;if(b!=='active'){d.radius=0}d.radius+=valueOrDefault(c&&c._custom,e);return d}}]);return cU}(cm);cU.id='bubble';cU.defaults={datasetElementType:false,dataElementType:'point',animations:{numbers:{type:'number',properties:['x','y','borderWidth','radius']}}};cU.overrides={scales:{x:{type:'linear'},y:{type:'linear'}},plugins:{tooltip:{callbacks:{title:function title(){return''}}}}};function getRatioAndOffset(d,e,f){var g=1;var h=1;var i=0;var j=0;if(e<bs){var k=d;var l=k+e;var m=Math.cos(k);var n=Math.sin(k);var o=Math.cos(l);var p=Math.sin(l);var q=function q(c,a,b){return _angleBetween(c,k,l)?1:Math.max(a,a*f,b,b*f)};var r=function r(c,a,b){return _angleBetween(c,k,l)?-1:Math.min(a,a*f,b,b*f)};var s=q(0,m,o);var t=q(bw,n,p);var u=r(br,m,o);var v=r(br+bw,n,p);g=(s-u)/2;h=(t-v)/2;i=-(s+u)/2;j=-(t+v)/2}return{ratioX:g,ratioY:h,offsetX:i,offsetY:j}}var cV=function(x){_inherits(cV,x);var y=_createSuper(cV);function cV(a,b){var c;_classCallCheck(this,cV);c=y.call(this,a,b);c.enableOptionSharing=true;c.innerRadius=undefined;c.outerRadius=undefined;c.offsetX=undefined;c.offsetY=undefined;return c}_createClass(cV,[{key:"linkScales",value:function linkScales(){}},{key:"parse",value:function parse(a,b){var c=this.getDataset().data;var d=this._cachedMeta;var i,ilen;for(i=a,ilen=a+b;i<ilen;++i){d._parsed[i]=+c[i]}}},{key:"_getRotation",value:function _getRotation(){return toRadians(this.options.rotation-90)}},{key:"_getCircumference",value:function _getCircumference(){return toRadians(this.options.circumference)}},{key:"_getRotationExtents",value:function _getRotationExtents(){var a=bs;var b=-bs;var c=this;for(var i=0;i<c.chart.data.datasets.length;++i){if(c.chart.isDatasetVisible(i)){var d=c.chart.getDatasetMeta(i).controller;var e=d._getRotation();var f=d._getCircumference();a=Math.min(a,e);b=Math.max(b,e+f)}}return{rotation:a,circumference:b-a}}},{key:"update",value:function update(a){var b=this;var c=b.chart;var d=c.chartArea;var e=b._cachedMeta;var f=e.data;var g=b.getMaxBorderWidth()+b.getMaxOffset(f);var h=Math.max((Math.min(d.width,d.height)-g)/2,0);var i=Math.min(bg(b.options.cutout,h),1);var j=b._getRingWeight(b.index);var k=b._getRotationExtents(),circumference=k.circumference,rotation=k.rotation;var l=getRatioAndOffset(rotation,circumference,i),ratioX=l.ratioX,ratioY=l.ratioY,offsetX=l.offsetX,offsetY=l.offsetY;var m=(d.width-g)/ratioX;var n=(d.height-g)/ratioY;var o=Math.max(Math.min(m,n)/2,0);var p=bh(b.options.radius,o);var q=Math.max(p*i,0);var r=(p-q)/b._getVisibleDatasetWeightTotal();b.offsetX=offsetX*p;b.offsetY=offsetY*p;e.total=b.calculateTotal();b.outerRadius=p-r*b._getRingWeightOffset(b.index);b.innerRadius=Math.max(b.outerRadius-r*j,0);b.updateElements(f,0,f.length,a)}},{key:"_circumference",value:function _circumference(i,a){var b=this;var c=b.options;var d=b._cachedMeta;var e=b._getCircumference();if(a&&c.animation.animateRotate||!this.chart.getDataVisibility(i)||d._parsed[i]===null){return 0}return b.calculateCircumference(d._parsed[i]*e/bs)}},{key:"updateElements",value:function updateElements(a,b,c,d){var e=this;var f=d==='reset';var g=e.chart;var h=g.chartArea;var j=g.options;var k=j.animation;var l=(h.left+h.right)/2;var m=(h.top+h.bottom)/2;var n=f&&k.animateScale;var o=n?0:e.innerRadius;var p=n?0:e.outerRadius;var q=e.resolveDataElementOptions(b,d);var r=e.getSharedOptions(q);var s=e.includeOptions(d,r);var t=e._getRotation();var i;for(i=0;i<b;++i){t+=e._circumference(i,f)}for(i=b;i<b+c;++i){var u=e._circumference(i,f);var v=a[i];var w={x:l+e.offsetX,y:m+e.offsetY,startAngle:t,endAngle:t+u,circumference:u,outerRadius:p,innerRadius:o};if(s){w.options=r||e.resolveDataElementOptions(i,d)}t+=u;e.updateElement(v,i,w,d)}e.updateSharedOptions(r,d,q)}},{key:"calculateTotal",value:function calculateTotal(){var a=this._cachedMeta;var b=a.data;var c=0;var i;for(i=0;i<b.length;i++){var d=a._parsed[i];if(d!==null&&!isNaN(d)&&this.chart.getDataVisibility(i)){c+=Math.abs(d)}}return c}},{key:"calculateCircumference",value:function calculateCircumference(a){var b=this._cachedMeta.total;if(b>0&&!isNaN(a)){return bs*(Math.abs(a)/b)}return 0}},{key:"getLabelAndValue",value:function getLabelAndValue(a){var b=this;var c=b._cachedMeta;var d=b.chart;var e=d.data.labels||[];var f=formatNumber(c._parsed[a],d.options.locale);return{label:e[a]||'',value:f}}},{key:"getMaxBorderWidth",value:function getMaxBorderWidth(a){var b=this;var c=0;var d=b.chart;var i,ilen,meta,controller,options;if(!a){for(i=0,ilen=d.data.datasets.length;i<ilen;++i){if(d.isDatasetVisible(i)){meta=d.getDatasetMeta(i);a=meta.data;controller=meta.controller;if(controller!==b){controller.configure()}break}}}if(!a){return 0}for(i=0,ilen=a.length;i<ilen;++i){options=controller.resolveDataElementOptions(i);if(options.borderAlign!=='inner'){c=Math.max(c,options.borderWidth||0,options.hoverBorderWidth||0)}}return c}},{key:"getMaxOffset",value:function getMaxOffset(a){var b=0;for(var i=0,ilen=a.length;i<ilen;++i){var c=this.resolveDataElementOptions(i);b=Math.max(b,c.offset||0,c.hoverOffset||0)}return b}},{key:"_getRingWeightOffset",value:function _getRingWeightOffset(a){var b=0;for(var i=0;i<a;++i){if(this.chart.isDatasetVisible(i)){b+=this._getRingWeight(i)}}return b}},{key:"_getRingWeight",value:function _getRingWeight(a){return Math.max(valueOrDefault(this.chart.data.datasets[a].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function _getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]);return cV}(cm);cV.id='doughnut';cV.defaults={datasetElementType:false,dataElementType:'arc',animation:{animateRotate:true,animateScale:false},animations:{numbers:{type:'number',properties:['circumference','endAngle','innerRadius','outerRadius','startAngle','x','y','offset','borderWidth']}},cutout:'50%',rotation:0,circumference:360,radius:'100%',indexAxis:'r'};cV.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function generateLabels(d){var e=d.data;if(e.labels.length&&e.datasets.length){return e.labels.map(function(a,i){var b=d.getDatasetMeta(0);var c=b.controller.getStyle(i);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,hidden:!d.getDataVisibility(i),index:i}})}return[]}},onClick:function onClick(e,a,b){b.chart.toggleDataVisibility(a.index);b.chart.update()}},tooltip:{callbacks:{title:function title(){return''},label:function label(a){var b=a.label;var c=': '+a.formattedValue;if(isArray(b)){b=b.slice();b[0]+=c}else{b+=c}return b}}}}};var cW=function(t){_inherits(cW,t);var u=_createSuper(cW);function cW(){_classCallCheck(this,cW);return u.apply(this,arguments)}_createClass(cW,[{key:"initialize",value:function initialize(){this.enableOptionSharing=true;_get2(_getPrototypeOf(cW.prototype),"initialize",this).call(this)}},{key:"update",value:function update(a){var b=this;var c=b._cachedMeta;var d=c.dataset,_meta$data=c.data,points=_meta$data===void 0?[]:_meta$data,_dataset=c._dataset;var e=b.chart._animationsDisabled;var f=getStartAndCountOfVisiblePoints(c,points,e),start=f.start,count=f.count;b._drawStart=start;b._drawCount=count;if(scaleRangesChanged(c)){start=0;count=points.length}d._decimated=!!_dataset._decimated;d.points=points;var g=b.resolveDatasetElementOptions(a);if(!b.options.showLine){g.borderWidth=0}g.segment=b.options.segment;b.updateElement(d,undefined,{animated:!e,options:g},a);b.updateElements(points,start,count,a)}},{key:"updateElements",value:function updateElements(a,b,c,d){var e=this;var f=d==='reset';var g=e._cachedMeta,xScale=g.xScale,yScale=g.yScale,_stacked=g._stacked;var h=e.resolveDataElementOptions(b,d);var j=e.getSharedOptions(h);var k=e.includeOptions(d,j);var l=e.options.spanGaps;var m=isNumber(l)?l:Number.POSITIVE_INFINITY;var n=e.chart._animationsDisabled||f||d==='none';var o=b>0&&e.getParsed(b-1);for(var i=b;i<b+c;++i){var p=a[i];var q=e.getParsed(i);var r=n?p:{};var s=isNullOrUndef(q.y);var x=r.x=xScale.getPixelForValue(q.x,i);var y=r.y=f||s?yScale.getBasePixel():yScale.getPixelForValue(_stacked?e.applyStack(yScale,q,_stacked):q.y,i);r.skip=isNaN(x)||isNaN(y)||s;r.stop=i>0&&q.x-o.x>m;r.parsed=q;if(k){r.options=j||e.resolveDataElementOptions(i,d)}if(!n){e.updateElement(p,i,r,d)}o=q}e.updateSharedOptions(j,d,h)}},{key:"getMaxOverflow",value:function getMaxOverflow(){var a=this;var b=a._cachedMeta;var c=b.dataset;var d=c.options&&c.options.borderWidth||0;var e=b.data||[];if(!e.length){return d}var f=e[0].size(a.resolveDataElementOptions(0));var g=e[e.length-1].size(a.resolveDataElementOptions(e.length-1));return Math.max(d,f,g)/2}},{key:"draw",value:function draw(){this._cachedMeta.dataset.updateControlPoints(this.chart.chartArea);_get2(_getPrototypeOf(cW.prototype),"draw",this).call(this)}}]);return cW}(cm);cW.id='line';cW.defaults={datasetElementType:'line',dataElementType:'point',showLine:true,spanGaps:false};cW.overrides={scales:{_index_:{type:'category'},_value_:{type:'linear'}}};function getStartAndCountOfVisiblePoints(a,b,c){var d=b.length;var e=0;var f=d;if(a._sorted){var g=a.iScale,_parsed=a._parsed;var h=g.axis;var i=g.getUserBounds(),min=i.min,max=i.max,minDefined=i.minDefined,maxDefined=i.maxDefined;if(minDefined){e=_limitValue(Math.min(bB(_parsed,g.axis,min).lo,c?d:bB(b,h,g.getPixelForValue(min)).lo),0,d-1)}if(maxDefined){f=_limitValue(Math.max(bB(_parsed,g.axis,max).hi+1,c?0:bB(b,h,g.getPixelForValue(max)).hi+1),e,d)-e}else{f=d-e}}return{start:e,count:f}}function scaleRangesChanged(a){var b=a.xScale,yScale=a.yScale,_scaleRanges=a._scaleRanges;var c={xmin:b.min,xmax:b.max,ymin:yScale.min,ymax:yScale.max};if(!_scaleRanges){a._scaleRanges=c;return true}var d=_scaleRanges.xmin!==b.min||_scaleRanges.xmax!==b.max||_scaleRanges.ymin!==yScale.min||_scaleRanges.ymax!==yScale.max;Object.assign(_scaleRanges,c);return d}var cX=function(w){_inherits(cX,w);var x=_createSuper(cX);function cX(a,b){var c;_classCallCheck(this,cX);c=x.call(this,a,b);c.innerRadius=undefined;c.outerRadius=undefined;return c}_createClass(cX,[{key:"update",value:function update(a){var b=this._cachedMeta.data;this._updateRadius();this.updateElements(b,0,b.length,a)}},{key:"_updateRadius",value:function _updateRadius(){var a=this;var b=a.chart;var c=b.chartArea;var d=b.options;var e=Math.min(c.right-c.left,c.bottom-c.top);var f=Math.max(e/2,0);var g=Math.max(d.cutoutPercentage?f/100*d.cutoutPercentage:1,0);var h=(f-g)/b.getVisibleDatasetCount();a.outerRadius=f-h*a.index;a.innerRadius=a.outerRadius-h}},{key:"updateElements",value:function updateElements(a,b,c,d){var e=this;var f=d==='reset';var g=e.chart;var h=e.getDataset();var j=g.options;var k=j.animation;var l=e._cachedMeta.rScale;var m=l.xCenter;var n=l.yCenter;var o=l.getIndexAngle(0)-0.5*br;var p=o;var i;var q=360/e.countVisibleElements();for(i=0;i<b;++i){p+=e._computeAngle(i,d,q)}for(i=b;i<b+c;i++){var r=a[i];var s=p;var t=p+e._computeAngle(i,d,q);var u=g.getDataVisibility(i)?l.getDistanceFromCenterForValue(h.data[i]):0;p=t;if(f){if(k.animateScale){u=0}if(k.animateRotate){s=t=o}}var v={x:m,y:n,innerRadius:0,outerRadius:u,startAngle:s,endAngle:t,options:e.resolveDataElementOptions(i,d)};e.updateElement(r,i,v,d)}}},{key:"countVisibleElements",value:function countVisibleElements(){var c=this;var d=this.getDataset();var e=this._cachedMeta;var f=0;e.data.forEach(function(a,b){if(!isNaN(d.data[b])&&c.chart.getDataVisibility(b)){f++}});return f}},{key:"_computeAngle",value:function _computeAngle(a,b,c){return this.chart.getDataVisibility(a)?toRadians(this.resolveDataElementOptions(a,b).angle||c):0}}]);return cX}(cm);cX.id='polarArea';cX.defaults={dataElementType:'arc',animation:{animateRotate:true,animateScale:true},animations:{numbers:{type:'number',properties:['x','y','startAngle','endAngle','innerRadius','outerRadius']}},indexAxis:'r',startAngle:0};cX.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels:function generateLabels(d){var e=d.data;if(e.labels.length&&e.datasets.length){return e.labels.map(function(a,i){var b=d.getDatasetMeta(0);var c=b.controller.getStyle(i);return{text:a,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,lineWidth:c.borderWidth,hidden:!d.getDataVisibility(i),index:i}})}return[]}},onClick:function onClick(e,a,b){b.chart.toggleDataVisibility(a.index);b.chart.update()}},tooltip:{callbacks:{title:function title(){return''},label:function label(a){return a.chart.data.labels[a.dataIndex]+': '+a.formattedValue}}}},scales:{r:{type:'radialLinear',angleLines:{display:false},beginAtZero:true,grid:{circular:true},pointLabels:{display:false},startAngle:0}}};var cY=function(a){_inherits(cY,a);var b=_createSuper(cY);function cY(){_classCallCheck(this,cY);return b.apply(this,arguments)}return cY}(cV);cY.id='pie';cY.defaults={cutout:0,rotation:0,circumference:360,radius:'100%'};var cZ=function(n){_inherits(cZ,n);var o=_createSuper(cZ);function cZ(){_classCallCheck(this,cZ);return o.apply(this,arguments)}_createClass(cZ,[{key:"getLabelAndValue",value:function getLabelAndValue(a){var b=this;var c=b._cachedMeta.vScale;var d=b.getParsed(a);return{label:c.getLabels()[a],value:''+c.getLabelForValue(d[c.axis])}}},{key:"update",value:function update(a){var b=this;var c=b._cachedMeta;var d=c.dataset;var e=c.data||[];var f=c.iScale.getLabels();d.points=e;if(a!=='resize'){var g=b.resolveDatasetElementOptions(a);if(!b.options.showLine){g.borderWidth=0}var h={_loop:true,_fullLoop:f.length===e.length,options:g};b.updateElement(d,undefined,h,a)}b.updateElements(e,0,e.length,a)}},{key:"updateElements",value:function updateElements(a,b,c,d){var e=this;var f=e.getDataset();var g=e._cachedMeta.rScale;var h=d==='reset';for(var i=b;i<b+c;i++){var j=a[i];var k=e.resolveDataElementOptions(i,d);var l=g.getPointPositionForValue(i,f.data[i]);var x=h?g.xCenter:l.x;var y=h?g.yCenter:l.y;var m={x:x,y:y,angle:l.angle,skip:isNaN(x)||isNaN(y),options:k};e.updateElement(j,i,m,d)}}}]);return cZ}(cm);cZ.id='radar';cZ.defaults={datasetElementType:'line',dataElementType:'point',indexAxis:'r',showLine:true,elements:{line:{fill:'start'}}};cZ.overrides={aspectRatio:1,scales:{r:{type:'radialLinear'}}};var da=function(a){_inherits(da,a);var b=_createSuper(da);function da(){_classCallCheck(this,da);return b.apply(this,arguments)}return da}(cW);da.id='scatter';da.defaults={showLine:false,fill:false};da.overrides={interaction:{mode:'point'},plugins:{tooltip:{callbacks:{title:function title(){return''},label:function label(a){return'('+a.label+', '+a.formattedValue+')'}}}},scales:{x:{type:'linear'},y:{type:'linear'}}};var db=Object.freeze({__proto__:null,BarController:cT,BubbleController:cU,DoughnutController:cV,LineController:cW,PolarAreaController:cX,PieController:cY,RadarController:cZ,ScatterController:da});function clipArc(a,b){var c=b.startAngle,endAngle=b.endAngle,pixelMargin=b.pixelMargin,x=b.x,y=b.y,outerRadius=b.outerRadius,innerRadius=b.innerRadius;var d=pixelMargin/outerRadius;a.beginPath();a.arc(x,y,outerRadius,c-d,endAngle+d);if(innerRadius>pixelMargin){d=pixelMargin/innerRadius;a.arc(x,y,innerRadius,endAngle+d,c-d,true)}else{a.arc(x,y,pixelMargin,endAngle+bw,c-bw)}a.closePath();a.clip()}function toRadiusCorners(a){return _readValueToProps(a,['outerStart','outerEnd','innerStart','innerEnd'])}function parseBorderRadius$1(c,d,e,f){var o=toRadiusCorners(c.options.borderRadius);var g=(e-d)/2;var h=Math.min(g,f*d/2);var i=function i(a){var b=(e-Math.min(g,a))*f/2;return _limitValue(a,0,Math.min(g,b))};return{outerStart:i(o.outerStart),outerEnd:i(o.outerEnd),innerStart:_limitValue(o.innerStart,0,h),innerEnd:_limitValue(o.innerEnd,0,h)}}function rThetaToXY(r,a,x,y){return{x:x+r*Math.cos(a),y:y+r*Math.sin(a)}}function pathArc(a,b){var x=b.x,y=b.y,startAngle=b.startAngle,endAngle=b.endAngle,pixelMargin=b.pixelMargin;var c=Math.max(b.outerRadius-pixelMargin,0);var d=b.innerRadius+pixelMargin;var e=parseBorderRadius$1(b,d,c,endAngle-startAngle),outerStart=e.outerStart,outerEnd=e.outerEnd,innerStart=e.innerStart,innerEnd=e.innerEnd;var f=c-outerStart;var g=c-outerEnd;var h=startAngle+outerStart/f;var i=endAngle-outerEnd/g;var j=d+innerStart;var k=d+innerEnd;var l=startAngle+innerStart/j;var m=endAngle-innerEnd/k;a.beginPath();a.arc(x,y,c,h,i);if(outerEnd>0){var n=rThetaToXY(g,i,x,y);a.arc(n.x,n.y,outerEnd,i,endAngle+bw)}var o=rThetaToXY(k,endAngle,x,y);a.lineTo(o.x,o.y);if(innerEnd>0){var p=rThetaToXY(k,m,x,y);a.arc(p.x,p.y,innerEnd,endAngle+bw,m+Math.PI)}a.arc(x,y,d,endAngle-innerEnd/d,startAngle+innerStart/d,true);if(innerStart>0){var q=rThetaToXY(j,l,x,y);a.arc(q.x,q.y,innerStart,l+Math.PI,startAngle-bw)}var r=rThetaToXY(f,startAngle,x,y);a.lineTo(r.x,r.y);if(outerStart>0){var s=rThetaToXY(f,h,x,y);a.arc(s.x,s.y,outerStart,startAngle-bw,h)}a.closePath()}function drawArc(a,b){if(b.fullCircles){b.endAngle=b.startAngle+bs;pathArc(a,b);for(var i=0;i<b.fullCircles;++i){a.fill()}}if(!isNaN(b.circumference)){b.endAngle=b.startAngle+b.circumference%bs}pathArc(a,b);a.fill()}function drawFullCircleBorders(a,b,c){var x=b.x,y=b.y,startAngle=b.startAngle,endAngle=b.endAngle,pixelMargin=b.pixelMargin;var d=Math.max(b.outerRadius-pixelMargin,0);var e=b.innerRadius+pixelMargin;var i;if(c){b.endAngle=b.startAngle+bs;clipArc(a,b);b.endAngle=endAngle;if(b.endAngle===b.startAngle){b.endAngle+=bs;b.fullCircles--}}a.beginPath();a.arc(x,y,e,startAngle+bs,startAngle,true);for(i=0;i<b.fullCircles;++i){a.stroke()}a.beginPath();a.arc(x,y,d,startAngle,startAngle+bs);for(i=0;i<b.fullCircles;++i){a.stroke()}}function drawBorder(a,b){var c=b.options;var d=c.borderAlign==='inner';if(!c.borderWidth){return}if(d){a.lineWidth=c.borderWidth*2;a.lineJoin='round'}else{a.lineWidth=c.borderWidth;a.lineJoin='bevel'}if(b.fullCircles){drawFullCircleBorders(a,b,d)}if(d){clipArc(a,b)}pathArc(a,b);a.stroke()}var dc=function(i){_inherits(dc,i);var j=_createSuper(dc);function dc(a){var b;_classCallCheck(this,dc);b=j.call(this);b.options=undefined;b.circumference=undefined;b.startAngle=undefined;b.endAngle=undefined;b.innerRadius=undefined;b.outerRadius=undefined;b.pixelMargin=0;b.fullCircles=0;if(a){Object.assign(_assertThisInitialized(b),a)}return b}_createClass(dc,[{key:"inRange",value:function inRange(a,b,c){var d=this.getProps(['x','y'],c);var e=getAngleFromPoint(d,{x:a,y:b}),angle=e.angle,distance=e.distance;var f=this.getProps(['startAngle','endAngle','innerRadius','outerRadius','circumference'],c),startAngle=f.startAngle,endAngle=f.endAngle,innerRadius=f.innerRadius,outerRadius=f.outerRadius,circumference=f.circumference;var g=circumference>=bs||_angleBetween(angle,startAngle,endAngle);var h=distance>=innerRadius&&distance<=outerRadius;return g&&h}},{key:"getCenterPoint",value:function getCenterPoint(a){var b=this.getProps(['x','y','startAngle','endAngle','innerRadius','outerRadius'],a),x=b.x,y=b.y,startAngle=b.startAngle,endAngle=b.endAngle,innerRadius=b.innerRadius,outerRadius=b.outerRadius;var c=(startAngle+endAngle)/2;var d=(innerRadius+outerRadius)/2;return{x:x+Math.cos(c)*d,y:y+Math.sin(c)*d}}},{key:"tooltipPosition",value:function tooltipPosition(a){return this.getCenterPoint(a)}},{key:"draw",value:function draw(a){var b=this;var c=b.options;var d=c.offset||0;b.pixelMargin=c.borderAlign==='inner'?0.33:0;b.fullCircles=Math.floor(b.circumference/bs);if(b.circumference===0||b.innerRadius<0||b.outerRadius<0){return}a.save();if(d&&b.circumference<bs){var e=(b.startAngle+b.endAngle)/2;a.translate(Math.cos(e)*d,Math.sin(e)*d)}a.fillStyle=c.backgroundColor;a.strokeStyle=c.borderColor;drawArc(a,b);drawBorder(a,b);a.restore()}}]);return dc}(cn);dc.id='arc';dc.defaults={borderAlign:'center',borderColor:'#fff',borderRadius:0,borderWidth:2,offset:0,angle:undefined};dc.defaultRoutes={backgroundColor:'backgroundColor'};function setStyle(a,b){var c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:b;a.lineCap=valueOrDefault(c.borderCapStyle,b.borderCapStyle);a.setLineDash(valueOrDefault(c.borderDash,b.borderDash));a.lineDashOffset=valueOrDefault(c.borderDashOffset,b.borderDashOffset);a.lineJoin=valueOrDefault(c.borderJoinStyle,b.borderJoinStyle);a.lineWidth=valueOrDefault(c.borderWidth,b.borderWidth);a.strokeStyle=valueOrDefault(c.borderColor,b.borderColor)}function lineTo(a,b,c){a.lineTo(c.x,c.y)}function getLineMethod(a){if(a.stepped){return _steppedLineTo}if(a.tension||a.cubicInterpolationMode==='monotone'){return _bezierCurveTo}return lineTo}function pathVars(a,b){var c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var d=a.length;var e=c.start,paramsStart=e===void 0?0:e,_params$end=c.end,paramsEnd=_params$end===void 0?d-1:_params$end;var f=b.start,segmentEnd=b.end;var g=Math.max(paramsStart,f);var h=Math.min(paramsEnd,segmentEnd);var i=paramsStart<f&&paramsEnd<f||paramsStart>segmentEnd&&paramsEnd>segmentEnd;return{count:d,start:g,loop:b.loop,ilen:h<g&&!i?d+h-g:h-g}}function pathSegment(a,b,c,d){var e=b.points,options=b.options;var f=pathVars(e,c,d),count=f.count,start=f.start,loop=f.loop,ilen=f.ilen;var g=getLineMethod(options);var h=d||{},_ref3$move=h.move,move=_ref3$move===void 0?true:_ref3$move,reverse=h.reverse;var i,point,prev;for(i=0;i<=ilen;++i){point=e[(start+(reverse?ilen-i:i))%count];if(point.skip){continue}else if(move){a.moveTo(point.x,point.y);move=false}else{g(a,prev,point,reverse,options.stepped)}prev=point}if(loop){point=e[(start+(reverse?ilen:0))%count];g(a,prev,point,reverse,options.stepped)}return!!loop}function fastPathSegment(b,c,d,e){var f=c.points;var g=pathVars(f,d,e),count=g.count,start=g.start,ilen=g.ilen;var h=e||{},_ref4$move=h.move,move=_ref4$move===void 0?true:_ref4$move,reverse=h.reverse;var j=0;var k=0;var i,point,prevX,minY,maxY,lastY;var l=function l(a){return(start+(reverse?ilen-a:a))%count};var m=function m(){if(minY!==maxY){b.lineTo(j,maxY);b.lineTo(j,minY);b.lineTo(j,lastY)}};if(move){point=f[l(0)];b.moveTo(point.x,point.y)}for(i=0;i<=ilen;++i){point=f[l(i)];if(point.skip){continue}var x=point.x;var y=point.y;var n=x|0;if(n===prevX){if(y<minY){minY=y}else if(y>maxY){maxY=y}j=(k*j+x)/++k}else{m();b.lineTo(x,y);prevX=n;k=0;minY=maxY=y}lastY=y}m()}function _getSegmentMethod(a){var b=a.options;var c=b.borderDash&&b.borderDash.length;var d=!a._decimated&&!a._loop&&!b.tension&&b.cubicInterpolationMode!=='monotone'&&!b.stepped&&!c;return d?fastPathSegment:pathSegment}function _getInterpolationMethod(a){if(a.stepped){return _steppedInterpolation}if(a.tension||a.cubicInterpolationMode==='monotone'){return _bezierInterpolation}return _pointInLine}function strokePathWithCache(a,b,c,d){var e=b._path;if(!e){e=b._path=new Path2D();if(b.path(e,c,d)){e.closePath()}}setStyle(a,b.options);a.stroke(e)}function strokePathDirect(a,b,c,d){var e=b.segments,options=b.options;var f=_getSegmentMethod(b);var g=_createForOfIteratorHelper(e),_step16;try{for(g.s();!(_step16=g.n()).done;){var h=_step16.value;setStyle(a,options,h.style);a.beginPath();if(f(a,b,h,{start:c,end:c+d-1})){a.closePath()}a.stroke()}}catch(err){g.e(err)}finally{g.f()}}var dd=typeof Path2D==='function';function _draw(a,b,c,d){if(dd&&b.segments.length===1){strokePathWithCache(a,b,c,d)}else{strokePathDirect(a,b,c,d)}}var de=function(o){_inherits(de,o);var p=_createSuper(de);function de(a){var b;_classCallCheck(this,de);b=p.call(this);b.animated=true;b.options=undefined;b._loop=undefined;b._fullLoop=undefined;b._path=undefined;b._points=undefined;b._segments=undefined;b._decimated=false;b._pointsUpdated=false;if(a){Object.assign(_assertThisInitialized(b),a)}return b}_createClass(de,[{key:"updateControlPoints",value:function updateControlPoints(a){var b=this;var c=b.options;if((c.tension||c.cubicInterpolationMode==='monotone')&&!c.stepped&&!b._pointsUpdated){var d=c.spanGaps?b._loop:b._fullLoop;_updateBezierControlPoints(b._points,c,a,d);b._pointsUpdated=true}}},{key:"points",get:function get(){return this._points},set:function set(a){var b=this;b._points=a;delete b._segments;delete b._path;b._pointsUpdated=false}},{key:"segments",get:function get(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}},{key:"first",value:function first(){var a=this.segments;var b=this.points;return a.length&&b[a[0].start]}},{key:"last",value:function last(){var a=this.segments;var b=this.points;var c=a.length;return c&&b[a[c-1].end]}},{key:"interpolate",value:function interpolate(a,b){var c=this;var d=c.options;var e=a[b];var f=c.points;var g=_boundSegments(c,{property:b,start:e,end:e});if(!g.length){return}var h=[];var j=_getInterpolationMethod(d);var i,ilen;for(i=0,ilen=g.length;i<ilen;++i){var k=g[i],start=k.start,end=k.end;var l=f[start];var m=f[end];if(l===m){h.push(l);continue}var t=Math.abs((e-l[b])/(m[b]-l[b]));var n=j(l,m,t,d.stepped);n[b]=a[b];h.push(n)}return h.length===1?h[0]:h}},{key:"pathSegment",value:function pathSegment(a,b,c){var d=_getSegmentMethod(this);return d(a,this,b,c)}},{key:"path",value:function path(a,b,c){var d=this;var e=d.segments;var f=_getSegmentMethod(d);var g=d._loop;b=b||0;c=c||d.points.length-b;var h=_createForOfIteratorHelper(e),_step17;try{for(h.s();!(_step17=h.n()).done;){var i=_step17.value;g&=f(a,d,i,{start:b,end:b+c-1})}}catch(err){h.e(err)}finally{h.f()}return!!g}},{key:"draw",value:function draw(a,b,c,d){var e=this;var f=e.options||{};var g=e.points||[];if(!g.length||!f.borderWidth){return}a.save();_draw(a,e,c,d);a.restore();if(e.animated){e._pointsUpdated=false;e._path=undefined}}}]);return de}(cn);de.id='line';de.defaults={borderCapStyle:'butt',borderDash:[],borderDashOffset:0,borderJoinStyle:'miter',borderWidth:3,capBezierPoints:true,cubicInterpolationMode:'default',fill:false,spanGaps:false,stepped:false,tension:0};de.defaultRoutes={backgroundColor:'backgroundColor',borderColor:'borderColor'};de.descriptors={_scriptable:true,_indexable:function _indexable(a){return a!=='borderDash'&&a!=='fill'}};function inRange$1(a,b,c,d){var e=a.options;var f=a.getProps([c],d),value=f[c];return Math.abs(b-value)<e.radius+e.hitRadius}var df=function(f){_inherits(df,f);var g=_createSuper(df);function df(a){var b;_classCallCheck(this,df);b=g.call(this);b.options=undefined;b.parsed=undefined;b.skip=undefined;b.stop=undefined;if(a){Object.assign(_assertThisInitialized(b),a)}return b}_createClass(df,[{key:"inRange",value:function inRange(a,b,c){var d=this.options;var e=this.getProps(['x','y'],c),x=e.x,y=e.y;return Math.pow(a-x,2)+Math.pow(b-y,2)<Math.pow(d.hitRadius+d.radius,2)}},{key:"inXRange",value:function inXRange(a,b){return inRange$1(this,a,'x',b)}},{key:"inYRange",value:function inYRange(a,b){return inRange$1(this,a,'y',b)}},{key:"getCenterPoint",value:function getCenterPoint(a){var b=this.getProps(['x','y'],a),x=b.x,y=b.y;return{x:x,y:y}}},{key:"size",value:function size(a){a=a||this.options||{};var b=a.radius||0;b=Math.max(b,b&&a.hoverRadius||0);var c=b&&a.borderWidth||0;return(b+c)*2}},{key:"draw",value:function draw(a){var b=this;var c=b.options;if(b.skip||c.radius<0.1){return}a.strokeStyle=c.borderColor;a.lineWidth=c.borderWidth;a.fillStyle=c.backgroundColor;drawPoint(a,c,b.x,b.y)}},{key:"getRange",value:function getRange(){var a=this.options||{};return a.radius+a.hitRadius}}]);return df}(cn);df.id='point';df.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:'circle',radius:3,rotation:0};df.defaultRoutes={backgroundColor:'backgroundColor',borderColor:'borderColor'};function getBarBounds(a,b){var c=a.getProps(['x','y','base','width','height'],b),x=c.x,y=c.y,base=c.base,width=c.width,height=c.height;var d,right,top,bottom,half;if(a.horizontal){half=height/2;d=Math.min(x,base);right=Math.max(x,base);top=y-half;bottom=y+half}else{half=width/2;d=x-half;right=x+half;top=Math.min(y,base);bottom=Math.max(y,base)}return{left:d,top:top,right:right,bottom:bottom}}function parseBorderSkipped(a){var b=a.options.borderSkipped;var c={};if(!b){return c}b=a.horizontal?parseEdge(b,'left','right',a.base>a.x):parseEdge(b,'bottom','top',a.base<a.y);c[b]=true;return c}function parseEdge(c,a,b,d){if(d){c=swap(c,a,b);c=startEnd(c,b,a)}else{c=startEnd(c,a,b)}return c}function swap(a,b,c){return a===b?c:a===c?b:a}function startEnd(v,a,b){return v==='start'?a:v==='end'?b:v}function skipOrLimit(a,b,c,d){return a?0:Math.max(Math.min(b,d),c)}function parseBorderWidth(a,b,c){var d=a.options.borderWidth;var e=parseBorderSkipped(a);var o=toTRBL(d);return{t:skipOrLimit(e.top,o.top,0,c),r:skipOrLimit(e.right,o.right,0,b),b:skipOrLimit(e.bottom,o.bottom,0,c),l:skipOrLimit(e.left,o.left,0,b)}}function parseBorderRadius(a,b,c){var d=a.getProps(['enableBorderRadius']),enableBorderRadius=d.enableBorderRadius;var e=a.options.borderRadius;var o=toTRBLCorners(e);var f=Math.min(b,c);var g=parseBorderSkipped(a);var h=enableBorderRadius||isObject(e);return{topLeft:skipOrLimit(!h||g.top||g.left,o.topLeft,0,f),topRight:skipOrLimit(!h||g.top||g.right,o.topRight,0,f),bottomLeft:skipOrLimit(!h||g.bottom||g.left,o.bottomLeft,0,f),bottomRight:skipOrLimit(!h||g.bottom||g.right,o.bottomRight,0,f)}}function boundingRects(a){var b=getBarBounds(a);var c=b.right-b.left;var d=b.bottom-b.top;var e=parseBorderWidth(a,c/2,d/2);var f=parseBorderRadius(a,c/2,d/2);return{outer:{x:b.left,y:b.top,w:c,h:d,radius:f},inner:{x:b.left+e.l,y:b.top+e.t,w:c-e.l-e.r,h:d-e.t-e.b,radius:{topLeft:Math.max(0,f.topLeft-Math.max(e.t,e.l)),topRight:Math.max(0,f.topRight-Math.max(e.t,e.r)),bottomLeft:Math.max(0,f.bottomLeft-Math.max(e.b,e.l)),bottomRight:Math.max(0,f.bottomRight-Math.max(e.b,e.r))}}}}function _inRange(a,x,y,b){var c=x===null;var d=y===null;var e=c&&d;var f=a&&!e&&getBarBounds(a,b);return f&&(c||x>=f.left&&x<=f.right)&&(d||y>=f.top&&y<=f.bottom)}function hasRadius(a){return a.topLeft||a.topRight||a.bottomLeft||a.bottomRight}function addNormalRectPath(a,b){a.rect(b.x,b.y,b.w,b.h)}var dg=function(e){_inherits(dg,e);var f=_createSuper(dg);function dg(a){var b;_classCallCheck(this,dg);b=f.call(this);b.options=undefined;b.horizontal=undefined;b.base=undefined;b.width=undefined;b.height=undefined;if(a){Object.assign(_assertThisInitialized(b),a)}return b}_createClass(dg,[{key:"draw",value:function draw(a){var b=this.options;var c=boundingRects(this),inner=c.inner,outer=c.outer;var d=hasRadius(outer.radius)?addRoundedRectPath:addNormalRectPath;a.save();if(outer.w!==inner.w||outer.h!==inner.h){a.beginPath();d(a,outer);a.clip();d(a,inner);a.fillStyle=b.borderColor;a.fill('evenodd')}a.beginPath();d(a,inner);a.fillStyle=b.backgroundColor;a.fill();a.restore()}},{key:"inRange",value:function inRange(a,b,c){return _inRange(this,a,b,c)}},{key:"inXRange",value:function inXRange(a,b){return _inRange(this,a,null,b)}},{key:"inYRange",value:function inYRange(a,b){return _inRange(this,null,a,b)}},{key:"getCenterPoint",value:function getCenterPoint(a){var b=this.getProps(['x','y','base','horizontal'],a),x=b.x,y=b.y,base=b.base,horizontal=b.horizontal;return{x:horizontal?(x+base)/2:x,y:horizontal?y:(y+base)/2}}},{key:"getRange",value:function getRange(a){return a==='x'?this.width/2:this.height/2}}]);return dg}(cn);dg.id='bar';dg.defaults={borderSkipped:'start',borderWidth:0,borderRadius:0,enableBorderRadius:true,pointStyle:undefined};dg.defaultRoutes={backgroundColor:'backgroundColor',borderColor:'borderColor'};var dh=Object.freeze({__proto__:null,ArcElement:dc,LineElement:de,PointElement:df,BarElement:dg});function lttbDecimation(b,c,d,e,f){var g=f.samples||e;if(g>=d){return b.slice(c,c+d)}var h=[];var k=(d-2)/(g-2);var l=0;var m=c+d-1;var a=c;var i,maxAreaPoint,maxArea,area,nextA;h[l++]=b[a];for(i=0;i<g-2;i++){var n=0;var o=0;var j=void 0;var p=Math.floor((i+1)*k)+1+c;var q=Math.min(Math.floor((i+2)*k)+1,d)+c;var r=q-p;for(j=p;j<q;j++){n+=b[j].x;o+=b[j].y}n/=r;o/=r;var s=Math.floor(i*k)+1+c;var t=Math.floor((i+1)*k)+1+c;var u=b[a],pointAx=u.x,pointAy=u.y;maxArea=area=-1;for(j=s;j<t;j++){area=0.5*Math.abs((pointAx-n)*(b[j].y-pointAy)-(pointAx-b[j].x)*(o-pointAy));if(area>maxArea){maxArea=area;maxAreaPoint=b[j];nextA=j}}h[l++]=maxAreaPoint;a=nextA}h[l++]=b[m];return h}function minMaxDecimation(a,b,c,d){var e=0;var f=0;var i,point,x,y,prevX,minIndex,maxIndex,startIndex,minY,maxY;var g=[];var h=b+c-1;var j=a[b].x;var k=a[h].x;var l=k-j;for(i=b;i<b+c;++i){point=a[i];x=(point.x-j)/l*d;y=point.y;var m=x|0;if(m===prevX){if(y<minY){minY=y;minIndex=i}else if(y>maxY){maxY=y;maxIndex=i}e=(f*e+point.x)/++f}else{var n=i-1;if(!isNullOrUndef(minIndex)&&!isNullOrUndef(maxIndex)){var o=Math.min(minIndex,maxIndex);var p=Math.max(minIndex,maxIndex);if(o!==startIndex&&o!==n){g.push(_objectSpread(_objectSpread({},a[o]),{},{x:e}))}if(p!==startIndex&&p!==n){g.push(_objectSpread(_objectSpread({},a[p]),{},{x:e}))}}if(i>0&&n!==startIndex){g.push(a[n])}g.push(point);prevX=m;f=0;minY=maxY=y;minIndex=maxIndex=startIndex=i}}return g}function cleanDecimatedDataset(a){if(a._decimated){var b=a._data;delete a._decimated;delete a._data;Object.defineProperty(a,'data',{value:b})}}function cleanDecimatedData(b){b.data.datasets.forEach(function(a){cleanDecimatedDataset(a)})}function getStartAndCountOfVisiblePointsSimplified(a,b){var c=b.length;var d=0;var e;var f=a.iScale;var g=f.getUserBounds(),min=g.min,max=g.max,minDefined=g.minDefined,maxDefined=g.maxDefined;if(minDefined){d=_limitValue(bB(b,f.axis,min).lo,0,c-1)}if(maxDefined){e=_limitValue(bB(b,f.axis,max).hi+1,d,c)-d}else{e=c-d}return{start:d,count:e}}var di={id:'decimation',defaults:{algorithm:'min-max',enabled:false},beforeElementsUpdate:function beforeElementsUpdate(j,k,l){if(!l.enabled){cleanDecimatedData(j);return}var m=j.width;j.data.datasets.forEach(function(a,b){var c=a._data,indexAxis=a.indexAxis;var e=j.getDatasetMeta(b);var f=c||a.data;if(resolve([indexAxis,j.options.indexAxis])==='y'){return}if(e.type!=='line'){return}var g=j.scales[e.xAxisID];if(g.type!=='linear'&&g.type!=='time'){return}if(j.options.parsing){return}var h=getStartAndCountOfVisiblePointsSimplified(e,f),start=h.start,count=h.count;if(count<=4*m){cleanDecimatedDataset(a);return}if(isNullOrUndef(c)){a._data=f;delete a.data;Object.defineProperty(a,'data',{configurable:true,enumerable:true,get:function get(){return this._decimated},set:function set(d){this._data=d}})}var i;switch(l.algorithm){case'lttb':i=lttbDecimation(f,start,count,m,l);break;case'min-max':i=minMaxDecimation(f,start,count,m);break;default:throw new Error("Unsupported decimation algorithm '".concat(l.algorithm,"'"));}a._decimated=i})},destroy:function destroy(a){cleanDecimatedData(a)}};function getLineByIndex(a,b){var c=a.getDatasetMeta(b);var d=c&&a.isDatasetVisible(b);return d?c.dataset:null}function parseFillOption(a){var b=a.options;var c=b.fill;var d=valueOrDefault(c&&c.target,c);if(d===undefined){d=!!b.backgroundColor}if(d===false||d===null){return false}if(d===true){return'origin'}return d}function decodeFill(a,b,c){var d=parseFillOption(a);if(isObject(d)){return isNaN(d.value)?false:d}var e=parseFloat(d);if(bf(e)&&Math.floor(e)===e){if(d[0]==='-'||d[0]==='+'){e=b+e}if(e===b||e<0||e>=c){return false}return e}return['origin','start','end','stack'].indexOf(d)>=0&&d}function computeLinearBoundary(a){var b=a.scale,scale=b===void 0?{}:b,fill=a.fill;var c=null;var d;if(fill==='start'){c=scale.bottom}else if(fill==='end'){c=scale.top}else if(isObject(fill)){c=scale.getPixelForValue(fill.value)}else if(scale.getBasePixel){c=scale.getBasePixel()}if(bf(c)){d=scale.isHorizontal();return{x:d?c:null,y:d?null:c}}return null}var dj=function(){function dj(a){_classCallCheck(this,dj);this.x=a.x;this.y=a.y;this.radius=a.radius}_createClass(dj,[{key:"pathSegment",value:function pathSegment(a,b,c){var x=this.x,y=this.y,radius=this.radius;b=b||{start:0,end:bs};a.arc(x,y,radius,b.end,b.start,true);return!c.bounds}},{key:"interpolate",value:function interpolate(a){var x=this.x,y=this.y,radius=this.radius;var b=a.angle;return{x:x+Math.cos(b)*radius,y:y+Math.sin(b)*radius,angle:b}}}]);return dj}();function computeCircularBoundary(a){var b=a.scale,fill=a.fill;var c=b.options;var d=b.getLabels().length;var e=[];var f=c.reverse?b.max:b.min;var g=c.reverse?b.min:b.max;var i,center,value;if(fill==='start'){value=f}else if(fill==='end'){value=g}else if(isObject(fill)){value=fill.value}else{value=b.getBaseValue()}if(c.grid.circular){center=b.getPointPositionForValue(0,f);return new dj({x:center.x,y:center.y,radius:b.getDistanceFromCenterForValue(value)})}for(i=0;i<d;++i){e.push(b.getPointPositionForValue(i,value))}return e}function computeBoundary(a){var b=a.scale||{};if(b.getPointPositionForValue){return computeCircularBoundary(a)}return computeLinearBoundary(a)}function pointsFromSegments(d,e){var f=d||{},_ref5$x=f.x,x=_ref5$x===void 0?null:_ref5$x,_ref5$y=f.y,y=_ref5$y===void 0?null:_ref5$y;var g=e.points;var h=[];e.segments.forEach(function(a){var b=g[a.start];var c=g[a.end];if(y!==null){h.push({x:b.x,y:y});h.push({x:c.x,y:y})}else if(x!==null){h.push({x:x,y:b.y});h.push({x:x,y:c.y})}});return h}function buildStackLine(a){var b=a.chart,scale=a.scale,index=a.index,line=a.line;var c=[];var d=line.segments;var e=line.points;var f=getLinesBelow(b,index);f.push(createBoundaryLine({x:null,y:scale.bottom},line));for(var i=0;i<d.length;i++){var g=d[i];for(var j=g.start;j<=g.end;j++){addPointsBelow(c,e[j],f)}}return new de({points:c,options:{}})}var dk=function dk(a){return a.type==='line'&&!a.hidden};function getLinesBelow(a,b){var c=[];var d=a.getSortedVisibleDatasetMetas();for(var i=0;i<d.length;i++){var e=d[i];if(e.index===b){break}if(dk(e)){c.unshift(e.dataset)}}return c}function addPointsBelow(a,b,c){var d=[];for(var j=0;j<c.length;j++){var e=c[j];var f=findPoint(e,b,'x'),first=f.first,last=f.last,point=f.point;if(!point||first&&last){continue}if(first){d.unshift(point)}else{a.push(point);if(!last){break}}}a.push.apply(a,d)}function findPoint(a,b,c){var d=a.interpolate(b,c);if(!d){return{}}var e=d[c];var f=a.segments;var g=a.points;var h=false;var j=false;for(var i=0;i<f.length;i++){var k=f[i];var l=g[k.start][c];var m=g[k.end][c];if(e>=l&&e<=m){h=e===l;j=e===m;break}}return{first:h,last:j,point:d}}function getTarget(a){var b=a.chart,fill=a.fill,line=a.line;if(bf(fill)){return getLineByIndex(b,fill)}if(fill==='stack'){return buildStackLine(a)}var c=computeBoundary(a);if(c instanceof dj){return c}return createBoundaryLine(c,line)}function createBoundaryLine(a,b){var c=[];var d=false;if(isArray(a)){d=true;c=a}else{c=pointsFromSegments(a,b)}return c.length?new de({points:c,options:{tension:0},_loop:d,_fullLoop:d}):null}function resolveTarget(a,b,c){var d=a[b];var e=d.fill;var f=[b];var g;if(!c){return e}while(e!==false&&f.indexOf(e)===-1){if(!bf(e)){return e}g=a[e];if(!g){return false}if(g.visible){return e}f.push(e);e=g.fill}return false}function _clip(a,b,c){a.beginPath();b.path(a);a.lineTo(b.last().x,c);a.lineTo(b.first().x,c);a.closePath();a.clip()}function getBounds(a,b,c,d){if(d){return}var e=b[a];var f=c[a];if(a==='angle'){e=_normalizeAngle(e);f=_normalizeAngle(f)}return{property:a,start:e,end:f}}function _getEdge(a,b,c,d){if(a&&b){return d(a[c],b[c])}return a?a[c]:b?b[c]:0}function _segments(a,b,c){var d=a.segments;var e=a.points;var f=b.points;var g=[];var h=_createForOfIteratorHelper(d),_step18;try{for(h.s();!(_step18=h.n()).done;){var i=_step18.value;var j=getBounds(c,e[i.start],e[i.end],i.loop);if(!b.segments){g.push({source:i,target:j,start:e[i.start],end:e[i.end]});continue}var k=_boundSegments(b,j);var l=_createForOfIteratorHelper(k),_step19;try{for(l.s();!(_step19=l.n()).done;){var m=_step19.value;var n=getBounds(c,f[m.start],f[m.end],m.loop);var o=_boundSegment(i,e,n);var p=_createForOfIteratorHelper(o),_step20;try{for(p.s();!(_step20=p.n()).done;){var q=_step20.value;g.push({source:q,target:m,start:_defineProperty({},c,_getEdge(j,n,'start',Math.max)),end:_defineProperty({},c,_getEdge(j,n,'end',Math.min))})}}catch(err){p.e(err)}finally{p.f()}}}catch(err){l.e(err)}finally{l.f()}}}catch(err){h.e(err)}finally{h.f()}return g}function clipBounds(a,b,c){var d=b.chart.chartArea,top=d.top,bottom=d.bottom;var e=c||{},property=e.property,start=e.start,end=e.end;if(property==='x'){a.beginPath();a.rect(start,top,end-start,bottom-top);a.clip()}}function interpolatedLineTo(a,b,c,d){var e=b.interpolate(c,d);if(e){a.lineTo(e.x,e.y)}}function _fill(a,b){var c=b.line,target=b.target,property=b.property,color=b.color,scale=b.scale;var d=_segments(c,target,property);var e=_createForOfIteratorHelper(d),_step21;try{for(e.s();!(_step21=e.n()).done;){var f=_step21.value,src=f.source,tgt=f.target,start=f.start,end=f.end;var g=src.style;g=g===void 0?{}:g;var h=g.backgroundColor,backgroundColor=h===void 0?color:h;a.save();a.fillStyle=backgroundColor;clipBounds(a,scale,getBounds(property,start,end));a.beginPath();var i=!!c.pathSegment(a,src);if(i){a.closePath()}else{interpolatedLineTo(a,target,end,property)}var j=!!target.pathSegment(a,tgt,{move:i,reverse:true});var k=i&&j;if(!k){interpolatedLineTo(a,target,start,property)}a.closePath();a.fill(k?'evenodd':'nonzero');a.restore()}}catch(err){e.e(err)}finally{e.f()}}function doFill(a,b){var c=b.line,target=b.target,above=b.above,below=b.below,area=b.area,scale=b.scale;var d=c._loop?'angle':b.axis;a.save();if(d==='x'&&below!==above){_clip(a,target,area.top);_fill(a,{line:c,target:target,color:above,scale:scale,property:d});a.restore();a.save();_clip(a,target,area.bottom)}_fill(a,{line:c,target:target,color:below,scale:scale,property:d});a.restore()}function drawfill(a,b,c){var d=getTarget(b);var e=b.line,scale=b.scale,axis=b.axis;var f=e.options;var g=f.fill;var h=f.backgroundColor;var i=g||{},_ref7$above=i.above,above=_ref7$above===void 0?h:_ref7$above,_ref7$below=i.below,below=_ref7$below===void 0?h:_ref7$below;if(d&&e.points.length){clipArea(a,c);doFill(a,{line:e,target:d,above:above,below:below,area:c,scale:scale,axis:axis});unclipArea(a)}}var dl={id:'filler',afterDatasetsUpdate:function afterDatasetsUpdate(a,b,c){var d=(a.data.datasets||[]).length;var e=[];var f,i,line,source;for(i=0;i<d;++i){f=a.getDatasetMeta(i);line=f.dataset;source=null;if(line&&line.options&&line instanceof de){source={visible:a.isDatasetVisible(i),index:i,fill:decodeFill(line,i,d),chart:a,axis:f.controller.options.indexAxis,scale:f.vScale,line:line}}f.$filler=source;e.push(source)}for(i=0;i<d;++i){source=e[i];if(!source||source.fill===false){continue}source.fill=resolveTarget(e,i,c.propagate)}},beforeDraw:function beforeDraw(a,b,c){var d=c.drawTime==='beforeDraw';var e=a.getSortedVisibleDatasetMetas();var f=a.chartArea;for(var i=e.length-1;i>=0;--i){var g=e[i].$filler;if(!g){continue}g.line.updateControlPoints(f);if(d){drawfill(a.ctx,g,f)}}},beforeDatasetsDraw:function beforeDatasetsDraw(a,b,c){if(c.drawTime!=='beforeDatasetsDraw'){return}var d=a.getSortedVisibleDatasetMetas();for(var i=d.length-1;i>=0;--i){var e=d[i].$filler;if(e){drawfill(a.ctx,e,a.chartArea)}}},beforeDatasetDraw:function beforeDatasetDraw(a,b,c){var d=b.meta.$filler;if(!d||d.fill===false||c.drawTime!=='beforeDatasetDraw'){return}drawfill(a.ctx,d,a.chartArea)},defaults:{propagate:true,drawTime:'beforeDatasetDraw'}};var dm=function dm(a,b){var c=a.boxHeight,boxHeight=c===void 0?b:c,_labelOpts$boxWidth=a.boxWidth,boxWidth=_labelOpts$boxWidth===void 0?b:_labelOpts$boxWidth;if(a.usePointStyle){boxHeight=Math.min(boxHeight,b);boxWidth=Math.min(boxWidth,b)}return{boxWidth:boxWidth,boxHeight:boxHeight,itemHeight:Math.max(b,boxHeight)}};var dn=function dn(a,b){return a!==null&&b!==null&&a.datasetIndex===b.datasetIndex&&a.index===b.index};var dp=function(C){_inherits(dp,C);var D=_createSuper(dp);function dp(a){var b;_classCallCheck(this,dp);b=D.call(this);b._added=false;b.legendHitBoxes=[];b._hoveredItem=null;b.doughnutMode=false;b.chart=a.chart;b.options=a.options;b.ctx=a.ctx;b.legendItems=undefined;b.columnSizes=undefined;b.lineWidths=undefined;b.maxHeight=undefined;b.maxWidth=undefined;b.top=undefined;b.bottom=undefined;b.left=undefined;b.right=undefined;b.height=undefined;b.width=undefined;b._margins=undefined;b.position=undefined;b.weight=undefined;b.fullSize=undefined;return b}_createClass(dp,[{key:"update",value:function update(a,b,c){var d=this;d.maxWidth=a;d.maxHeight=b;d._margins=c;d.setDimensions();d.buildLabels();d.fit()}},{key:"setDimensions",value:function setDimensions(){var a=this;if(a.isHorizontal()){a.width=a.maxWidth;a.left=0;a.right=a.width}else{a.height=a.maxHeight;a.top=0;a.bottom=a.height}}},{key:"buildLabels",value:function buildLabels(){var c=this;var d=c.options.labels||{};var e=callback(d.generateLabels,[c.chart],c)||[];if(d.filter){e=e.filter(function(a){return d.filter(a,c.chart.data)})}if(d.sort){e=e.sort(function(a,b){return d.sort(a,b,c.chart.data)})}if(c.options.reverse){e.reverse()}c.legendItems=e}},{key:"fit",value:function fit(){var a=this;var b=a.options,ctx=a.ctx;if(!b.display){a.width=a.height=0;return}var c=b.labels;var d=toFont(c.font);var e=d.size;var f=a._computeTitleHeight();var g=dm(c,e),boxWidth=g.boxWidth,itemHeight=g.itemHeight;var h,height;ctx.font=d.string;if(a.isHorizontal()){h=a.maxWidth;height=a._fitRows(f,e,boxWidth,itemHeight)+10}else{height=a.maxHeight;h=a._fitCols(f,e,boxWidth,itemHeight)+10}a.width=Math.min(h,b.maxWidth||a.maxWidth);a.height=Math.min(height,b.maxHeight||a.maxHeight)}},{key:"_fitRows",value:function _fitRows(c,d,e,f){var g=this;var h=g.ctx,maxWidth=g.maxWidth,padding=g.options.labels.padding;var j=g.legendHitBoxes=[];var k=g.lineWidths=[0];var l=f+padding;var m=c;h.textAlign='left';h.textBaseline='middle';var n=-1;var o=-l;g.legendItems.forEach(function(a,i){var b=e+d/2+h.measureText(a.text).width;if(i===0||k[k.length-1]+b+2*padding>maxWidth){m+=l;k[k.length-(i>0?0:1)]=0;o+=l;n++}j[i]={left:0,top:o,row:n,width:b,height:f};k[k.length-1]+=b+padding});return m}},{key:"_fitCols",value:function _fitCols(c,d,e,f){var g=this;var h=g.ctx,maxHeight=g.maxHeight,padding=g.options.labels.padding;var j=g.legendHitBoxes=[];var k=g.columnSizes=[];var l=maxHeight-c;var m=padding;var n=0;var o=0;var p=0;var q=0;var r=0;g.legendItems.forEach(function(a,i){var b=e+d/2+h.measureText(a.text).width;if(i>0&&o+d+2*padding>l){m+=n+padding;k.push({width:n,height:o});p+=n+padding;r++;q=0;n=o=0}n=Math.max(n,b);o+=d+padding;j[i]={left:p,top:q,col:r,width:b,height:f};q+=f+padding});m+=n;k.push({width:n,height:o});return m}},{key:"adjustHitBoxes",value:function adjustHitBoxes(){var a=this;if(!a.options.display){return}var b=a._computeTitleHeight();var c=a.legendHitBoxes,_me$options6=a.options,align=_me$options6.align,padding=_me$options6.labels.padding;if(this.isHorizontal()){var d=0;var e=N(align,a.left+padding,a.right-a.lineWidths[d]);var f=_createForOfIteratorHelper(c),_step22;try{for(f.s();!(_step22=f.n()).done;){var g=_step22.value;if(d!==g.row){d=g.row;e=N(align,a.left+padding,a.right-a.lineWidths[d])}g.top+=a.top+b+padding;g.left=e;e+=g.width+padding}}catch(err){f.e(err)}finally{f.f()}}else{var h=0;var i=N(align,a.top+b+padding,a.bottom-a.columnSizes[h].height);var j=_createForOfIteratorHelper(c),_step23;try{for(j.s();!(_step23=j.n()).done;){var k=_step23.value;if(k.col!==h){h=k.col;i=N(align,a.top+b+padding,a.bottom-a.columnSizes[h].height)}k.top=i;k.left+=a.left+padding;i+=k.height+padding}}catch(err){j.e(err)}finally{j.f()}}}},{key:"isHorizontal",value:function isHorizontal(){return this.options.position==='top'||this.options.position==='bottom'}},{key:"draw",value:function draw(){var a=this;if(a.options.display){var b=a.ctx;clipArea(b,a);a._draw();unclipArea(b)}}},{key:"_draw",value:function _draw(){var j=this;var k=j.options,columnSizes=j.columnSizes,lineWidths=j.lineWidths,ctx=j.ctx;var l=k.align,labelOpts=k.labels;var m=bq.color;var n=getRtlAdapter(k.rtl,j.left,j.width);var o=toFont(labelOpts.font);var p=labelOpts.color,padding=labelOpts.padding;var q=o.size;var r=q/2;var s;j.drawTitle();ctx.textAlign=n.textAlign('left');ctx.textBaseline='middle';ctx.lineWidth=0.5;ctx.font=o.string;var t=dm(labelOpts,q),boxWidth=t.boxWidth,boxHeight=t.boxHeight,itemHeight=t.itemHeight;var u=function u(x,y,a){if(isNaN(boxWidth)||boxWidth<=0||isNaN(boxHeight)||boxHeight<0){return}ctx.save();var b=valueOrDefault(a.lineWidth,1);ctx.fillStyle=valueOrDefault(a.fillStyle,m);ctx.lineCap=valueOrDefault(a.lineCap,'butt');ctx.lineDashOffset=valueOrDefault(a.lineDashOffset,0);ctx.lineJoin=valueOrDefault(a.lineJoin,'miter');ctx.lineWidth=b;ctx.strokeStyle=valueOrDefault(a.strokeStyle,m);ctx.setLineDash(valueOrDefault(a.lineDash,[]));if(labelOpts.usePointStyle){var c={radius:boxWidth*Math.SQRT2/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:b};var d=n.xPlus(x,boxWidth/2);var e=y+r;drawPoint(ctx,c,d,e)}else{var f=y+Math.max((q-boxHeight)/2,0);var g=n.leftForLtr(x,boxWidth);var h=toTRBLCorners(a.borderRadius);ctx.beginPath();if(Object.values(h).some(function(v){return v!==0})){addRoundedRectPath(ctx,{x:g,y:f,w:boxWidth,h:boxHeight,radius:h})}else{ctx.rect(g,f,boxWidth,boxHeight)}ctx.fill();if(b!==0){ctx.stroke()}}ctx.restore()};var w=function w(x,y,a){renderText(ctx,a.text,x,y+itemHeight/2,o,{strikethrough:a.hidden,textAlign:a.textAlign})};var z=j.isHorizontal();var A=this._computeTitleHeight();if(z){s={x:N(l,j.left+padding,j.right-lineWidths[0]),y:j.top+padding+A,line:0}}else{s={x:j.left+padding,y:N(l,j.top+A+padding,j.bottom-columnSizes[0].height),line:0}}overrideTextDirection(j.ctx,k.textDirection);var B=itemHeight+padding;j.legendItems.forEach(function(a,i){ctx.strokeStyle=a.fontColor||p;ctx.fillStyle=a.fontColor||p;var b=ctx.measureText(a.text).width;var c=n.textAlign(a.textAlign||(a.textAlign=labelOpts.textAlign));var d=boxWidth+q/2+b;var x=s.x;var y=s.y;n.setWidth(j.width);if(z){if(i>0&&x+d+padding>j.right){y=s.y+=B;s.line++;x=s.x=N(l,j.left+padding,j.right-lineWidths[s.line])}}else if(i>0&&y+B>j.bottom){x=s.x=x+columnSizes[s.line].width+padding;s.line++;y=s.y=N(l,j.top+A+padding,j.bottom-columnSizes[s.line].height)}var e=n.x(x);u(e,y,a);x=O(c,x+boxWidth+r,j.right);w(n.x(x),y,a);if(z){s.x+=d+padding}else{s.y+=B}});restoreTextDirection(j.ctx,k.textDirection)}},{key:"drawTitle",value:function drawTitle(){var c=this;var d=c.options;var e=d.title;var f=toFont(e.font);var g=toPadding(e.padding);if(!e.display){return}var h=getRtlAdapter(d.rtl,c.left,c.width);var i=c.ctx;var j=e.position;var k=f.size/2;var l=g.top+k;var y;var m=c.left;var n=c.width;if(this.isHorizontal()){n=Math.max.apply(Math,_toConsumableArray(c.lineWidths));y=c.top+l;m=N(d.align,m,c.right-n)}else{var o=c.columnSizes.reduce(function(a,b){return Math.max(a,b.height)},0);y=l+N(d.align,c.top,c.bottom-o-d.labels.padding-c._computeTitleHeight())}var x=N(j,m,m+n);i.textAlign=h.textAlign(M(j));i.textBaseline='middle';i.strokeStyle=e.color;i.fillStyle=e.color;i.font=f.string;renderText(i,e.text,x,y,f)}},{key:"_computeTitleHeight",value:function _computeTitleHeight(){var a=this.options.title;var b=toFont(a.font);var c=toPadding(a.padding);return a.display?b.lineHeight+c.height:0}},{key:"_getLegendItemAt",value:function _getLegendItemAt(x,y){var a=this;var i,hitBox,lh;if(x>=a.left&&x<=a.right&&y>=a.top&&y<=a.bottom){lh=a.legendHitBoxes;for(i=0;i<lh.length;++i){hitBox=lh[i];if(x>=hitBox.left&&x<=hitBox.left+hitBox.width&&y>=hitBox.top&&y<=hitBox.top+hitBox.height){return a.legendItems[i]}}}return null}},{key:"handleEvent",value:function handleEvent(e){var a=this;var b=a.options;if(!isListened(e.type,b)){return}var c=a._getLegendItemAt(e.x,e.y);if(e.type==='mousemove'){var d=a._hoveredItem;var f=dn(d,c);if(d&&!f){callback(b.onLeave,[e,d,a],a)}a._hoveredItem=c;if(c&&!f){callback(b.onHover,[e,c,a],a)}}else if(c){callback(b.onClick,[e,c,a],a)}}}]);return dp}(cn);function isListened(a,b){if(a==='mousemove'&&(b.onHover||b.onLeave)){return true}if(b.onClick&&(a==='click'||a==='mouseup')){return true}return false}var dq={id:'legend',_element:dp,start:function start(a,b,c){var d=a.legend=new dp({ctx:a.ctx,options:c,chart:a});bO.configure(a,d,c);bO.addBox(a,d)},stop:function stop(a){bO.removeBox(a,a.legend);delete a.legend},beforeUpdate:function beforeUpdate(a,b,c){var d=a.legend;bO.configure(a,d,c);d.options=c},afterUpdate:function afterUpdate(a){var b=a.legend;b.buildLabels();b.adjustHitBoxes()},afterEvent:function afterEvent(a,b){if(!b.replay){a.legend.handleEvent(b.event)}},defaults:{display:true,position:'top',align:'center',fullSize:true,reverse:false,weight:1000,onClick:function onClick(e,a,b){var c=a.datasetIndex;var d=b.chart;if(d.isDatasetVisible(c)){d.hide(c);a.hidden=true}else{d.show(c);a.hidden=false}},onHover:null,onLeave:null,labels:{color:function color(a){return a.chart.options.color},boxWidth:40,padding:10,generateLabels:function generateLabels(d){var e=d.data.datasets;var f=d.legend.options.labels,usePointStyle=f.usePointStyle,pointStyle=f.pointStyle,textAlign=f.textAlign,color=f.color;return d._getSortedDatasetMetas().map(function(a){var b=a.controller.getStyle(usePointStyle?0:undefined);var c=toPadding(b.borderWidth);return{text:e[a.index].label,fillStyle:b.backgroundColor,fontColor:color,hidden:!a.visible,lineCap:b.borderCapStyle,lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:b.borderColor,pointStyle:pointStyle||b.pointStyle,rotation:b.rotation,textAlign:textAlign||b.textAlign,borderRadius:0,datasetIndex:a.index}},this)}},title:{color:function color(a){return a.chart.options.color},display:false,position:'center',text:''}},descriptors:{_scriptable:function _scriptable(a){return!a.startsWith('on')},labels:{_scriptable:function _scriptable(a){return!['generateLabels','filter','sort'].includes(a)}}}};var dr=function(h){_inherits(dr,h);var i=_createSuper(dr);function dr(a){var b;_classCallCheck(this,dr);b=i.call(this);b.chart=a.chart;b.options=a.options;b.ctx=a.ctx;b._padding=undefined;b.top=undefined;b.bottom=undefined;b.left=undefined;b.right=undefined;b.width=undefined;b.height=undefined;b.position=undefined;b.weight=undefined;b.fullSize=undefined;return b}_createClass(dr,[{key:"update",value:function update(a,b){var c=this;var d=c.options;c.left=0;c.top=0;if(!d.display){c.width=c.height=c.right=c.bottom=0;return}c.width=c.right=a;c.height=c.bottom=b;var e=isArray(d.text)?d.text.length:1;c._padding=toPadding(d.padding);var f=e*toFont(d.font).lineHeight+c._padding.height;if(c.isHorizontal()){c.height=f}else{c.width=f}}},{key:"isHorizontal",value:function isHorizontal(){var a=this.options.position;return a==='top'||a==='bottom'}},{key:"_drawArgs",value:function _drawArgs(a){var b=this.top,left=this.left,bottom=this.bottom,right=this.right,options=this.options;var c=options.align;var d=0;var e,titleX,titleY;if(this.isHorizontal()){titleX=N(c,left,right);titleY=b+a;e=right-left}else{if(options.position==='left'){titleX=left+a;titleY=N(c,bottom,b);d=br*-0.5}else{titleX=right-a;titleY=N(c,b,bottom);d=br*0.5}e=bottom-b}return{titleX:titleX,titleY:titleY,maxWidth:e,rotation:d}}},{key:"draw",value:function draw(){var a=this;var b=a.ctx;var c=a.options;if(!c.display){return}var d=toFont(c.font);var e=d.lineHeight;var f=e/2+a._padding.top;var g=a._drawArgs(f),titleX=g.titleX,titleY=g.titleY,maxWidth=g.maxWidth,rotation=g.rotation;renderText(b,c.text,0,0,d,{color:c.color,maxWidth:maxWidth,rotation:rotation,textAlign:M(c.align),textBaseline:'middle',translation:[titleX,titleY]})}}]);return dr}(cn);function createTitle(a,b){var c=new dr({ctx:a.ctx,options:b,chart:a});bO.configure(a,c,b);bO.addBox(a,c);a.titleBlock=c}var ds={id:'title',_element:dr,start:function start(a,b,c){createTitle(a,c)},stop:function stop(a){var b=a.titleBlock;bO.removeBox(a,b);delete a.titleBlock},beforeUpdate:function beforeUpdate(a,b,c){var d=a.titleBlock;bO.configure(a,d,c);d.options=c},defaults:{align:'center',display:false,font:{weight:'bold'},fullSize:true,padding:10,position:'top',text:'',weight:2000},defaultRoutes:{color:'color'},descriptors:{_scriptable:true,_indexable:false}};var dt={average:function average(a){if(!a.length){return false}var i,len;var x=0;var y=0;var b=0;for(i=0,len=a.length;i<len;++i){var c=a[i].element;if(c&&c.hasValue()){var d=c.tooltipPosition();x+=d.x;y+=d.y;++b}}return{x:x/b,y:y/b}},nearest:function nearest(a,b){if(!a.length){return false}var x=b.x;var y=b.y;var c=Number.POSITIVE_INFINITY;var i,len,nearestElement;for(i=0,len=a.length;i<len;++i){var e=a[i].element;if(e&&e.hasValue()){var f=e.getCenterPoint();var d=distanceBetweenPoints(b,f);if(d<c){c=d;nearestElement=e}}}if(nearestElement){var g=nearestElement.tooltipPosition();x=g.x;y=g.y}return{x:x,y:y}}};function pushOrConcat(a,b){if(b){if(isArray(b)){Array.prototype.push.apply(a,b)}else{a.push(b)}}return a}function splitNewlines(a){if((typeof a==='string'||a instanceof String)&&a.indexOf('\n')>-1){return a.split('\n')}return a}function createTooltipItem(a,b){var c=b.element,datasetIndex=b.datasetIndex,index=b.index;var d=a.getDatasetMeta(datasetIndex).controller;var e=d.getLabelAndValue(index),label=e.label,value=e.value;return{chart:a,label:label,parsed:d.getParsed(index),raw:a.data.datasets[datasetIndex].data[index],formattedValue:value,dataset:d.getDataset(),dataIndex:index,datasetIndex:datasetIndex,element:c}}function getTooltipSize(c,d){var e=c._chart.ctx;var f=c.body,footer=c.footer,title=c.title;var g=d.boxWidth,boxHeight=d.boxHeight;var h=toFont(d.bodyFont);var i=toFont(d.titleFont);var j=toFont(d.footerFont);var k=title.length;var l=footer.length;var m=f.length;var n=toPadding(d.padding);var o=n.height;var p=0;var q=f.reduce(function(a,b){return a+b.before.length+b.lines.length+b.after.length},0);q+=c.beforeBody.length+c.afterBody.length;if(k){o+=k*i.lineHeight+(k-1)*d.titleSpacing+d.titleMarginBottom}if(q){var r=d.displayColors?Math.max(boxHeight,h.lineHeight):h.lineHeight;o+=m*r+(q-m)*h.lineHeight+(q-1)*d.bodySpacing}if(l){o+=d.footerMarginTop+l*j.lineHeight+(l-1)*d.footerSpacing}var s=0;var t=function t(a){p=Math.max(p,e.measureText(a).width+s)};e.save();e.font=i.string;each(c.title,t);e.font=h.string;each(c.beforeBody.concat(c.afterBody),t);s=d.displayColors?g+2:0;each(f,function(a){each(a.before,t);each(a.lines,t);each(a.after,t)});s=0;e.font=j.string;each(c.footer,t);e.restore();p+=n.width;return{width:p,height:o}}function determineYAlign(a,b){var y=b.y,height=b.height;if(y<height/2){return'top'}else if(y>a.height-height/2){return'bottom'}return'center'}function doesNotFitWithAlign(a,b,c,d){var x=d.x,width=d.width;var e=c.caretSize+c.caretPadding;if(a==='left'&&x+width+e>b.width){return true}if(a==='right'&&x-width-e<0){return true}}function determineXAlign(a,b,c,d){var x=c.x,width=c.width;var e=a.width,_chart$chartArea=a.chartArea,left=_chart$chartArea.left,right=_chart$chartArea.right;var f='center';if(d==='center'){f=x<=(left+right)/2?'left':'right'}else if(x<=width/2){f='left'}else if(x>=e-width/2){f='right'}if(doesNotFitWithAlign(f,a,b,c)){f='center'}return f}function determineAlignment(a,b,c){var d=b.yAlign||determineYAlign(a,c);return{xAlign:b.xAlign||determineXAlign(a,b,c,d),yAlign:d}}function alignX(a,b){var x=a.x,width=a.width;if(b==='right'){x-=width}else if(b==='center'){x-=width/2}return x}function alignY(a,b,c){var y=a.y,height=a.height;if(b==='top'){y+=c}else if(b==='bottom'){y-=height+c}else{y-=height/2}return y}function getBackgroundPoint(a,b,c,d){var e=a.caretSize,caretPadding=a.caretPadding,cornerRadius=a.cornerRadius;var f=c.xAlign,yAlign=c.yAlign;var g=e+caretPadding;var h=cornerRadius+caretPadding;var x=alignX(b,f);var y=alignY(b,yAlign,g);if(yAlign==='center'){if(f==='left'){x+=g}else if(f==='right'){x-=g}}else if(f==='left'){x-=h}else if(f==='right'){x+=h}return{x:_limitValue(x,0,d.width-b.width),y:_limitValue(y,0,d.height-b.height)}}function getAlignedX(a,b,c){var d=toPadding(c.padding);return b==='center'?a.x+a.width/2:b==='right'?a.x+a.width-d.right:a.x+d.left}function getBeforeAfterBodyLines(a){return pushOrConcat([],splitNewlines(a))}function createTooltipContext(a,b,c){return Object.assign(Object.create(a),{tooltip:b,tooltipItems:c,type:'tooltip'})}function overrideCallbacks(a,b){var c=b&&b.dataset&&b.dataset.tooltip&&b.dataset.tooltip.callbacks;return c?a.override(c):a}var du=function(u){_inherits(du,u);var w=_createSuper(du);function du(a){var b;_classCallCheck(this,du);b=w.call(this);b.opacity=0;b._active=[];b._chart=a._chart;b._eventPosition=undefined;b._size=undefined;b._cachedAnimations=undefined;b._tooltipItems=[];b.$animations=undefined;b.$context=undefined;b.options=a.options;b.dataPoints=undefined;b.title=undefined;b.beforeBody=undefined;b.body=undefined;b.afterBody=undefined;b.footer=undefined;b.xAlign=undefined;b.yAlign=undefined;b.x=undefined;b.y=undefined;b.height=undefined;b.width=undefined;b.caretX=undefined;b.caretY=undefined;b.labelColors=undefined;b.labelPointStyles=undefined;b.labelTextColors=undefined;return b}_createClass(du,[{key:"initialize",value:function initialize(a){this.options=a;this._cachedAnimations=undefined;this.$context=undefined}},{key:"_resolveAnimations",value:function _resolveAnimations(){var a=this;var b=a._cachedAnimations;if(b){return b}var c=a._chart;var d=a.options.setContext(a.getContext());var e=d.enabled&&c.options.animation&&d.animations;var f=new cj(a._chart,e);if(e._cacheable){a._cachedAnimations=Object.freeze(f)}return f}},{key:"getContext",value:function getContext(){var a=this;return a.$context||(a.$context=createTooltipContext(a._chart.getContext(),a,a._tooltipItems))}},{key:"getTitle",value:function getTitle(a,b){var c=this;var d=b.callbacks;var e=d.beforeTitle.apply(c,[a]);var f=d.title.apply(c,[a]);var g=d.afterTitle.apply(c,[a]);var h=[];h=pushOrConcat(h,splitNewlines(e));h=pushOrConcat(h,splitNewlines(f));h=pushOrConcat(h,splitNewlines(g));return h}},{key:"getBeforeBody",value:function getBeforeBody(a,b){return getBeforeAfterBodyLines(b.callbacks.beforeBody.apply(this,[a]))}},{key:"getBody",value:function getBody(d,e){var f=this;var g=e.callbacks;var h=[];each(d,function(a){var b={before:[],lines:[],after:[]};var c=overrideCallbacks(g,a);pushOrConcat(b.before,splitNewlines(c.beforeLabel.call(f,a)));pushOrConcat(b.lines,c.label.call(f,a));pushOrConcat(b.after,splitNewlines(c.afterLabel.call(f,a)));h.push(b)});return h}},{key:"getAfterBody",value:function getAfterBody(a,b){return getBeforeAfterBodyLines(b.callbacks.afterBody.apply(this,[a]))}},{key:"getFooter",value:function getFooter(a,b){var c=this;var d=b.callbacks;var e=d.beforeFooter.apply(c,[a]);var f=d.footer.apply(c,[a]);var g=d.afterFooter.apply(c,[a]);var h=[];h=pushOrConcat(h,splitNewlines(e));h=pushOrConcat(h,splitNewlines(f));h=pushOrConcat(h,splitNewlines(g));return h}},{key:"_createItems",value:function _createItems(d){var e=this;var f=e._active;var g=e._chart.data;var h=[];var j=[];var k=[];var l=[];var i,len;for(i=0,len=f.length;i<len;++i){l.push(createTooltipItem(e._chart,f[i]))}if(d.filter){l=l.filter(function(a,b,c){return d.filter(a,b,c,g)})}if(d.itemSort){l=l.sort(function(a,b){return d.itemSort(a,b,g)})}each(l,function(a){var b=overrideCallbacks(d.callbacks,a);h.push(b.labelColor.call(e,a));j.push(b.labelPointStyle.call(e,a));k.push(b.labelTextColor.call(e,a))});e.labelColors=h;e.labelPointStyles=j;e.labelTextColors=k;e.dataPoints=l;return l}},{key:"update",value:function update(a,b){var c=this;var d=c.options.setContext(c.getContext());var e=c._active;var f;var g=[];if(!e.length){if(c.opacity!==0){f={opacity:0}}}else{var h=dt[d.position].call(c,e,c._eventPosition);g=c._createItems(d);c.title=c.getTitle(g,d);c.beforeBody=c.getBeforeBody(g,d);c.body=c.getBody(g,d);c.afterBody=c.getAfterBody(g,d);c.footer=c.getFooter(g,d);var i=c._size=getTooltipSize(c,d);var j=Object.assign({},h,i);var k=determineAlignment(c._chart,d,j);var l=getBackgroundPoint(d,j,k,c._chart);c.xAlign=k.xAlign;c.yAlign=k.yAlign;f={opacity:1,x:l.x,y:l.y,width:i.width,height:i.height,caretX:h.x,caretY:h.y}}c._tooltipItems=g;c.$context=undefined;if(f){c._resolveAnimations().update(c,f)}if(a&&d.external){d.external.call(c,{chart:c._chart,tooltip:c,replay:b})}}},{key:"drawCaret",value:function drawCaret(a,b,c,d){var e=this.getCaretPosition(a,c,d);b.lineTo(e.x1,e.y1);b.lineTo(e.x2,e.y2);b.lineTo(e.x3,e.y3)}},{key:"getCaretPosition",value:function getCaretPosition(a,b,c){var d=this.xAlign,yAlign=this.yAlign;var e=c.cornerRadius,caretSize=c.caretSize;var f=a.x,ptY=a.y;var g=b.width,height=b.height;var h,x2,x3,y1,y2,y3;if(yAlign==='center'){y2=ptY+height/2;if(d==='left'){h=f;x2=h-caretSize;y1=y2+caretSize;y3=y2-caretSize}else{h=f+g;x2=h+caretSize;y1=y2-caretSize;y3=y2+caretSize}x3=h}else{if(d==='left'){x2=f+e+caretSize}else if(d==='right'){x2=f+g-e-caretSize}else{x2=this.caretX}if(yAlign==='top'){y1=ptY;y2=y1-caretSize;h=x2-caretSize;x3=x2+caretSize}else{y1=ptY+height;y2=y1+caretSize;h=x2+caretSize;x3=x2-caretSize}y3=y1}return{x1:h,x2:x2,x3:x3,y1:y1,y2:y2,y3:y3}}},{key:"drawTitle",value:function drawTitle(a,b,c){var d=this;var e=d.title;var f=e.length;var g,titleSpacing,i;if(f){var h=getRtlAdapter(c.rtl,d.x,d.width);a.x=getAlignedX(d,c.titleAlign,c);b.textAlign=h.textAlign(c.titleAlign);b.textBaseline='middle';g=toFont(c.titleFont);titleSpacing=c.titleSpacing;b.fillStyle=c.titleColor;b.font=g.string;for(i=0;i<f;++i){b.fillText(e[i],h.x(a.x),a.y+g.lineHeight/2);a.y+=g.lineHeight+titleSpacing;if(i+1===f){a.y+=c.titleMarginBottom-titleSpacing}}}}},{key:"_drawColorBox",value:function _drawColorBox(a,b,i,c,d){var e=this;var f=e.labelColors[i];var g=e.labelPointStyles[i];var h=d.boxHeight,boxWidth=d.boxWidth;var j=toFont(d.bodyFont);var k=getAlignedX(e,'left',d);var l=c.x(k);var m=h<j.lineHeight?(j.lineHeight-h)/2:0;var n=b.y+m;if(d.usePointStyle){var o={radius:Math.min(boxWidth,h)/2,pointStyle:g.pointStyle,rotation:g.rotation,borderWidth:1};var p=c.leftForLtr(l,boxWidth)+boxWidth/2;var q=n+h/2;a.strokeStyle=d.multiKeyBackground;a.fillStyle=d.multiKeyBackground;drawPoint(a,o,p,q);a.strokeStyle=f.borderColor;a.fillStyle=f.backgroundColor;drawPoint(a,o,p,q)}else{a.lineWidth=f.borderWidth||1;a.strokeStyle=f.borderColor;a.setLineDash(f.borderDash||[]);a.lineDashOffset=f.borderDashOffset||0;var r=c.leftForLtr(l,boxWidth);var s=c.leftForLtr(c.xPlus(l,1),boxWidth-2);var t=toTRBLCorners(f.borderRadius);if(Object.values(t).some(function(v){return v!==0})){a.beginPath();a.fillStyle=d.multiKeyBackground;addRoundedRectPath(a,{x:r,y:n,w:boxWidth,h:h,radius:t});a.fill();a.stroke();a.fillStyle=f.backgroundColor;a.beginPath();addRoundedRectPath(a,{x:s,y:n+1,w:boxWidth-2,h:h-2,radius:t});a.fill()}else{a.fillStyle=d.multiKeyBackground;a.fillRect(r,n,boxWidth,h);a.strokeRect(r,n,boxWidth,h);a.fillStyle=f.backgroundColor;a.fillRect(s,n+1,boxWidth-2,h-2)}}a.fillStyle=e.labelTextColors[i]}},{key:"drawBody",value:function drawBody(b,c,d){var e=this;var f=e.body;var g=d.bodySpacing,bodyAlign=d.bodyAlign,displayColors=d.displayColors,boxHeight=d.boxHeight,boxWidth=d.boxWidth;var h=toFont(d.bodyFont);var k=h.lineHeight;var l=0;var m=getRtlAdapter(d.rtl,e.x,e.width);var n=function n(a){c.fillText(a,m.x(b.x+l),b.y+k/2);b.y+=k+g};var o=m.textAlign(bodyAlign);var p,textColor,lines,i,j,ilen,jlen;c.textAlign=bodyAlign;c.textBaseline='middle';c.font=h.string;b.x=getAlignedX(e,o,d);c.fillStyle=d.bodyColor;each(e.beforeBody,n);l=displayColors&&o!=='right'?bodyAlign==='center'?boxWidth/2+1:boxWidth+2:0;for(i=0,ilen=f.length;i<ilen;++i){p=f[i];textColor=e.labelTextColors[i];c.fillStyle=textColor;each(p.before,n);lines=p.lines;if(displayColors&&lines.length){e._drawColorBox(c,b,i,m,d);k=Math.max(h.lineHeight,boxHeight)}for(j=0,jlen=lines.length;j<jlen;++j){n(lines[j]);k=h.lineHeight}each(p.after,n)}l=0;k=h.lineHeight;each(e.afterBody,n);b.y-=g}},{key:"drawFooter",value:function drawFooter(a,b,c){var d=this;var e=d.footer;var f=e.length;var g,i;if(f){var h=getRtlAdapter(c.rtl,d.x,d.width);a.x=getAlignedX(d,c.footerAlign,c);a.y+=c.footerMarginTop;b.textAlign=h.textAlign(c.footerAlign);b.textBaseline='middle';g=toFont(c.footerFont);b.fillStyle=c.footerColor;b.font=g.string;for(i=0;i<f;++i){b.fillText(e[i],h.x(a.x),a.y+g.lineHeight/2);a.y+=g.lineHeight+c.footerSpacing}}}},{key:"drawBackground",value:function drawBackground(a,b,c,d){var e=this.xAlign,yAlign=this.yAlign;var x=a.x,y=a.y;var f=c.width,height=c.height;var g=d.cornerRadius;b.fillStyle=d.backgroundColor;b.strokeStyle=d.borderColor;b.lineWidth=d.borderWidth;b.beginPath();b.moveTo(x+g,y);if(yAlign==='top'){this.drawCaret(a,b,c,d)}b.lineTo(x+f-g,y);b.quadraticCurveTo(x+f,y,x+f,y+g);if(yAlign==='center'&&e==='right'){this.drawCaret(a,b,c,d)}b.lineTo(x+f,y+height-g);b.quadraticCurveTo(x+f,y+height,x+f-g,y+height);if(yAlign==='bottom'){this.drawCaret(a,b,c,d)}b.lineTo(x+g,y+height);b.quadraticCurveTo(x,y+height,x,y+height-g);if(yAlign==='center'&&e==='left'){this.drawCaret(a,b,c,d)}b.lineTo(x,y+g);b.quadraticCurveTo(x,y,x+g,y);b.closePath();b.fill();if(d.borderWidth>0){b.stroke()}}},{key:"_updateAnimationTarget",value:function _updateAnimationTarget(a){var b=this;var c=b._chart;var d=b.$animations;var e=d&&d.x;var f=d&&d.y;if(e||f){var g=dt[a.position].call(b,b._active,b._eventPosition);if(!g){return}var h=b._size=getTooltipSize(b,a);var i=Object.assign({},g,b._size);var j=determineAlignment(c,a,i);var k=getBackgroundPoint(a,i,j,c);if(e._to!==k.x||f._to!==k.y){b.xAlign=j.xAlign;b.yAlign=j.yAlign;b.width=h.width;b.height=h.height;b.caretX=g.x;b.caretY=g.y;b._resolveAnimations().update(b,k)}}}},{key:"draw",value:function draw(a){var b=this;var c=b.options.setContext(b.getContext());var d=b.opacity;if(!d){return}b._updateAnimationTarget(c);var e={width:b.width,height:b.height};var f={x:b.x,y:b.y};d=Math.abs(d)<1e-3?0:d;var g=toPadding(c.padding);var h=b.title.length||b.beforeBody.length||b.body.length||b.afterBody.length||b.footer.length;if(c.enabled&&h){a.save();a.globalAlpha=d;b.drawBackground(f,a,e,c);overrideTextDirection(a,c.textDirection);f.y+=g.top;b.drawTitle(f,a,c);b.drawBody(f,a,c);b.drawFooter(f,a,c);restoreTextDirection(a,c.textDirection);a.restore()}}},{key:"getActiveElements",value:function getActiveElements(){return this._active||[]}},{key:"setActiveElements",value:function setActiveElements(d,e){var f=this;var g=f._active;var h=d.map(function(a){var b=a.datasetIndex,index=a.index;var c=f._chart.getDatasetMeta(b);if(!c){throw new Error('Cannot find a dataset at index '+b);}return{datasetIndex:b,element:c.data[index],index:index}});var i=!_elementsEqual(g,h);var j=f._positionChanged(h,e);if(i||j){f._active=h;f._eventPosition=e;f.update(true)}}},{key:"handleEvent",value:function handleEvent(e,a){var b=this;var c=b.options;var d=b._active||[];var f=false;var g=[];if(e.type!=='mouseout'){g=b._chart.getElementsAtEventForMode(e,c.mode,c,a);if(c.reverse){g.reverse()}}var h=b._positionChanged(g,e);f=a||!_elementsEqual(g,d)||h;if(f){b._active=g;if(c.enabled||c.external){b._eventPosition={x:e.x,y:e.y};b.update(true,a)}}return f}},{key:"_positionChanged",value:function _positionChanged(a,e){var b=this.caretX,caretY=this.caretY,options=this.options;var c=dt[options.position].call(this,a,e);return c!==false&&(b!==c.x||caretY!==c.y)}}]);return du}(cn);du.positioners=dt;var dv={id:'tooltip',_element:du,positioners:dt,afterInit:function afterInit(a,b,c){if(c){a.tooltip=new du({_chart:a,options:c})}},beforeUpdate:function beforeUpdate(a,b,c){if(a.tooltip){a.tooltip.initialize(c)}},reset:function reset(a,b,c){if(a.tooltip){a.tooltip.initialize(c)}},afterDraw:function afterDraw(a){var b=a.tooltip;var c={tooltip:b};if(a.notifyPlugins('beforeTooltipDraw',c)===false){return}if(b){b.draw(a.ctx)}a.notifyPlugins('afterTooltipDraw',c)},afterEvent:function afterEvent(a,b){if(a.tooltip){var c=b.replay;if(a.tooltip.handleEvent(b.event,c)){b.changed=true}}},defaults:{enabled:true,external:null,position:'average',backgroundColor:'rgba(0,0,0,0.8)',titleColor:'#fff',titleFont:{weight:'bold'},titleSpacing:2,titleMarginBottom:6,titleAlign:'left',bodyColor:'#fff',bodySpacing:2,bodyFont:{},bodyAlign:'left',footerColor:'#fff',footerSpacing:2,footerMarginTop:6,footerFont:{weight:'bold'},footerAlign:'left',padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function boxHeight(a,b){return b.bodyFont.size},boxWidth:function boxWidth(a,b){return b.bodyFont.size},multiKeyBackground:'#fff',displayColors:true,borderColor:'rgba(0,0,0,0)',borderWidth:0,animation:{duration:400,easing:'easeOutQuart'},animations:{numbers:{type:'number',properties:['x','y','width','height','caretX','caretY']},opacity:{easing:'linear',duration:200}},callbacks:{beforeTitle:noop,title:function title(a){if(a.length>0){var b=a[0];var c=b.chart.data.labels;var d=c?c.length:0;if(this&&this.options&&this.options.mode==='dataset'){return b.dataset.label||''}else if(b.label){return b.label}else if(d>0&&b.dataIndex<d){return c[b.dataIndex]}}return''},afterTitle:noop,beforeBody:noop,beforeLabel:noop,label:function b(a){if(this&&this.options&&this.options.mode==='dataset'){return a.label+': '+a.formattedValue||a.formattedValue}var b=a.dataset.label||'';if(b){b+=': '}var c=a.formattedValue;if(!isNullOrUndef(c)){b+=c}return b},labelColor:function labelColor(a){var b=a.chart.getDatasetMeta(a.datasetIndex);var c=b.controller.getStyle(a.dataIndex);return{borderColor:c.borderColor,backgroundColor:c.backgroundColor,borderWidth:c.borderWidth,borderDash:c.borderDash,borderDashOffset:c.borderDashOffset,borderRadius:0}},labelTextColor:function labelTextColor(){return this.options.bodyColor},labelPointStyle:function labelPointStyle(a){var b=a.chart.getDatasetMeta(a.datasetIndex);var c=b.controller.getStyle(a.dataIndex);return{pointStyle:c.pointStyle,rotation:c.rotation}},afterLabel:noop,afterBody:noop,beforeFooter:noop,footer:noop,afterFooter:noop}},defaultRoutes:{bodyFont:'font',footerFont:'font',titleFont:'font'},descriptors:{_scriptable:function _scriptable(a){return a!=='filter'&&a!=='itemSort'&&a!=='external'},_indexable:false,callbacks:{_scriptable:false,_indexable:false},animation:{_fallback:false},animations:{_fallback:'animation'}},additionalOptionScopes:['interaction']};var dw=Object.freeze({__proto__:null,Decimation:di,Filler:dl,Legend:dq,Title:ds,Tooltip:dv});var dx=function dx(a,b,c){return typeof b==='string'?a.push(b)-1:isNaN(b)?null:c};function findOrAddLabel(a,b,c){var d=a.indexOf(b);if(d===-1){return dx(a,b,c)}var e=a.lastIndexOf(b);return d!==e?c:d}var dy=function dy(a,b){return a===null?null:_limitValue(Math.round(a),0,b)};var dz=function(h){_inherits(dz,h);var i=_createSuper(dz);function dz(a){var b;_classCallCheck(this,dz);b=i.call(this,a);b._startValue=undefined;b._valueRange=0;return b}_createClass(dz,[{key:"parse",value:function parse(a,b){if(isNullOrUndef(a)){return null}var c=this.getLabels();b=isFinite(b)&&c[b]===a?b:findOrAddLabel(c,a,valueOrDefault(b,a));return dy(b,c.length-1)}},{key:"determineDataLimits",value:function determineDataLimits(){var a=this;var b=a.getUserBounds(),minDefined=b.minDefined,maxDefined=b.maxDefined;var c=a.getMinMax(true),min=c.min,max=c.max;if(a.options.bounds==='ticks'){if(!minDefined){min=0}if(!maxDefined){max=a.getLabels().length-1}}a.min=min;a.max=max}},{key:"buildTicks",value:function buildTicks(){var a=this;var b=a.min;var c=a.max;var d=a.options.offset;var e=[];var f=a.getLabels();f=b===0&&c===f.length-1?f:f.slice(b,c+1);a._valueRange=Math.max(f.length-(d?0:1),1);a._startValue=a.min-(d?0.5:0);for(var g=b;g<=c;g++){e.push({value:g})}return e}},{key:"getLabelForValue",value:function getLabelForValue(a){var b=this;var c=b.getLabels();if(a>=0&&a<c.length){return c[a]}return a}},{key:"configure",value:function configure(){var a=this;_get2(_getPrototypeOf(dz.prototype),"configure",this).call(this);if(!a.isHorizontal()){a._reversePixels=!a._reversePixels}}},{key:"getPixelForValue",value:function getPixelForValue(a){var b=this;if(typeof a!=='number'){a=b.parse(a)}return a===null?NaN:b.getPixelForDecimal((a-b._startValue)/b._valueRange)}},{key:"getPixelForTick",value:function getPixelForTick(a){var b=this;var c=b.ticks;if(a<0||a>c.length-1){return null}return b.getPixelForValue(c[a].value)}},{key:"getValueForPixel",value:function getValueForPixel(a){var b=this;return Math.round(b._startValue+b.getDecimalForPixel(a)*b._valueRange)}},{key:"getBasePixel",value:function getBasePixel(){return this.bottom}}]);return dz}(ct);dz.id='category';dz.defaults={ticks:{callback:dz.prototype.getLabelForValue}};function generateTicks$1(a,b){var c=[];var d=1e-14;var e=a.step,min=a.min,max=a.max,precision=a.precision,count=a.count,maxTicks=a.maxTicks,maxDigits=a.maxDigits,horizontal=a.horizontal;var f=e||1;var g=maxTicks-1;var h=b.min,rmax=b.max;var i=!isNullOrUndef(min);var k=!isNullOrUndef(max);var l=!isNullOrUndef(count);var m=(rmax-h)/maxDigits;var n=niceNum((rmax-h)/g/f)*f;var o,niceMin,niceMax,numSpaces;if(n<d&&!i&&!k){return[{value:h},{value:rmax}]}numSpaces=Math.ceil(rmax/n)-Math.floor(h/n);if(numSpaces>g){n=niceNum(numSpaces*n/g/f)*f}if(!isNullOrUndef(precision)){o=Math.pow(10,precision);n=Math.ceil(n*o)/o}niceMin=Math.floor(h/n)*n;niceMax=Math.ceil(rmax/n)*n;if(i&&k&&e&&almostWhole((max-min)/e,n/1000)){numSpaces=Math.min((max-min)/n,maxTicks);n=(max-min)/numSpaces;niceMin=min;niceMax=max}else if(l){niceMin=i?min:niceMin;niceMax=k?max:niceMax;numSpaces=count-1;n=(niceMax-niceMin)/numSpaces}else{numSpaces=(niceMax-niceMin)/n;if(almostEquals(numSpaces,Math.round(numSpaces),n/1000)){numSpaces=Math.round(numSpaces)}else{numSpaces=Math.ceil(numSpaces)}}o=Math.pow(10,isNullOrUndef(precision)?_decimalPlaces(n):precision);niceMin=Math.round(niceMin*o)/o;niceMax=Math.round(niceMax*o)/o;var j=0;if(i){c.push({value:min});if(niceMin<=min){j++}if(almostEquals(Math.round((niceMin+j*n)*o)/o,min,m*(horizontal?(''+min).length:1))){j++}}for(;j<numSpaces;++j){c.push({value:Math.round((niceMin+j*n)*o)/o})}if(k){if(almostEquals(c[c.length-1].value,max,m*(horizontal?(''+max).length:1))){c[c.length-1].value=max}else{c.push({value:max})}}else{c.push({value:niceMax})}return c}var dA=function(i){_inherits(dA,i);var j=_createSuper(dA);function dA(a){var b;_classCallCheck(this,dA);b=j.call(this,a);b.start=undefined;b.end=undefined;b._startValue=undefined;b._endValue=undefined;b._valueRange=0;return b}_createClass(dA,[{key:"parse",value:function parse(a,b){if(isNullOrUndef(a)){return null}if((typeof a==='number'||a instanceof Number)&&!isFinite(+a)){return null}return+a}},{key:"handleTickRangeOptions",value:function handleTickRangeOptions(){var a=this;var b=a.options,beginAtZero=b.beginAtZero,stacked=b.stacked;var c=a.getUserBounds(),minDefined=c.minDefined,maxDefined=c.maxDefined;var d=a.min,max=a.max;var e=function e(v){return d=minDefined?d:v};var f=function f(v){return max=maxDefined?max:v};if(beginAtZero||stacked){var g=bA(d);var h=bA(max);if(g<0&&h<0){f(0)}else if(g>0&&h>0){e(0)}}if(d===max){f(max+1);if(!beginAtZero){e(d-1)}}a.min=d;a.max=max}},{key:"getTickLimit",value:function getTickLimit(){var a=this;var b=a.options.ticks;var c=b.maxTicksLimit,stepSize=b.stepSize;var d;if(stepSize){d=Math.ceil(a.max/stepSize)-Math.floor(a.min/stepSize)+1}else{d=a.computeTickLimit();c=c||11}if(c){d=Math.min(c,d)}return d}},{key:"computeTickLimit",value:function computeTickLimit(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function buildTicks(){var a=this;var b=a.options;var c=b.ticks;var d=a.getTickLimit();d=Math.max(2,d);var e={maxTicks:d,min:b.min,max:b.max,precision:c.precision,step:c.stepSize,count:c.count,maxDigits:a._maxDigits(),horizontal:a.isHorizontal()};var f=a._range||a;var g=generateTicks$1(e,f);if(b.bounds==='ticks'){_setMinAndMaxByKey(g,a,'value')}if(b.reverse){g.reverse();a.start=a.max;a.end=a.min}else{a.start=a.min;a.end=a.max}return g}},{key:"configure",value:function configure(){var a=this;var b=a.ticks;var c=a.min;var d=a.max;_get2(_getPrototypeOf(dA.prototype),"configure",this).call(this);if(a.options.offset&&b.length){var e=(d-c)/Math.max(b.length-1,1)/2;c-=e;d+=e}a._startValue=c;a._endValue=d;a._valueRange=d-c}},{key:"getLabelForValue",value:function getLabelForValue(a){return formatNumber(a,this.chart.options.locale)}}]);return dA}(ct);var dB=function(c){_inherits(dB,c);var d=_createSuper(dB);function dB(){_classCallCheck(this,dB);return d.apply(this,arguments)}_createClass(dB,[{key:"determineDataLimits",value:function determineDataLimits(){var a=this;var b=a.getMinMax(true),min=b.min,max=b.max;a.min=bf(min)?min:0;a.max=bf(max)?max:1;a.handleTickRangeOptions()}},{key:"computeTickLimit",value:function computeTickLimit(){var a=this;if(a.isHorizontal()){return Math.ceil(a.width/40)}var b=a._resolveTickFontOptions(0);return Math.ceil(a.height/b.lineHeight)}},{key:"getPixelForValue",value:function getPixelForValue(a){return a===null?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function getValueForPixel(a){return this._startValue+this.getDecimalForPixel(a)*this._valueRange}}]);return dB}(dA);dB.id='linear';dB.defaults={ticks:{callback:cq.formatters.numeric}};function isMajor(a){var b=a/Math.pow(10,Math.floor(bz(a)));return b===1}function generateTicks(a,b){var c=Math.floor(bz(b.max));var d=Math.ceil(b.max/Math.pow(10,c));var e=[];var f=finiteOrDefault(a.min,Math.pow(10,Math.floor(bz(b.min))));var g=Math.floor(bz(f));var h=Math.floor(f/Math.pow(10,g));var i=g<0?Math.pow(10,Math.abs(g)):1;do{e.push({value:f,major:isMajor(f)});++h;if(h===10){h=1;++g;i=g>=0?1:i}f=Math.round(h*Math.pow(10,g)*i)/i}while(g<c||g===c&&h<d);var j=finiteOrDefault(a.max,f);e.push({value:j,major:isMajor(f)});return e}var dC=function(h){_inherits(dC,h);var i=_createSuper(dC);function dC(a){var b;_classCallCheck(this,dC);b=i.call(this,a);b.start=undefined;b.end=undefined;b._startValue=undefined;b._valueRange=0;return b}_createClass(dC,[{key:"parse",value:function parse(a,b){var c=dA.prototype.parse.apply(this,[a,b]);if(c===0){this._zero=true;return undefined}return bf(c)&&c>0?c:null}},{key:"determineDataLimits",value:function determineDataLimits(){var a=this;var b=a.getMinMax(true),min=b.min,max=b.max;a.min=bf(min)?Math.max(0,min):null;a.max=bf(max)?Math.max(0,max):null;if(a.options.beginAtZero){a._zero=true}a.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function handleTickRangeOptions(){var a=this;var b=a.getUserBounds(),minDefined=b.minDefined,maxDefined=b.maxDefined;var c=a.min;var d=a.max;var e=function e(v){return c=minDefined?c:v};var f=function f(v){return d=maxDefined?d:v};var g=function g(v,m){return Math.pow(10,Math.floor(bz(v))+m)};if(c===d){if(c<=0){e(1);f(10)}else{e(g(c,-1));f(g(d,+1))}}if(c<=0){e(g(d,-1))}if(d<=0){f(g(c,+1))}if(a._zero&&a.min!==a._suggestedMin&&c===g(a.min,0)){e(g(c,-1))}a.min=c;a.max=d}},{key:"buildTicks",value:function buildTicks(){var a=this;var b=a.options;var c={min:a._userMin,max:a._userMax};var d=generateTicks(c,a);if(b.bounds==='ticks'){_setMinAndMaxByKey(d,a,'value')}if(b.reverse){d.reverse();a.start=a.max;a.end=a.min}else{a.start=a.min;a.end=a.max}return d}},{key:"getLabelForValue",value:function getLabelForValue(a){return a===undefined?'0':formatNumber(a,this.chart.options.locale)}},{key:"configure",value:function configure(){var a=this;var b=a.min;_get2(_getPrototypeOf(dC.prototype),"configure",this).call(this);a._startValue=bz(b);a._valueRange=bz(a.max)-bz(b)}},{key:"getPixelForValue",value:function getPixelForValue(a){var b=this;if(a===undefined||a===0){a=b.min}if(a===null||isNaN(a)){return NaN}return b.getPixelForDecimal(a===b.min?0:(bz(a)-b._startValue)/b._valueRange)}},{key:"getValueForPixel",value:function getValueForPixel(a){var b=this;var c=b.getDecimalForPixel(a);return Math.pow(10,b._startValue+c*b._valueRange)}}]);return dC}(ct);dC.id='logarithmic';dC.defaults={ticks:{callback:cq.formatters.logarithmic,major:{enabled:true}}};function getTickBackdropHeight(a){var b=a.ticks;if(b.display&&a.display){var c=toPadding(b.backdropPadding);return valueOrDefault(b.font&&b.font.size,bq.font.size)+c.height}return 0}function measureLabelSize(a,b,c){if(isArray(c)){return{w:_longestText(a,a.font,c),h:c.length*b}}return{w:a.measureText(c).width,h:b}}function determineLimits(a,b,c,d,e){if(a===d||a===e){return{start:b-c/2,end:b+c/2}}else if(a<d||a>e){return{start:b-c,end:b}}return{start:b,end:b+c}}function fitWithPointLabels(a){var b={l:0,r:a.width,t:0,b:a.height-a.paddingTop};var c={};var i,textSize,pointPosition;var d=[];var e=[];var f=a.getLabels().length;for(i=0;i<f;i++){var g=a.options.pointLabels.setContext(a.getContext(i));e[i]=g.padding;pointPosition=a.getPointPosition(i,a.drawingArea+e[i]);var h=toFont(g.font);a.ctx.font=h.string;textSize=measureLabelSize(a.ctx,h.lineHeight,a._pointLabels[i]);d[i]=textSize;var j=a.getIndexAngle(i);var k=toDegrees(j);var l=determineLimits(k,pointPosition.x,textSize.w,0,180);var m=determineLimits(k,pointPosition.y,textSize.h,90,270);if(l.start<b.l){b.l=l.start;c.l=j}if(l.end>b.r){b.r=l.end;c.r=j}if(m.start<b.t){b.t=m.start;c.t=j}if(m.end>b.b){b.b=m.end;c.b=j}}a._setReductions(a.drawingArea,b,c);a._pointLabelItems=[];var n=a.options;var o=getTickBackdropHeight(n);var p=a.getDistanceFromCenterForValue(n.ticks.reverse?a.min:a.max);for(i=0;i<f;i++){var q=i===0?o/2:0;var r=a.getPointPosition(i,p+q+e[i]);var s=toDegrees(a.getIndexAngle(i));var t=d[i];adjustPointPositionForLabelHeight(s,t,r);var u=getTextAlignForAngle(s);var v=void 0;if(u==='left'){v=r.x}else if(u==='center'){v=r.x-t.w/2}else{v=r.x-t.w}var w=v+t.w;a._pointLabelItems[i]={x:r.x,y:r.y,textAlign:u,left:v,top:r.y,right:w,bottom:r.y+t.h}}}function getTextAlignForAngle(a){if(a===0||a===180){return'center'}else if(a<180){return'left'}return'right'}function adjustPointPositionForLabelHeight(a,b,c){if(a===90||a===270){c.y-=b.h/2}else if(a>270||a<90){c.y-=b.h}}function drawPointLabels(a,b){var c=a.ctx,pointLabels=a.options.pointLabels;for(var i=b-1;i>=0;i--){var d=pointLabels.setContext(a.getContext(i));var e=toFont(d.font);var f=a._pointLabelItems[i],x=f.x,y=f.y,textAlign=f.textAlign,left=f.left,top=f.top,right=f.right,bottom=f.bottom;var g=d.backdropColor;if(!isNullOrUndef(g)){var h=toPadding(d.backdropPadding);c.fillStyle=g;c.fillRect(left-h.left,top-h.top,right-left+h.width,bottom-top+h.height)}renderText(c,a._pointLabels[i],x,y+e.lineHeight/2,e,{color:d.color,textAlign:textAlign,textBaseline:'middle'})}}function pathRadiusLine(a,b,c,d){var e=a.ctx;if(c){e.arc(a.xCenter,a.yCenter,b,0,bs)}else{var f=a.getPointPosition(0,b);e.moveTo(f.x,f.y);for(var i=1;i<d;i++){f=a.getPointPosition(i,b);e.lineTo(f.x,f.y)}}}function drawRadiusLine(a,b,c,d){var e=a.ctx;var f=b.circular;var g=b.color,lineWidth=b.lineWidth;if(!f&&!d||!g||!lineWidth||c<0){return}e.save();e.strokeStyle=g;e.lineWidth=lineWidth;e.setLineDash(b.borderDash);e.lineDashOffset=b.borderDashOffset;e.beginPath();pathRadiusLine(a,c,f,d);e.closePath();e.stroke();e.restore()}function numberOrZero(a){return isNumber(a)?a:0}var dD=function(l){_inherits(dD,l);var m=_createSuper(dD);function dD(a){var b;_classCallCheck(this,dD);b=m.call(this,a);b.xCenter=undefined;b.yCenter=undefined;b.drawingArea=undefined;b._pointLabels=[];b._pointLabelItems=[];return b}_createClass(dD,[{key:"setDimensions",value:function setDimensions(){var a=this;a.width=a.maxWidth;a.height=a.maxHeight;a.paddingTop=getTickBackdropHeight(a.options)/2;a.xCenter=Math.floor(a.width/2);a.yCenter=Math.floor((a.height-a.paddingTop)/2);a.drawingArea=Math.min(a.height-a.paddingTop,a.width)/2}},{key:"determineDataLimits",value:function determineDataLimits(){var a=this;var b=a.getMinMax(false),min=b.min,max=b.max;a.min=bf(min)&&!isNaN(min)?min:0;a.max=bf(max)&&!isNaN(max)?max:0;a.handleTickRangeOptions()}},{key:"computeTickLimit",value:function computeTickLimit(){return Math.ceil(this.drawingArea/getTickBackdropHeight(this.options))}},{key:"generateTickLabels",value:function generateTickLabels(d){var e=this;dA.prototype.generateTickLabels.call(e,d);e._pointLabels=e.getLabels().map(function(a,b){var c=callback(e.options.pointLabels.callback,[a,b],e);return c||c===0?c:''})}},{key:"fit",value:function fit(){var a=this;var b=a.options;if(b.display&&b.pointLabels.display){fitWithPointLabels(a)}else{a.setCenterPoint(0,0,0,0)}}},{key:"_setReductions",value:function _setReductions(a,b,c){var d=this;var e=b.l/Math.sin(c.l);var f=Math.max(b.r-d.width,0)/Math.sin(c.r);var g=-b.t/Math.cos(c.t);var h=-Math.max(b.b-(d.height-d.paddingTop),0)/Math.cos(c.b);e=numberOrZero(e);f=numberOrZero(f);g=numberOrZero(g);h=numberOrZero(h);d.drawingArea=Math.max(a/2,Math.min(Math.floor(a-(e+f)/2),Math.floor(a-(g+h)/2)));d.setCenterPoint(e,f,g,h)}},{key:"setCenterPoint",value:function setCenterPoint(a,b,c,d){var e=this;var f=e.width-b-e.drawingArea;var g=a+e.drawingArea;var h=c+e.drawingArea;var i=e.height-e.paddingTop-d-e.drawingArea;e.xCenter=Math.floor((g+f)/2+e.left);e.yCenter=Math.floor((h+i)/2+e.top+e.paddingTop)}},{key:"getIndexAngle",value:function getIndexAngle(a){var b=bs/this.getLabels().length;var c=this.options.startAngle||0;return _normalizeAngle(a*b+toRadians(c))}},{key:"getDistanceFromCenterForValue",value:function getDistanceFromCenterForValue(a){var b=this;if(isNullOrUndef(a)){return NaN}var c=b.drawingArea/(b.max-b.min);if(b.options.reverse){return(b.max-a)*c}return(a-b.min)*c}},{key:"getValueForDistanceFromCenter",value:function getValueForDistanceFromCenter(a){if(isNullOrUndef(a)){return NaN}var b=this;var c=a/(b.drawingArea/(b.max-b.min));return b.options.reverse?b.max-c:b.min+c}},{key:"getPointPosition",value:function getPointPosition(a,b){var c=this;var d=c.getIndexAngle(a)-bw;return{x:Math.cos(d)*b+c.xCenter,y:Math.sin(d)*b+c.yCenter,angle:d}}},{key:"getPointPositionForValue",value:function getPointPositionForValue(a,b){return this.getPointPosition(a,this.getDistanceFromCenterForValue(b))}},{key:"getBasePosition",value:function getBasePosition(a){return this.getPointPositionForValue(a||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function getPointLabelPosition(a){var b=this._pointLabelItems[a],left=b.left,top=b.top,right=b.right,bottom=b.bottom;return{left:left,top:top,right:right,bottom:bottom}}},{key:"drawBackground",value:function drawBackground(){var a=this;var b=a.options,backgroundColor=b.backgroundColor,circular=b.grid.circular;if(backgroundColor){var c=a.ctx;c.save();c.beginPath();pathRadiusLine(a,a.getDistanceFromCenterForValue(a._endValue),circular,a.getLabels().length);c.closePath();c.fillStyle=backgroundColor;c.fill();c.restore()}}},{key:"drawGrid",value:function drawGrid(){var d=this;var e=d.ctx;var f=d.options;var g=f.angleLines,grid=f.grid;var h=d.getLabels().length;var i,offset,position;if(f.pointLabels.display){drawPointLabels(d,h)}if(grid.display){d.ticks.forEach(function(a,b){if(b!==0){offset=d.getDistanceFromCenterForValue(a.value);var c=grid.setContext(d.getContext(b-1));drawRadiusLine(d,c,offset,h)}})}if(g.display){e.save();for(i=d.getLabels().length-1;i>=0;i--){var j=g.setContext(d.getContext(i));var k=j.color,lineWidth=j.lineWidth;if(!lineWidth||!k){continue}e.lineWidth=lineWidth;e.strokeStyle=k;e.setLineDash(j.borderDash);e.lineDashOffset=j.borderDashOffset;offset=d.getDistanceFromCenterForValue(f.ticks.reverse?d.min:d.max);position=d.getPointPosition(i,offset);e.beginPath();e.moveTo(d.xCenter,d.yCenter);e.lineTo(position.x,position.y);e.stroke()}e.restore()}}},{key:"drawBorder",value:function drawBorder(){}},{key:"drawLabels",value:function drawLabels(){var f=this;var g=f.ctx;var h=f.options;var i=h.ticks;if(!i.display){return}var j=f.getIndexAngle(0);var k,width;g.save();g.translate(f.xCenter,f.yCenter);g.rotate(j);g.textAlign='center';g.textBaseline='middle';f.ticks.forEach(function(a,b){if(b===0&&!h.reverse){return}var c=i.setContext(f.getContext(b));var d=toFont(c.font);k=f.getDistanceFromCenterForValue(f.ticks[b].value);if(c.showLabelBackdrop){width=g.measureText(a.label).width;g.fillStyle=c.backdropColor;var e=toPadding(c.backdropPadding);g.fillRect(-width/2-e.left,-k-d.size/2-e.top,width+e.width,d.size+e.height)}renderText(g,a.label,0,-k,d,{color:c.color})});g.restore()}},{key:"drawTitle",value:function drawTitle(){}}]);return dD}(dA);dD.id='radialLinear';dD.defaults={display:true,animate:true,position:'chartArea',angleLines:{display:true,lineWidth:1,borderDash:[],borderDashOffset:0.0},grid:{circular:false},startAngle:0,ticks:{showLabelBackdrop:true,callback:cq.formatters.numeric},pointLabels:{backdropColor:undefined,backdropPadding:2,display:true,font:{size:10},callback:function callback(a){return a},padding:5}};dD.defaultRoutes={'angleLines.color':'borderColor','pointLabels.color':'color','ticks.color':'color'};dD.descriptors={angleLines:{_fallback:'grid'}};var dE={millisecond:{common:true,size:1,steps:1000},second:{common:true,size:1000,steps:60},minute:{common:true,size:60000,steps:60},hour:{common:true,size:3600000,steps:24},day:{common:true,size:86400000,steps:30},week:{common:false,size:604800000,steps:4},month:{common:true,size:2.628e9,steps:12},quarter:{common:false,size:7.884e9,steps:4},year:{common:true,size:3.154e10}};var dF=Object.keys(dE);function sorter(a,b){return a-b}function _parse(a,b){if(isNullOrUndef(b)){return null}var c=a._adapter;var d=a._parseOpts,parser=d.parser,round=d.round,isoWeekday=d.isoWeekday;var e=b;if(typeof parser==='function'){e=parser(e)}if(!bf(e)){e=typeof parser==='string'?c.parse(e,parser):c.parse(e)}if(e===null){return null}if(round){e=round==='week'&&(isNumber(isoWeekday)||isoWeekday===true)?c.startOf(e,'isoWeek',isoWeekday):c.startOf(e,round)}return+e}function determineUnitForAutoTicks(a,b,c,d){var e=dF.length;for(var i=dF.indexOf(a);i<e-1;++i){var f=dE[dF[i]];var g=f.steps?f.steps:Number.MAX_SAFE_INTEGER;if(f.common&&Math.ceil((c-b)/(g*f.size))<=d){return dF[i]}}return dF[e-1]}function determineUnitForFormatting(a,b,c,d,e){for(var i=dF.length-1;i>=dF.indexOf(c);i--){var f=dF[i];if(dE[f].common&&a._adapter.diff(e,d,f)>=b-1){return f}}return dF[c?dF.indexOf(c):0]}function determineMajorUnit(a){for(var i=dF.indexOf(a)+1,ilen=dF.length;i<ilen;++i){if(dE[dF[i]].common){return dF[i]}}}function addTick(a,b,c){if(!c){a[b]=true}else if(c.length){var d=_lookup(c,b),lo=d.lo,hi=d.hi;var e=c[lo]>=b?c[lo]:c[hi];a[e]=true}}function setMajorTicks(a,b,c,d){var e=a._adapter;var f=+e.startOf(b[0].value,d);var g=b[b.length-1].value;var h,index;for(h=f;h<=g;h=+e.add(h,1,d)){index=c[h];if(index>=0){b[index].major=true}}return b}function ticksFromTimestamps(a,b,c){var d=[];var e={};var f=b.length;var i,value;for(i=0;i<f;++i){value=b[i];e[value]=i;d.push({value:value,major:false})}return f===0||!c?d:setMajorTicks(a,d,e,c)}var dG=function(q){_inherits(dG,q);var r=_createSuper(dG);function dG(a){var b;_classCallCheck(this,dG);b=r.call(this,a);b._cache={data:[],labels:[],all:[]};b._unit='day';b._majorUnit=undefined;b._offsets={};b._normalized=false;b._parseOpts=undefined;return b}_createClass(dG,[{key:"init",value:function init(a,b){var c=a.time||(a.time={});var d=this._adapter=new cS._date(a.adapters.date);mergeIf(c.displayFormats,d.formats());this._parseOpts={parser:c.parser,round:c.round,isoWeekday:c.isoWeekday};_get2(_getPrototypeOf(dG.prototype),"init",this).call(this,a);this._normalized=b.normalized}},{key:"parse",value:function parse(a,b){if(a===undefined){return null}return _parse(this,a)}},{key:"beforeLayout",value:function beforeLayout(){_get2(_getPrototypeOf(dG.prototype),"beforeLayout",this).call(this);this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function determineDataLimits(){var b=this;var c=b.options;var d=b._adapter;var e=c.time.unit||'day';var f=b.getUserBounds(),min=f.min,max=f.max,minDefined=f.minDefined,maxDefined=f.maxDefined;function _applyBounds(a){if(!minDefined&&!isNaN(a.min)){min=Math.min(min,a.min)}if(!maxDefined&&!isNaN(a.max)){max=Math.max(max,a.max)}}if(!minDefined||!maxDefined){_applyBounds(b._getLabelBounds());if(c.bounds!=='ticks'||c.ticks.source!=='labels'){_applyBounds(b.getMinMax(false))}}min=bf(min)&&!isNaN(min)?min:+d.startOf(Date.now(),e);max=bf(max)&&!isNaN(max)?max:+d.endOf(Date.now(),e)+1;b.min=Math.min(min,max-1);b.max=Math.max(min+1,max)}},{key:"_getLabelBounds",value:function _getLabelBounds(){var a=this.getLabelTimestamps();var b=Number.POSITIVE_INFINITY;var c=Number.NEGATIVE_INFINITY;if(a.length){b=a[0];c=a[a.length-1]}return{min:b,max:c}}},{key:"buildTicks",value:function buildTicks(){var a=this;var b=a.options;var c=b.time;var d=b.ticks;var e=d.source==='labels'?a.getLabelTimestamps():a._generate();if(b.bounds==='ticks'&&e.length){a.min=a._userMin||e[0];a.max=a._userMax||e[e.length-1]}var f=a.min;var g=a.max;var h=_filterBetween(e,f,g);a._unit=c.unit||(d.autoSkip?determineUnitForAutoTicks(c.minUnit,a.min,a.max,a._getLabelCapacity(f)):determineUnitForFormatting(a,h.length,c.minUnit,a.min,a.max));a._majorUnit=!d.major.enabled||a._unit==='year'?undefined:determineMajorUnit(a._unit);a.initOffsets(e);if(b.reverse){h.reverse()}return ticksFromTimestamps(a,h,a._majorUnit)}},{key:"initOffsets",value:function initOffsets(a){var b=this;var c=0;var d=0;var e,last;if(b.options.offset&&a.length){e=b.getDecimalForValue(a[0]);if(a.length===1){c=1-e}else{c=(b.getDecimalForValue(a[1])-e)/2}last=b.getDecimalForValue(a[a.length-1]);if(a.length===1){d=last}else{d=(last-b.getDecimalForValue(a[a.length-2]))/2}}var f=a.length<3?0.5:0.25;c=_limitValue(c,0,f);d=_limitValue(d,0,f);b._offsets={start:c,end:d,factor:1/(c+1+d)}}},{key:"_generate",value:function _generate(){var c=this;var d=c._adapter;var e=c.min;var f=c.max;var g=c.options;var h=g.time;var i=h.unit||determineUnitForAutoTicks(h.minUnit,e,f,c._getLabelCapacity(e));var j=valueOrDefault(h.stepSize,1);var k=i==='week'?h.isoWeekday:false;var l=isNumber(k)||k===true;var m={};var n=e;var o,count;if(l){n=+d.startOf(n,'isoWeek',k)}n=+d.startOf(n,l?'day':i);if(d.diff(f,e,i)>100000*j){throw new Error(e+' and '+f+' are too far apart with stepSize of '+j+' '+i);}var p=g.ticks.source==='data'&&c.getDataTimestamps();for(o=n,count=0;o<f;o=+d.add(o,j,i),count++){addTick(m,o,p)}if(o===f||g.bounds==='ticks'||count===1){addTick(m,o,p)}return Object.keys(m).sort(function(a,b){return a-b}).map(function(x){return+x})}},{key:"getLabelForValue",value:function getLabelForValue(a){var b=this;var c=b._adapter;var d=b.options.time;if(d.tooltipFormat){return c.format(a,d.tooltipFormat)}return c.format(a,d.displayFormats.datetime)}},{key:"_tickFormatFunction",value:function _tickFormatFunction(a,b,c,d){var e=this;var f=e.options;var g=f.time.displayFormats;var h=e._unit;var i=e._majorUnit;var j=h&&g[h];var k=i&&g[i];var l=c[b];var m=i&&k&&l&&l.major;var n=e._adapter.format(a,d||(m?k:j));var o=f.ticks.callback;return o?callback(o,[n,b,c],e):n}},{key:"generateTickLabels",value:function generateTickLabels(a){var i,ilen,tick;for(i=0,ilen=a.length;i<ilen;++i){tick=a[i];tick.label=this._tickFormatFunction(tick.value,i,a)}}},{key:"getDecimalForValue",value:function getDecimalForValue(a){var b=this;return a===null?NaN:(a-b.min)/(b.max-b.min)}},{key:"getPixelForValue",value:function getPixelForValue(a){var b=this;var c=b._offsets;var d=b.getDecimalForValue(a);return b.getPixelForDecimal((c.start+d)*c.factor)}},{key:"getValueForPixel",value:function getValueForPixel(a){var b=this;var c=b._offsets;var d=b.getDecimalForPixel(a)/c.factor-c.end;return b.min+d*(b.max-b.min)}},{key:"_getLabelSize",value:function _getLabelSize(a){var b=this;var c=b.options.ticks;var d=b.ctx.measureText(a).width;var e=toRadians(b.isHorizontal()?c.maxRotation:c.minRotation);var f=Math.cos(e);var g=Math.sin(e);var h=b._resolveTickFontOptions(0).size;return{w:d*f+h*g,h:d*g+h*f}}},{key:"_getLabelCapacity",value:function _getLabelCapacity(a){var b=this;var c=b.options.time;var d=c.displayFormats;var e=d[c.unit]||d.millisecond;var f=b._tickFormatFunction(a,0,ticksFromTimestamps(b,[a],b._majorUnit),e);var g=b._getLabelSize(f);var h=Math.floor(b.isHorizontal()?b.width/g.w:b.height/g.h)-1;return h>0?h:1}},{key:"getDataTimestamps",value:function getDataTimestamps(){var a=this;var b=a._cache.data||[];var i,ilen;if(b.length){return b}var c=a.getMatchingVisibleMetas();if(a._normalized&&c.length){return a._cache.data=c[0].controller.getAllParsedValues(a)}for(i=0,ilen=c.length;i<ilen;++i){b=b.concat(c[i].controller.getAllParsedValues(a))}return a._cache.data=a.normalize(b)}},{key:"getLabelTimestamps",value:function getLabelTimestamps(){var a=this;var b=a._cache.labels||[];var i,ilen;if(b.length){return b}var c=a.getLabels();for(i=0,ilen=c.length;i<ilen;++i){b.push(_parse(a,c[i]))}return a._cache.labels=a._normalized?b:a.normalize(b)}},{key:"normalize",value:function normalize(a){return _arrayUnique(a.sort(sorter))}}]);return dG}(ct);dG.id='time';dG.defaults={bounds:'data',adapters:{},time:{parser:false,unit:false,round:false,isoWeekday:false,minUnit:'millisecond',displayFormats:{}},ticks:{source:'auto',major:{enabled:false}}};function interpolate(a,b,c){var d,nextSource,prevTarget,nextTarget;if(c){d=Math.floor(b);nextSource=Math.ceil(b);prevTarget=a[d];nextTarget=a[nextSource]}else{var e=_lookup(a,b);prevTarget=e.lo;nextTarget=e.hi;d=a[prevTarget];nextSource=a[nextTarget]}var f=nextSource-d;return f?prevTarget+(nextTarget-prevTarget)*(b-d)/f:prevTarget}var dH=function(f){_inherits(dH,f);var g=_createSuper(dH);function dH(a){var b;_classCallCheck(this,dH);b=g.call(this,a);b._table=[];b._maxIndex=undefined;return b}_createClass(dH,[{key:"initOffsets",value:function initOffsets(){var a=this;var b=a._getTimestampsForTable();a._table=a.buildLookupTable(b);a._maxIndex=a._table.length-1;_get2(_getPrototypeOf(dH.prototype),"initOffsets",this).call(this,b)}},{key:"buildLookupTable",value:function buildLookupTable(a){var b=this;var c=b.min,max=b.max;if(!a.length){return[{time:c,pos:0},{time:max,pos:1}]}var d=[c];var i,ilen,curr;for(i=0,ilen=a.length;i<ilen;++i){curr=a[i];if(curr>c&&curr<max){d.push(curr)}}d.push(max);return d}},{key:"_getTimestampsForTable",value:function _getTimestampsForTable(){var a=this;var b=a._cache.all||[];if(b.length){return b}var c=a.getDataTimestamps();var d=a.getLabelTimestamps();if(c.length&&d.length){b=a.normalize(c.concat(d))}else{b=c.length?c:d}b=a._cache.all=b;return b}},{key:"getPixelForValue",value:function getPixelForValue(a,b){var c=this;var d=c._offsets;var e=c._normalized&&c._maxIndex>0&&!isNullOrUndef(b)?b/c._maxIndex:c.getDecimalForValue(a);return c.getPixelForDecimal((d.start+e)*d.factor)}},{key:"getDecimalForValue",value:function getDecimalForValue(a){return interpolate(this._table,a)/this._maxIndex}},{key:"getValueForPixel",value:function getValueForPixel(a){var b=this;var c=b._offsets;var d=b.getDecimalForPixel(a)/c.factor-c.end;return interpolate(b._table,d*this._maxIndex,true)}}]);return dH}(dG);dH.id='timeseries';dH.defaults=dG.defaults;var dI=Object.freeze({__proto__:null,CategoryScale:dz,LinearScale:dB,LogarithmicScale:dC,RadialLinearScale:dD,TimeScale:dG,TimeSeriesScale:dH});cO.register(db,dI,dh,dw);cO.helpers=_objectSpread({},cB);cO._adapters=cS;cO.Animation=cf;cO.Animations=cj;cO.animator=Q;cO.controllers=cE.controllers.items;cO.DatasetController=cm;cO.Element=cn;cO.elements=dh;cO.Interaction=bJ;cO.layouts=bO;cO.platforms=bY;cO.Scale=ct;cO.Ticks=cq;Object.assign(cO,db,dI,dh,dw,bY);cO.Chart=cO;if(typeof window!=='undefined'){window.Chart=cO}return cO});
